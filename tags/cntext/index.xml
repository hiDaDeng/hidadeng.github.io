<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>cntext on å¤§é‚“å’Œä»–çš„PYTHON</title>
    <link>/tags/cntext/</link>
    <description>Recent content in cntext on å¤§é‚“å’Œä»–çš„PYTHON</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Tue, 09 Sep 2025 00:00:00 +0000</lastBuildDate><atom:link href="/tags/cntext/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>èµ„æº | ä¸­æ–‡ GloVe&amp;Word2Vec è¯å‘é‡æ¨¡å‹åˆ—è¡¨</title>
      <link>https://textdata.cn/blog/2025-04-18-chinese-pretrained-word-embeddings/</link>
      <pubDate>Fri, 18 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-04-18-chinese-pretrained-word-embeddings/</guid>
      <description>ä¸­æ–‡è¯­æ–™é¢„è®­ç»ƒæ¨¡å‹åˆ—è¡¨ï¼Œ ä½¿ç”¨ cntext2.x è®­ç»ƒå‡ºçš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œ ä¸»è¦åˆ† GloVe å’Œ Word2Vec ä¸¤ç§ã€‚</description>
      <content:encoded><![CDATA[<p>ä¸­æ–‡è¯­æ–™é¢„è®­ç»ƒæ¨¡å‹åˆ—è¡¨ï¼Œ ä½¿ç”¨ cntext2.x è®­ç»ƒå‡ºçš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œ ä¸»è¦åˆ† GloVe å’Œ Word2Vec ä¸¤ç§ã€‚</p>
<br>
<h2 id="ä¸€ä¸­æ–‡é¢„è®­ç»ƒæ¨¡å‹">ä¸€ã€ä¸­æ–‡é¢„è®­ç»ƒæ¨¡å‹</h2>
<p>ä½¿ç”¨ <a href="https://cntext.readthedocs.io/zh-cn/latest/intro.html">cntext2.x</a> è®­ç»ƒå¾—åˆ°çš„ä¸­æ–‡é¢„è®­ç»ƒæ¨¡å‹èµ„æºï¼Œæ±‡æ€»å¦‚ä¸‹</p>
<p>å¯¹ä¸­æ–‡è¯­æ–™è¿›è¡Œäº†è¿‘ä¹‰æµ‹è¯•å’Œç±»æ¯”æµ‹è¯•ï¼Œ å…¶ä¸­æ–¯çš®å°”æ›¼ç§©ç³»æ•°(Spearman&rsquo;s Rank Coeficient) å–å€¼[-1,1], å–å€¼è¶Šå¤§è¡¨ç¤ºæ¨¡å‹è¶Šç¬¦åˆäººç±»çš„è®¤çŸ¥ã€‚</p>
<p>ç±»æ¯”æµ‹è¯•æœ‰é¦–éƒ½å›½å®¶ï¼ˆCapitalOfCountriesï¼‰ã€çœä¼šçœä»½ï¼ˆCityInProvinceï¼‰ã€å®¶äººå…³ç³»ï¼ˆFamilyRelationshipï¼‰ã€ç¤¾ä¼šç§‘å­¦(ç®¡ç†ã€ç»æµã€å¿ƒç†ç­‰ SocialScience) çš„ç±»åˆ«å‡†ç¡®ç‡æµ‹è¯•ã€‚</p>
<br>
<table>
<thead>
<tr>
<th>æ•°æ®é›†</th>
<th>è¯å‘é‡</th>
<th>ç½‘ç›˜</th>
<th>æ–¯çš®å°”æ›¼ç§©ç³»æ•°</th>
<th>é¦–éƒ½å›½å®¶(%)</th>
<th>çœä¼šçœä»½(%)</th>
<th>å®¶äººå…³ç³»(%)</th>
<th>ç¤¾ä¼šç§‘å­¦(%)</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://textdata.cn/blog/2023-12-17-gov-anual-report-dataset/">ä¸­å›½æ”¿åºœå·¥ä½œæŠ¥å‘Š</a></td>
<td><strong><em>äººæ°‘æ”¿åºœ(å›½çœå¸‚)å·¥ä½œæŠ¥å‘Š-GloVe.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1IdK8RU9L8mp6I2nhcoSmyA?pwd=ht2s">https://pan.baidu.com/s/1IdK8RU9L8mp6I2nhcoSmyA?pwd=ht2s</a></td>
<td>0.38</td>
<td>30.73</td>
<td>98.86</td>
<td>0.00</td>
<td>0.00</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-12-17-gov-anual-report-dataset/">ä¸­å›½æ”¿åºœå·¥ä½œæŠ¥å‘Š</a></td>
<td><strong><em>äººæ°‘æ”¿åºœ(å›½çœå¸‚)å·¥ä½œæŠ¥å‘Š-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1GoTjMbUcYS4jN6w4GqlqBA?pwd=qb5b">https://pan.baidu.com/s/1GoTjMbUcYS4jN6w4GqlqBA?pwd=qb5b</a></td>
<td>0.35</td>
<td>30.06</td>
<td>96.00</td>
<td>0.00</td>
<td>16.67</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-05-07-china-law-judgment-documents-datasets/">ä¸­å›½è£åˆ¤æ–‡ä¹¦ç½‘</a></td>
<td><strong><em>è£åˆ¤æ–‡ä¹¦-GloVe.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1a0Fisvnkl8UaQZrHP7olCQ?pwd=8w49">https://pan.baidu.com/s/1a0Fisvnkl8UaQZrHP7olCQ?pwd=8w49</a></td>
<td>0.37</td>
<td>7.69</td>
<td>98.86</td>
<td>75.53</td>
<td>25.00</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-12-22-renmin-gov-leader-comment-board/">ç•™è¨€æ¿</a></td>
<td><strong><em>ç•™è¨€æ¿-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1n7vwCOBnrye1CYrt_IBqZA?pwd=9m42">https://pan.baidu.com/s/1n7vwCOBnrye1CYrt_IBqZA?pwd=9m42</a></td>
<td>0.45</td>
<td>19.33</td>
<td>100</td>
<td>61.40</td>
<td>20%</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-03-23-china-a-share-market-dataset-mda-from-01-to-21/">A è‚¡å¹´æŠ¥</a></td>
<td><strong><em>mda01-23-GloVe.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1vXvbomHjOaFBeEz7GV0R6A?pwd=y6hd">https://pan.baidu.com/s/1vXvbomHjOaFBeEz7GV0R6A?pwd=y6hd</a></td>
<td>0.34</td>
<td>78.13</td>
<td>100</td>
<td>0</td>
<td>37.50</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-03-23-china-a-share-market-dataset-mda-from-01-to-21/">A è‚¡å¹´æŠ¥</a></td>
<td><strong><em>mda01-23-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/11V1RyqH_cKE9eju0Mm-1TQ?pwd=kcwx">https://pan.baidu.com/s/11V1RyqH_cKE9eju0Mm-1TQ?pwd=kcwx</a></td>
<td>0.41</td>
<td>27.27</td>
<td>97.14</td>
<td>10</td>
<td>44.44</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2024-01-21-hk-stock-market-anual-report/">æ¸¯è‚¡å¹´æŠ¥</a></td>
<td><strong><em>è‹±æ–‡æ¸¯è‚¡å¹´æŠ¥-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1ISGAoZnA_1Ben6M2DCliOQ?pwd=nagx">https://pan.baidu.com/s/1ISGAoZnA_1Ben6M2DCliOQ?pwd=nagx</a></td>
<td>&mdash;</td>
<td>&mdash;</td>
<td>&mdash;</td>
<td>&mdash;</td>
<td>&mdash;</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2024-01-21-hk-stock-market-anual-report/">æ¸¯è‚¡å¹´æŠ¥</a></td>
<td><strong><em>ä¸­æ–‡æ¸¯è‚¡å¹´æŠ¥-Word2Vec.200.15.bin</em></strong></td>
<td>hhttps://pan.baidu.com/s/1smMcrPtIP8g635YABCodig?pwd=sjdj</td>
<td>0.35</td>
<td>25.20</td>
<td>79.43</td>
<td>18.59</td>
<td>25</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-12-14-daily-news-dataset/">äººæ°‘æ—¥æŠ¥</a></td>
<td><a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¹´ä»½ Word2Vec</a></td>
<td><a href="https://pan.baidu.com/s/1Ru_wxu9egsmhM7lATjSlgQ?pwd=bcea">https://pan.baidu.com/s/1Ru_wxu9egsmhM7lATjSlgQ?pwd=bcea</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-12-14-daily-news-dataset/">äººæ°‘æ—¥æŠ¥</a></td>
<td><a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯¹é½æ¨¡å‹ Aligned_Word2Vec</a></td>
<td><a href="https://pan.baidu.com/s/1IVgP0MyQpez0hpoJyEyFdA?pwd=7qsu">https://pan.baidu.com/s/1IVgP0MyQpez0hpoJyEyFdA?pwd=7qsu</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-04-13-3571w-patent-dataset-in-china-mainland/">ä¸“åˆ©ç”³è¯·</a></td>
<td><strong><em>ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1FHI_J7wU9eQGRckD12QB5g?pwd=6rr2">https://pan.baidu.com/s/1FHI_J7wU9eQGRckD12QB5g?pwd=6rr2</a></td>
<td>0.46</td>
<td>3.78</td>
<td>25.14</td>
<td>33.33</td>
<td>37.50</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä¸“åˆ©ç”³è¯·</a></td>
<td><strong><em>province_w2vs åˆ†çœä»½è®­ç»ƒè¯å‘é‡</em></strong></td>
<td><a href="https://pan.baidu.com/s/1eBFTIZcv2DWssLiaRnCqZQ?pwd=ikpu">https://pan.baidu.com/s/1eBFTIZcv2DWssLiaRnCqZQ?pwd=ikpu</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä¸“åˆ©ç”³è¯·</a></td>
<td><strong><em>year_w2vs åˆ†å¹´ä»½è®­ç»ƒè¯å‘é‡</em></strong></td>
<td><a href="https://pan.baidu.com/s/1lrVkML92cVJdHQa1HQyAwA?pwd=4gqa">https://pan.baidu.com/s/1lrVkML92cVJdHQa1HQyAwA?pwd=4gqa</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>å¤§ä¼—ç‚¹è¯„è¯„è®ºè¯­æ–™</td>
<td><strong><em>å¤§ä¼—ç‚¹è¯„-è¯„è®º-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/15He728XGzoXDFYrUWDTaqQ?pwd=eg6x">https://pan.baidu.com/s/15He728XGzoXDFYrUWDTaqQ?pwd=eg6x</a></td>
<td>0.34</td>
<td>50.31</td>
<td>89.71</td>
<td>70.00</td>
<td>0.00</td>
</tr>
<tr>
<td>ä¸­æ–‡æ­Œè¯</td>
<td><strong><em>ä¸­æ–‡æ­Œè¯-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1h1g1mOACmpCwn5pz8jR3vQ?pwd=ub2z">https://pan.baidu.com/s/1h1g1mOACmpCwn5pz8jR3vQ?pwd=ub2z</a></td>
<td>0.06</td>
<td>0.00</td>
<td>0.00</td>
<td>0.9</td>
<td>0.00</td>
</tr>
<tr>
<td>è‹±æ–‡æ­Œè¯</td>
<td><strong><em>è‹±æ–‡æ­Œè¯-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1ycy-BTSa8zqW_xbIoshy6Q?pwd=hu1v">https://pan.baidu.com/s/1ycy-BTSa8zqW_xbIoshy6Q?pwd=hu1v</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2025-03-05-consumer-complaint-dataset/">é»‘çŒ«æ¶ˆè´¹è€…æŠ•è¯‰</a></td>
<td><strong><em>æ¶ˆè´¹è€…é»‘çŒ«æŠ•è¯‰-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1FOI2BIVRojOswdKfqaNbsw?pwd=catc">https://pan.baidu.com/s/1FOI2BIVRojOswdKfqaNbsw?pwd=catc</a></td>
<td>0.32</td>
<td>16.18</td>
<td>68</td>
<td>28.57</td>
<td>0.00</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset">è±†ç“£å½±è¯„</a></td>
<td><strong><em>douban-movie-1000w-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1uq6Ti7HbEWyT4CgktKrMng?pwd=63jg">https://pan.baidu.com/s/1uq6Ti7HbEWyT4CgktKrMng?pwd=63jg</a></td>
<td>0.43</td>
<td>39.02</td>
<td>28.57</td>
<td>92.65</td>
<td>25.00</td>
</tr>
<tr>
<td><a href="https://textdata.cn/blog/2023-11-12-using-100m-bilibili-user-sign-data-to-training-word2vec">B ç«™</a></td>
<td><strong><em>B ç«™ç­¾å-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1OtBU9BzitcNxkmPzhzH6FQ?pwd=m3iv">https://pan.baidu.com/s/1OtBU9BzitcNxkmPzhzH6FQ?pwd=m3iv</a></td>
<td>0.34</td>
<td>25.56</td>
<td>33.71</td>
<td>44.17</td>
<td>0.00</td>
</tr>
<tr>
<td><a href="https://github.com/Viscount/IUI-Paper">B ç«™å¼¹å¹•</a></td>
<td><strong><em>B ç«™å¼¹å¹•-Word2Vec.200.15.bin</em></strong></td>
<td><a href="https://pan.baidu.com/s/1LNDLed5uP3KnUMmrKf_uhg?pwd=x4t8">https://pan.baidu.com/s/1LNDLed5uP3KnUMmrKf_uhg?pwd=x4t8</a></td>
<td>0.42</td>
<td>11.67</td>
<td>65.81</td>
<td>44.17</td>
<td>25.00</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<h2 id="äºŒcntext2x">äºŒã€cntext2.x</h2>
<p>cntext2.x æ˜¯ä¸­è‹±æ–‡æ–‡æœ¬åˆ†æåº“ï¼Œå†…ç½®æœ‰å¤šé‡è¯å…¸å’Œå¸¸ç”¨å‡½æ•°ã€‚ å¸¸è§çš„æ–‡æœ¬åˆ†æä»£ç è¡Œæ•°åœ¨æ•°åè¡Œï¼Œè€Œ cntext2.x åŠ›æ±‚å°†ä»£ç é‡æ§åˆ¶åœ¨ 2~5 è¡Œã€‚</p>
<h3 id="21-è®­ç»ƒæ¨¡å‹">2.1 è®­ç»ƒæ¨¡å‹</h3>
<p>è®­ç»ƒæ¨¡å‹æ­¥éª¤:</p>
<ol>
<li>æ„å»ºè¯­æ–™</li>
<li>è®­ç»ƒæ¨¡å‹</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># å¤§é‚“Mac 96Gå†…å­˜ï¼Œ 12æ ¸ä½¿ç”¨çš„ä»£ç ã€‚</span>
<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;ç•™è¨€æ¿.txt&#39;</span><span class="p">,</span>
                  <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                  <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                  <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                  <span class="n">chunksize</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span>
                  <span class="n">min_count</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/renmin_board_cache.txt Not Found or Empty, Preprocessing Corpus
Reading Preprocessed Corpus from output/renmin_board_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 2692 s.
Output Saved To: output/ç•™è¨€æ¿-Word2Vec.200.15.bin
</code></pre></div><br>
<p>cntext2.x è®­ç»ƒæ¨¡å‹çš„æ•™ç¨‹å¯å‚è€ƒ</p>
<ul>
<li><a href="https://textdata.cn/blog/2023-11-12-using-100m-bilibili-user-sign-data-to-training-word2vec/">ä½¿ç”¨ 1 äº¿ B ç«™ç”¨æˆ·ç­¾åè®­ç»ƒ word2vec è¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2023-11-10-training-word2vec-model-using-china-3751w-patent-application-dataset/">ä½¿ç”¨ 1985 å¹´-2025 å¹´ä¸“åˆ©ç”³è¯·æ‘˜è¦è®­ç»ƒ Word2Vec æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/">ä½¿ç”¨ MD&amp;A2001-2023 è¯­æ–™è®­ç»ƒ Word2Vec/GloVe æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2025-04-17-training-a-glove-model-using-china-judgements-corpus/">ä½¿ç”¨è£åˆ¤æ–‡ä¹¦è¯­æ–™è®­ç»ƒ GloVe è¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹</a></li>
</ul>
<br>
<h3 id="22-è¯„ä¼°æ¨¡å‹">2.2 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<br>
<p><strong>è¿‘ä¹‰æµ‹è¯•</strong></p>
<p>cntext2.x å†…ç½® 537 æ¡è¿‘ä¹‰å®éªŒæ•°æ®ï¼Œ å¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<p><img loading="lazy" src="img/01-similar.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">w2v</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   426    |    111     |            0.45            |
+----------+------------+----------------------------+
</code></pre></div><p>Spearmanâ€™s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚</p>
<br>
<p><strong>ç±»æ¯”æµ‹è¯•</strong></p>
<ul>
<li>é›…å…¸ä¹‹äºå¸Œè…Šï¼Œä¼¼å¦‚å·´æ ¼è¾¾ä¹‹äºä¼Šæ‹‰å…‹ã€‚</li>
<li>å“ˆå°”æ»¨ä¹‹äºé»‘é¾™æ±Ÿï¼Œä¼¼å¦‚é•¿æ²™ä¹‹äºæ¹–å—ã€‚</li>
<li>å›½ç‹ä¹‹äºç‹åï¼Œä¼¼å¦‚ç”·äººä¹‹äºå¥³äººã€‚</li>
</ul>
<p><img loading="lazy" src="img/02-analogy-woman.png" alt=""  />
</p>
<p>cntext2.x å†…ç½® 1194 æ¡ç±»æ¯”ï¼Œ æ ¼å¼å¦‚ä¸‹</p>
<p><img loading="lazy" src="img/03-analogy.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">wv</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   238    |    439     |   19.33    |   2.74   |
|   CityInProvince   |   175    |     0      |   100.00   |   1.01   |
| FamilyRelationship |   272    |     0      |   61.40    |   1.96   |
|   SocialScience    |    10    |     60     |   20.00    |   1.50   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><ul>
<li>CapitalOfCountries ç•™è¨€æ¿è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§å›½å®¶é¦–åº¦çš„æåŠè¾ƒå°‘ã€‚</li>
<li>CityInProvince ç•™è¨€æ¿è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¦‚æ­¤ä¼˜å¼‚ï¼Œåº”è¯¥æ˜¯è¯­æ–™ä¸­çœä»½ã€çœä¼šåœ°åŸŸè¯ç»å¸¸å‡ºç°ã€‚</li>
<li>FamilyRelationship ç•™è¨€æ¿ä¸­åº”è¯¥å°‘ä¸äº†å®¶é•¿é‡ŒçŸ­ï¼Œ æ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡è¿˜å¯ä»¥ã€‚ ä»¥<a href="https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/">å¹´æŠ¥ MD&amp;A</a>ä¸ºä¾‹ï¼Œæ­¤å¤„å‡†ç¡®ç‡åªæœ‰ 10%, è€Œ<a href="https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/">è±†ç“£å½±è¯„</a>è¯¥å¤„å‡†ç¡®ç‡é«˜è¾¾ 92.65%ã€‚</li>
<li>SocialScience ç•™è¨€æ¿è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰æ¨¡å‹ä½¿ç”¨">ä¸‰ã€æ¨¡å‹ä½¿ç”¨</h2>
<h3 id="31-è¯»å–æ¨¡å‹">3.1 è¯»å–æ¨¡å‹</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="n">ct</span>

<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/ç•™è¨€æ¿-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ç»´åº¦æ•°:&#39;</span><span class="p">,</span> <span class="n">w2v</span><span class="o">.</span><span class="n">vector_size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;è¯æ±‡é‡: &#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">w2v</span><span class="p">))</span>
<span class="n">w2v</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Loading output/ç•™è¨€æ¿-Word2Vec.200.15.bin...
ç»´åº¦æ•°: 200
è¯æ±‡é‡:  1050245
&lt;gensim.models.keyedvectors.KeyedVectors at 0x328d737a0&gt;
</code></pre></div><br>
<h3 id="32-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">3.2 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>KeyedVectors.index_to_key</em></strong></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.key_to_index</em></strong></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.vector_size</em></strong></td>
<td>è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.get_vector(word)</em></strong></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_word(word, topn=10)</em></strong></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_vector(vector, topn=10)</em></strong></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody>
</table>
<br>
<h3 id="33-æŸ¥çœ‹è¯è¡¨">3.3 æŸ¥çœ‹è¯è¡¨</h3>
<p>å› ä¸ºè¯è¡¨æœ‰ <strong><em>1050245</em></strong> ä¸ªè¯ï¼Œ ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œåªæ˜¾ç¤ºå‰ 20 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"># è¯è¡¨å¸¦é¡ºåºçš„
list(w2v.index_to_key)[:20]
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;é—®é¢˜&#39;,
 &#39;è¿›è¡Œ&#39;,
 &#39;æ‚¨å¥½&#39;,
 &#39;å·¥ä½œ&#39;,
 &#39;å°åŒº&#39;,
 &#39;åæ˜ &#39;,
 &#39;é¢†å¯¼&#39;,
 &#39;æƒ…å†µ&#39;,
 &#39;ç›¸å…³&#39;,
 &#39;ç•™è¨€&#39;,
 &#39;æ²¡æœ‰&#39;,
 &#39;æ„Ÿè°¢æ‚¨&#39;,
 &#39;ç½‘å‹&#39;,
 &#39;ä¸šä¸»&#39;,
 &#39;åŠç†&#39;,
 &#39;å…¬å¸&#39;,
 &#39;å»ºè®¾&#39;,
 &#39;å›å¤&#39;,
 &#39;æ”¯æŒ&#39;,
 &#39;éƒ¨é—¨&#39;]
</code></pre></div><br>
<p>æŸ¥çœ‹è¯è¡¨æ˜ å°„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">w2v.key_to_index
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;é—®é¢˜&#39;: 0,
 &#39;è¿›è¡Œ&#39;: 1,
 &#39;æ‚¨å¥½&#39;: 2,
 &#39;å·¥ä½œ&#39;: 3,
 &#39;å°åŒº&#39;: 4,
 &#39;åæ˜ &#39;: 5,
 &#39;é¢†å¯¼&#39;: 6,
 ...
  &#39;è¿ç»­&#39;: 995,
 &#39;ç¨³å®š&#39;: 996,
 &#39;å¸‚ä½å»ºå±€&#39;: 997,
 &#39;é™ä½&#39;: 998,
 &#39;ä¼šåŒ&#39;: 999,
 ...}
</code></pre></div><br>
<h3 id="34-è·å–æŸè¯çš„å‘é‡">3.4 è·å–æŸè¯çš„å‘é‡</h3>
<p>æŸ¥æ‰¾æŸè¯å¯¹åº”çš„è¯å‘é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># w2v[&#39;é—®é¢˜&#39;]</span>
<span class="n">w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;é—®é¢˜&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([-6.2813835 ,  1.5916584 , -0.48086444, -2.6446412 , 10.031776  ,
       -0.11915778, -5.039283  , -2.1107564 ,  1.1351422 , -2.881387  ,
        4.2890835 , -1.1337206 ,  3.7850847 , -3.640467  , -0.96282107,
        ...
        ...
        1.1314462 , -2.5386178 , -2.3993561 , -2.0407596 ,  0.95457   ,
        3.03732   , -2.033116  , -0.20390491,  3.5368073 ,  6.5452943 ,
        2.1186016 ,  0.79572505,  2.5855987 ,  0.88565165, -1.812104  ],
      dtype=float32)
</code></pre></div><p>å—é™äºç¯‡å¹…ï¼Œè¿™é‡Œæ˜¾ç¤ºè¯å‘é‡çš„éƒ¨åˆ†æ•°å€¼ã€‚</p>
<br>
<p>éœ€è¦æ³¨æ„ï¼Œå¦‚æœæŸ¥è¯¢çš„è¯ä¸å­˜åœ¨äºæ¨¡å‹è¯è¡¨ï¼Œåˆ™ä¼šå‡ºç°æŠ¥é”™ã€‚ä¾‹å¦‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">word = &#39;è¿™æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„è¯&#39;
w2v.get_vector(word)
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
Cell In[130], line 2
      1 word = &#39;è¿™æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„è¯&#39;
----&gt; 2 w2v.wv.get_vector(word)

File /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/gensim/models/keyedvectors.py:446, in KeyedVectors.get_vector(self, key, norm)
    422 def get_vector(self, key, norm=False):
    423     &#34;&#34;&#34;Get the key&#39;s vector, as a 1D numpy array.
    424
    425     Parameters
   (...)
    444
    445     &#34;&#34;&#34;
--&gt; 446     index = self.get_index(key)
    447     if norm:
    448         self.fill_norms()

File /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/gensim/models/keyedvectors.py:420, in KeyedVectors.get_index(self, key, default)
    418     return default
    419 else:
--&gt; 420     raise KeyError(f&#34;Key &#39;{key}&#39; not present&#34;)

KeyError: &#34;Key &#39;è¿™æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„è¯&#39; not present&#34;

</code></pre></div><br>
<h3 id="35-è¿‘ä¹‰è¯">3.5 è¿‘ä¹‰è¯</h3>
<p>æ ¹æ®è¯è¯­æŸ¥å¯»è¿‘ä¹‰è¯ï¼Œè¿”å›æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">w2v</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="s1">&#39;é—®é¢˜&#39;</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;æƒ…å†µ&#39;, 0.6178732514381409),
 (&#39;ç°è±¡&#39;, 0.5385990142822266),
 (&#39;æ­¤ç±»æƒ…å†µ&#39;, 0.418301522731781),
 (&#39;ç•™è¨€&#39;, 0.4179410934448242),
 (&#39;ä¸€äº‹&#39;, 0.40703579783439636),
 (&#39;äº‹é¡¹&#39;, 0.39551448822021484),
 (&#39;äº‹æƒ…&#39;, 0.3860214948654175),
 (&#39;æƒ…å½¢&#39;, 0.38478103280067444),
 (&#39;äº‹ä»¶&#39;, 0.36725184321403503),
 (&#39;ç°åƒ&#39;, 0.3665226995944977)]
</code></pre></div><br>
<p>æ ¹æ®è¯­ä¹‰å‘é‡æŸ¥å¯»è¿‘ä¹‰è¯ï¼Œè¿”å›æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">question_vector</span> <span class="o">=</span> <span class="n">w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;é—®é¢˜&#39;</span><span class="p">)</span>
<span class="n">w2v</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="n">question_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;é—®é¢˜&#39;, 1.0),
 (&#39;æƒ…å†µ&#39;, 0.6178732514381409),
 (&#39;ç°è±¡&#39;, 0.5385990142822266),
 (&#39;æ­¤ç±»æƒ…å†µ&#39;, 0.4183014929294586),
 (&#39;ç•™è¨€&#39;, 0.4179410934448242),
 (&#39;ä¸€äº‹&#39;, 0.40703579783439636),
 (&#39;äº‹é¡¹&#39;, 0.39551448822021484),
 (&#39;äº‹æƒ…&#39;, 0.3860214948654175),
 (&#39;æƒ…å½¢&#39;, 0.38478103280067444),
 (&#39;äº‹ä»¶&#39;, 0.36725184321403503)]
</code></pre></div><br>
<h3 id="36-è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡">3.6 è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡</h3>
<p>æˆ‘ä»¬å¯ä»¥è®¡ç®—ã€Œç»æµã€ã€ã€Œå»ºè®¾ã€ã€ã€Œå‘å±•ã€çš„ä¸­å¿ƒå‘é‡ eco_vectorã€‚ å¹¶è¯•å›¾å¯»æ‰¾ä¸­å¿ƒå‘é‡ eco_vector çš„æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">eco_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">semantic_centroid</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">w2v</span><span class="p">,</span>
                                  <span class="n">words</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">,</span> <span class="s1">&#39;å»ºè®¾&#39;</span><span class="p">,</span> <span class="s1">&#39;å‘å±•&#39;</span><span class="p">])</span>


<span class="c1"># å¯»æ‰¾ eco_vector è¯­ä¹‰æœ€ç›¸ä¼¼çš„10ä¸ªè¯</span>
<span class="n">w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">eco_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å‘å±•&#39;, 0.8317984938621521),
 (&#39;å»ºè®¾&#39;, 0.7508440613746643),
 (&#39;ç»æµ&#39;, 0.6406075954437256),
 (&#39;ç»æµç¤¾ä¼šå‘å±•&#39;, 0.6385446786880493),
 (&#39;å‘å±•å£®å¤§&#39;, 0.6317417621612549),
 (&#39;åŒ–å‘å±•&#39;, 0.5961641073226929),
 (&#39;å¤§åŠ›å‘å±•&#39;, 0.585274338722229),
 (&#39;ç»æµè…¾é£&#39;, 0.5823679566383362),
 (&#39;äº§ä¸š&#39;, 0.5820372700691223),
 (&#39;é«˜è´¨é‡å‘å±•&#39;, 0.5803337097167969)]
</code></pre></div><p>è¯­ä¹‰æ•æ‰çš„å¾ˆå‡†ã€‚</p>
<br>
<h3 id="37-æ¦‚å¿µè½´">3.7 æ¦‚å¿µè½´</h3>
<p>ç”·æ€§æ¦‚å¿µå‘é‡ç”±å¤šä¸ªç”·æ€§è¯çš„å‘é‡åŠ æ€»æ±‚å‡å€¼å¾—åˆ°ï¼Œå¥³æ€§æ¦‚å¿µå‘é‡ç®—æ³•ç±»ä¼¼ã€‚å½“æ€§è´¨æˆ–æ–¹å‘æ˜æ˜¾ç›¸åçš„ä¸¤ä¸ªæ¦‚å¿µå‘é‡ç›¸å‡ï¼Œ å¾—åˆ°çš„æ–°çš„å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º**<em>æ¦‚å¿µè½´å‘é‡ Concept Axis</em>**ã€‚</p>
<p>å°†å‡ ä¸ªåŸå¸‚è¯çš„è¯å‘é‡åœ¨[å†·çƒ­æ¦‚å¿µè½´å‘é‡]è¿›è¡ŒæŠ•å½±ï¼Œå¾—åˆ°çš„æ•°å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºè¶Šæ¥è¿‘äº c_words2ï¼Œè¶Šå¯’å†·ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># æ•°å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºè¶Šæ¥è¿‘äºc_words2ï¼Œè¶Šå¯’å†·ã€‚</span>
<span class="n">ct</span><span class="o">.</span><span class="n">sematic_projection</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">w2v</span><span class="p">,</span>
                     <span class="n">words</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;æ­å·&#39;</span><span class="p">,</span> <span class="s1">&#39;å“ˆå°”æ»¨&#39;</span><span class="p">,</span> <span class="s1">&#39;å¹¿å·&#39;</span><span class="p">,</span> <span class="s1">&#39;æ½åŠ&#39;</span><span class="p">],</span>
                     <span class="n">poswords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å¯’å†·&#39;</span><span class="p">,</span> <span class="s1">&#39;å†°é›ª&#39;</span><span class="p">],</span>
                     <span class="n">negwords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="p">,</span> <span class="s1">&#39;é…·æš‘&#39;</span><span class="p">],</span>
                     <span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;æ­å·&#39;, -2.52), (&#39;å¹¿å·&#39;, -2.06), (&#39;æ½åŠ&#39;, 2.18), (&#39;å“ˆå°”æ»¨&#39;, 2.78)]
</code></pre></div><br>
<p>æŠ•å½±ä½“ç°å‡ºåŸå¸‚çš„å†·çƒ­ï¼Œ ä½“ç°äº†è¯­è¨€æ¨¡å‹ä¸­è•´å«ç€äººç±»çš„è®¤çŸ¥(æ–‡åŒ–ã€åè§ã€è®°å¿†)ã€‚ ç±»ä¼¼çš„æ¦‚å¿µè½´ï¼Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å°ºå¯¸(å¤§, å°)
- æ¹¿åº¦(å¹²ç‡¥,æ½®æ¹¿)
- è´¢å¯Œ(å¯Œè£•, è´«ç©·)
- æ€§åˆ«(ç”·, å¥³)
- ç­‰
</code></pre></div><p>å…¶å®ä»»æ„æ¦‚å¿µçš„å‘é‡ä¹Ÿå¯çœ‹åšæ¦‚å¿µè½´ï¼Œå³è¯¥æ¦‚å¿µå‘é‡ä¸ 0 å‘é‡ç›¸å‡ã€‚åªä¸è¿‡ä¸¤ç»„æ€§è´¨æ–¹å‘ç›¸åçš„æ–¹å¼å¾—åˆ°çš„æ¦‚å¿µè½´ï¼Œ åœ¨è¯­ä¹‰ä¸Šæ›´ç¨³å®šã€‚</p>
<p><br><br></p>
<h2 id="ç›¸å…³èµ„æ–™">ç›¸å…³èµ„æ–™</h2>
<ul>
<li><a href="https://textdata.cn/blog/management_python_course/">è§†é¢‘è¯¾ | Python å®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a></li>
<li><a href="https://textdata.cn/blog/the_text_analysis_list_about_ms/">LIST | ç¤¾ç§‘(ç»ç®¡)æ•°æ®æŒ–æ˜æ–‡çŒ®èµ„æ–™æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/datasets_available_for_management_science/">LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2025-02-14-using-online-large-model-api-to-transform-text-data-into-structured-data/">æ•™ç¨‹ | ä½¿ç”¨ Ollama ä¸å¤§æ¨¡å‹å°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®</a></li>
<li><a href="https://textdata.cn/blog/">https://textdata.cn/</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ•™ç¨‹ | ä½¿ç”¨å¤§æ¨¡å‹å°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®(LMstudioç¯‡)</title>
      <link>https://textdata.cn/blog/2025-09-09-transform-text-data-into-structured-data-with-lmstudio-and-cntext/</link>
      <pubDate>Tue, 09 Sep 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-09-09-transform-text-data-into-structured-data-with-lmstudio-and-cntext/</guid>
      <description>å®éªŒæ•°æ®ä¸ºå¤–å–è¯„è®ºï¼Œ ä»Šå¤©å’±ä»¬åšä¸ªæœ‰éš¾åº¦çš„æ–‡æœ¬åˆ†æä»»åŠ¡ï¼Œä»ä¸åŒç»´åº¦(å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡)å¯¹å¤–å–è¯„è®ºè¿›è¡Œæ‰“åˆ†(-1.0~1.0)æ–‡æœ¬åˆ†æï¼ˆä¹Ÿç§°ä¸ºæ–‡æœ¬æŒ–æ˜æˆ–è‡ªç„¶è¯­è¨€å¤„ç†ï¼ŒNLPï¼‰æ˜¯æŒ‡ä½¿ç”¨è®¡ç®—æœºç®—æ³•å’ŒæŠ€æœ¯ä»å¤§é‡æ–‡æœ¬æ•°æ®ä¸­æå–æœ‰ä»·å€¼ä¿¡æ¯çš„è¿‡ç¨‹ã€‚æ–‡æœ¬åˆ†æçš„ç›®æ ‡æ˜¯ä»éç»“æ„åŒ–çš„æ–‡æœ¬æ•°æ®ä¸­è¯†åˆ«æ¨¡å¼ã€æå–å…³é”®ä¿¡æ¯ã€ç†è§£è¯­ä¹‰ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ä»¥ä¾¿è¿›ä¸€æ­¥åˆ†æå’Œåº”ç”¨ã€‚</description>
      <content:encoded><![CDATA[<h2 id="ä¸€ä»»åŠ¡">ä¸€ã€ä»»åŠ¡</h2>
<p>ä¹‹å‰åˆ†äº« <a href="https://textdata.cn/blog/2025-02-14-using-online-large-model-api-to-transform-text-data-into-structured-data/">æ•™ç¨‹ | ä½¿ç”¨å¤§æ¨¡å‹å°†æ–‡æœ¬ç¼–ç ä¸ºç»“æ„åŒ–æ•°æ®(Ollmaå)</a> æ˜¯åŸºäºOllmaçš„ä½¿ç”¨çš„å¤§æ¨¡å‹æ ‡æ³¨æ•™ç¨‹ã€‚ ä»Šå¤©å’±ä»¬æ¢ä¸ªæ–°å·¥å…·-<a href="https://lmstudio.ai/">LM Studio</a></p>
<p>ä½¿ç”¨ LM Studio å’Œ cntext2x è¿›è¡Œæ–‡æœ¬åˆ†æã€‚</p>
<p><br><br></p>
<h2 id="äºŒé…ç½®ç¯å¢ƒ">äºŒã€é…ç½®ç¯å¢ƒ</h2>
<h3 id="21-å®‰è£…cntext2x">2.1 å®‰è£…cntext2x</h3>
<p>å°† cntext2çš„ <em><strong>.whl</strong></em> æ–‡ä»¶æ”¾ç½®äºæ¡Œé¢ï¼Œ ä»¥ç‰ˆæœ¬ä¸º <em><strong>cntext-2.1.7-py3-none-any.whl</strong></em> ä¸ºä¾‹ï¼Œæ‰“å¼€å‘½ä»¤è¡Œcmd(Macæ‰“å¼€terminal)ï¼Œä¾æ¬¡æ‰§è¡Œå‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
pip install cntext-2.1.7-py3-none-any.whl
</code></pre></div><br>
<h3 id="22-å®‰è£…lm-studio">2.2 å®‰è£…LM Studio</h3>
<p>åœ¨å®˜ç½‘ <a href="https://lmstudio.ai/">LM Studio</a> ç‚¹å‡»ä¸‹è½½ï¼Œ è¯¥è½¯ä»¶æ”¯æŒWinã€Macã€‚</p>
<p><img loading="lazy" src="img/01-cover.png" alt=""  />
</p>
<br>
<h3 id="23-é…ç½®lmså‘½ä»¤è¡Œå·¥å…·">2.3 é…ç½®lmså‘½ä»¤è¡Œå·¥å…·</h3>
<p>ä¸ºæ–¹ä¾¿è°ƒè¯•ï¼Œéœ€è¦é…ç½®lmså‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<ul>
<li>windowæ‰“å¼€cmdï¼Œ æ‰§è¡Œå‘½ä»¤
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">/c %USERPROFILE%/.lmstudio/bin/lms.exe bootstrap
</code></pre></div></li>
<li>macæ‰“å¼€terminalï¼Œ æ‰§è¡Œå‘½ä»¤
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">~/.lmstudio/bin/lms bootstrap
</code></pre></div></li>
</ul>
<br>
<h3 id="24-å®‰è£…æ¨¡å‹">2.4 å®‰è£…æ¨¡å‹</h3>
<p>æ¨¡å‹å¯ä»¥é€‰æ‹©ç‚¹å‡»æ“ä½œå®‰è£…ï¼Œä¹Ÿå¯é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ã€‚</p>
<p><img loading="lazy" src="img/02-model-install.png" alt=""  />
</p>
<p>æ‰“å¼€<a href="https://lmstudio.ai/models/">LM Studioæ¨¡å‹åˆ—è¡¨</a>ï¼Œ é€‰æ‹©ä¸ªå°çš„æ¨¡å‹è¿›è¡Œå®‰è£…ã€‚ å¯ä»¥æ‰¾åˆ° <strong>qwen3-4b</strong>ã€‚æ‰“å¼€å‘½ä»¤è¡Œcmd (Macæ‰“å¼€terminal)ï¼Œ æ‰§è¡Œå®‰è£…å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">lms get qwen/qwen3-4b
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">
   ğŸ¡‡ To download: model qwen/qwen3-4b - 170.89 KB
   â””â”€ ğŸ¡‡ To download: Qwen3 4B 4BIT [MLX] - 2.28 GB

About to download 2.28 GB.
Continue? (Y/N): Y
â ¦ [â–                     ] 0.00% |  707 B / 2.28 GB | 837.6777251184834 B/s | ETA 755:46:24        â ¦ [â–                     ] 0.00% |  707 B / 2.28 GB |                 0 B/s | ETA Infinity:NaN:NaN â ¦ [â–                     ] 0.00% |  707 B / 2.28 GB |                 0 B/s | ETA Infinity:NaN:NaN 
â ‡ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 99.87% |   2.28 GB / 2.28 GB |             7.31 MB/s | ETA 00:00        â  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 99.87% |   2.28 GB / 2.28 GB |             7.31 MB/s | ETA 00:00        Finalizing download...
Download completed.
</code></pre></div><p>å¤§æ¦‚ 10 åˆ†é’Ÿå®‰è£…å®Œæˆï¼Œ æ¨¡å‹ä½“ç§¯çº¦ 2.2GBã€‚</p>
<br>
<p>å½“ç„¶äº†ä¹Ÿå¯é€‰æ‹©å›¾å½¢åŒ–å®‰è£…ï¼Œå¦‚å›¾</p>
<p><img loading="lazy" src="img/03-ui-install.png" alt=""  />
</p>
<br>
<h3 id="25-æŸ¥çœ‹å·²å®‰è£…æ¨¡å‹">2.5 æŸ¥çœ‹å·²å®‰è£…æ¨¡å‹</h3>
<p>æŸ¥çœ‹ç”µè„‘å†…å·²å®‰è£…çš„æ¨¡å‹ï¼Œæ‰“å¼€cmd(Macæ‰“å¼€terminal)ï¼Œ æ‰§è¡Œå®‰è£…å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">lms ls
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">You have 5 models, taking up 26.42 GB of disk space.

LLM               PARAMS    ARCH     SIZE                 
qwen/qwen3-4b               qwen3    2.28 GB              
qwen3-1.7b-mlx              qwen3    984.01 MB            
qwen3-32b-mlx               qwen3    18.45 GB             
qwen3-8b-mlx                qwen3    4.62 GB      âœ“ LOADED

EMBEDDING                               PARAMS    ARCH          SIZE        
text-embedding-nomic-embed-text-v1.5              Nomic BERT    84.11 MB  
</code></pre></div><p>å›¾å½¢åŒ–æŸ¥çœ‹å·²ç»å®‰è£…çš„æ¨¡å‹</p>
<p><img loading="lazy" src="img/04-model-ls.png" alt=""  />
</p>
<br>
<br>
<h2 id="ä¸‰ä½¿ç”¨lm-studio">ä¸‰ã€ä½¿ç”¨LM Studio</h2>
<h3 id="31-uiç•Œé¢å°è¯•">3.1 UIç•Œé¢å°è¯•</h3>
<p><img loading="lazy" src="img/05-ui-chat.png" alt=""  />

<img loading="lazy" src="img/06ui-chat.png" alt=""  />
</p>
<br>
<h3 id="32-å¯åŠ¨lm-studioæœåŠ¡">3.2 å¯åŠ¨LM StudioæœåŠ¡</h3>
<p>å¯åŠ¨æœåŠ¡ï¼Œæ–¹ä¾¿Pythonè°ƒç”¨LM Studioã€‚ æ‰“å¼€cmd(Macæ‰“å¼€terminal)ï¼Œ å¯åŠ¨æœåŠ¡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">lms server start
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Success! Server is now running on port 1234
</code></pre></div><p>æ³¨æ„: åç»­å¦‚æœæƒ³å…³é—­æœåŠ¡ï¼Œ æ‰§è¡Œå‘½ä»¤ <code>lms server stop</code></p>
<br>
<h3 id="33-åˆæ¬¡å°è¯•">3.3 åˆæ¬¡å°è¯•</h3>
<p>ä½¿ç”¨cntextå†…ç½®çš„sentimentæç¤ºè¯æ¨¡æ¿,å¯ç”¨lmstudioæœåŠ¡ï¼Œè°ƒç”¨qwen/qwen3-4bæ¨¡å‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;æœåŠ¡å¾ˆæ£’ï¼&#34;</span><span class="p">,</span> <span class="s2">&#34;æœåŠ¡ä¸€èˆ¬ï¼&#34;</span><span class="p">,</span> <span class="s2">&#34;æœåŠ¡å¾ˆå·®ï¼&#34;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> 
                   <span class="n">task</span><span class="o">=</span><span class="s2">&#34;sentiment&#34;</span><span class="p">,</span> 
                   <span class="n">backend</span><span class="o">=</span><span class="s2">&#34;lmstudio&#34;</span><span class="p">,</span>  
                   <span class="n">model_name</span><span class="o">=</span><span class="s2">&#34;qwen/qwen3-4b&#34;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[cntext2x] âœ… è¿æ¥æ¨¡å‹æœåŠ¡: http://localhost:1234/v1

æœåŠ¡å¾ˆæ£’ï¼ {&#39;label&#39;: &#39;pos&#39;, &#39;score&#39;: 0.9}
æœåŠ¡ä¸€èˆ¬ï¼ {&#39;label&#39;: &#39;neutral&#39;, &#39;score&#39;: 0.0}
æœåŠ¡å¾ˆå·®ï¼ {&#39;label&#39;: &#39;neg&#39;, &#39;score&#39;: -0.95}

CPU times: user 110 ms, sys: 8.3 ms, total: 119 ms
Wall time: 9.14 s
</code></pre></div><br>
<h3 id="34-å†…ç½®æç¤ºè¯æ¨¡æ¿">3.4 å†…ç½®æç¤ºè¯æ¨¡æ¿</h3>
<p>cntext2x å†…ç½®æç¤ºè¯æ¨¡æ¿ä¸æ­¢æ”¯æŒsentimentï¼Œè¿˜æœ‰å…¶ä»–ä»»åŠ¡ï¼Œå¦‚åˆ†ç±»ã€å®ä½“è¯†åˆ«ç­‰ã€‚å…·ä½“å¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">tasks_list</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;sentiment&#39;,
 &#39;emotion&#39;,
 &#39;classify&#39;,
 &#39;intent&#39;,
 &#39;keywords&#39;,
 &#39;entities&#39;,
 &#39;summarize&#39;,
 &#39;rewrite&#39;,
 &#39;quality&#39;,
 &#39;similarity&#39;]
</code></pre></div><br>
<p>æŸ¥çœ‹æ¨¡æ¿å†…å®¹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">tasks_get</span><span class="p">(</span><span class="s1">&#39;emotion&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;prompt&#39;: &#39;è¯†åˆ«æ–‡æœ¬ä¸­çš„ä¸»è¦æƒ…ç»ªç±»å‹ï¼šä» [å¼€å¿ƒ, æ„¤æ€’, æ‚²ä¼¤, æƒŠè®¶, åŒæ¶, ææƒ§, ä¸­æ€§] ä¸­é€‰æ‹©æœ€åŒ¹é…çš„ä¸€é¡¹ï¼Œè¿”å›æƒ…ç»ªç±»å‹ emotion å’Œç½®ä¿¡åº¦ confidenceï¼ˆ0~1ï¼‰&#39;,
 &#39;output_format&#39;: {&#39;emotion&#39;: &#39;str&#39;, &#39;confidence&#39;: &#39;float&#39;}}
</code></pre></div><br>
<h3 id="35-è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿">3.5 è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="n">PROMPT</span> <span class="o">=</span> <span class="s1">&#39;ä»å£å‘³tasteã€é€Ÿåº¦speedã€æœåŠ¡serviceä¸‰ä¸ªç»´åº¦ï¼Œ å¯¹å¤–å–è¯„è®ºå†…å®¹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œ åˆ†åˆ«è¿”å›ä¸åŒç»´åº¦çš„åˆ†å€¼(åˆ†å€¼èŒƒå›´-1.0 ~ 1.0)&#39;</span>
<span class="n">OUTPUT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>

<span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;æœåŠ¡å¾ˆæ£’ï¼&#34;</span><span class="p">,</span> <span class="s2">&#34;æœåŠ¡ä¸€èˆ¬ï¼&#34;</span><span class="p">,</span> <span class="s2">&#34;æœåŠ¡å¾ˆå·®ï¼&#34;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&#34;æœåŠ¡å¾ˆæ£’&#34;</span><span class="p">,</span>
           <span class="n">prompt</span><span class="o">=</span><span class="n">PROMPT</span> <span class="p">,</span>
           <span class="n">output_format</span><span class="o">=</span><span class="n">OUTPUT</span><span class="p">,</span>
           <span class="n">backend</span><span class="o">=</span><span class="s2">&#34;lmstudio&#34;</span><span class="p">,</span>  
           <span class="n">model_name</span><span class="o">=</span><span class="s2">&#34;qwen/qwen3-4b&#34;</span><span class="p">)</span>
    <span class="n">score</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">text</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;taste&#39;: 0.0, &#39;speed&#39;: 0.0, &#39;service&#39;: 1.0, &#39;text&#39;: &#39;æœåŠ¡å¾ˆæ£’ï¼&#39;}
{&#39;taste&#39;: 0.0, &#39;speed&#39;: 0.0, &#39;service&#39;: 1.0, &#39;text&#39;: &#39;æœåŠ¡ä¸€èˆ¬ï¼&#39;}
{&#39;taste&#39;: 0.0, &#39;speed&#39;: 0.0, &#39;service&#39;: 1.0, &#39;text&#39;: &#39;æœåŠ¡å¾ˆå·®ï¼&#39;}
CPU times: user 114 ms, sys: 8.12 ms, total: 122 ms
Wall time: 8.79 s
</code></pre></div><p>é€Ÿåº¦æœ‰ç‚¹æ…¢ï¼Œ å¦‚æœæƒ³åŠ é€Ÿï¼Œ å¯ä»¥è€ƒè™‘ä½¿ç”¨qwen3-1.7bæ¨¡å‹(bçš„æ•°å­—è¶Šå°ï¼Œæ¨¡å‹è¿è¡Œé€Ÿåº¦è¶Šå¿«ï¼Œä½†æ˜¯è´¨é‡è¶Šå·®)ã€‚</p>
<br>
<br>
<h2 id="äº”è·å–-cntext2x">äº”ã€è·å– cntext2.x</h2>
<p>å®‰è£…åŒ…<strong>cntext-2.1.7-py3-none-any.whl</strong> æ˜¯ä»˜è´¹å†…å®¹(<strong><em>100 å…ƒ</em></strong>)ï¼Œ å¦‚éœ€ä½¿ç”¨<strong>åŠ å¾®ä¿¡: 372335839</strong>ï¼Œå¤‡æ³¨ã€Œ<strong>å§“å-å­¦æ ¡-ä¸“ä¸š-cntext</strong>ã€</p>
<p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<ul>
<li><a href="https://textdata.cn/blog/2025-02-17-gpt-is-an-effective-tool-for-multilingual-psychological-text-analysis/"><strong>PNAS | GPT æ˜¯å¤šè¯­è¨€å¿ƒç†æ–‡æœ¬åˆ†æçš„æœ‰æ•ˆå·¥å…·</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-06-14-how-to-download-large-language-model-with-ollama/"><strong>æ•™ç¨‹ | å¦‚ä½•ä½¿ç”¨ Ollama ä¸‹è½½ &amp; ä½¿ç”¨æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-08-06-using-the-ollama-local-large-model-to-predict-the-sentiment-category-of-online-comments/"><strong>å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹é¢„æµ‹åœ¨çº¿è¯„è®ºæƒ…æ„Ÿç±»åˆ«å’Œåˆ†å€¼</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-08-07-structured-outputs-with-ollama/"><strong>å®éªŒ | å¦‚ä½•ä½¿ Ollama ç»“æ„åŒ–è¾“å‡º JSON æ ·å¼çš„ç»“æœ</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/"><strong>æ¨è | æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-06-14-using-large-language-model-to-extract-structure-data-from-raw-text/"><strong>å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹ä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-07-10-using-large-language-model-to-build-diy-dictionary/">å®éªŒ | ä½¿ç”¨ Ollama æœ¬åœ°å¤§æ¨¡å‹ DIY åˆ¶ä½œå•è¯ä¹¦æ•™æ¡ˆ PDF</a></li>
<li><a href="https://textdata.cn/blog/2024-08-05-create-a-blog-writer-multi-agent-system-using-crewai-and-ollama/">å®éªŒ | ä½¿ç”¨ Crewai å’Œ Ollama æ„å»ºæ™ºèƒ½ä½“(AI Agent)å¸®æˆ‘æ’°å†™åšå®¢æ–‡ç« </a></li>
</ul>
<p><br><br></p>
<h2 id="ç²¾é€‰å†…å®¹">ç²¾é€‰å†…å®¹</h2>
<ul>
<li><a href="https://textdata.cn/blog/datasets_available_for_management_science/">LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/the_text_analysis_list_about_ms/">LIST | ç¤¾ç§‘(ç»ç®¡)æ•°æ®æŒ–æ˜æ–‡çŒ®èµ„æ–™æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2024-06-16-scrapegraph-ai/">ç½‘ç»œçˆ¬è™« | ä½¿ç”¨ scrapegraph-ai(å¤§æ¨¡å‹æ–¹æ¡ˆ)è‡ªåŠ¨é‡‡é›†ç½‘é¡µæ•°æ®</a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">æ¨è | æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ</a></li>
<li><a href="https://textdata.cn/blog/management_python_course/">ä»˜è´¹è§†é¢‘è¯¾ | Python å®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a></li>
<li><a href="https://textdata.cn/blog/2024-06-14-using-large-language-model-to-extract-structure-data-from-raw-text/">å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹ä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯</a>
<br>
<br></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>è¯å‘é‡ | ä½¿ç”¨ MD&amp;A2001-2024 è¯­æ–™è®­ç»ƒ Word2Vec/GloVe æ¨¡å‹</title>
      <link>https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/</link>
      <pubDate>Thu, 01 May 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/</guid>
      <description>&lt;h2 id=&#34;ä¸€æ•°æ®é›†&#34;&gt;ä¸€ã€æ•°æ®é›†&lt;/h2&gt;
&lt;h3 id=&#34;11-æ•°æ®æ¦‚å†µ&#34;&gt;1.1 æ•°æ®æ¦‚å†µ&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-03-23-china-a-share-market-dataset-mda-from-01-to-21/&#34;&gt;&lt;strong&gt;æ•°æ®é›† | 2001-2024 å¹´ A è‚¡ä¸Šå¸‚å…¬å¸å¹´æŠ¥&amp;amp;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;æ•°æ®åç§°: 2001-2024å¹´Aè‚¡ä¸Šå¸‚å…¬å¸å¹´æŠ¥&amp;amp;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ
æ•°æ®æ¥æº: ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€ã€æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€
æ•°æ®æ ¼å¼: csvã€txt
å…¬å¸æ•°é‡: 5706
MD&amp;amp;Aæ•°é‡: 65519
ä¼šè®¡å¹´åº¦: 2001-2024
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;12-è¯»å–-mda-æ•°æ®&#34;&gt;1.2 è¯»å– md&amp;amp;a æ•°æ®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# è¯»å–å‰5è¡Œæ•°æ®&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;mda01-24.csv.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compression&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;gzip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nrows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# gzè§£å‹åè¯»å–csv&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# df = pd.read_csv(&amp;#39;mda01-24.csv&amp;#39;, nrows=5)&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;65519
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;äºŒè®­ç»ƒ-word2vec--glove-æ¨¡å‹&#34;&gt;äºŒã€è®­ç»ƒ Word2Vec &amp;amp; GloVe æ¨¡å‹&lt;/h2&gt;
&lt;h3 id=&#34;21-å‡†å¤‡è¯­æ–™&#34;&gt;2.1 å‡†å¤‡è¯­æ–™&lt;/h3&gt;
&lt;p&gt;ä» &lt;strong&gt;mda01-24.csv.gz&lt;/strong&gt; æ•°æ®ä¸­æŠ½å–å‡ºæ‰€æœ‰æ–‡æœ¬ï¼Œå†™å…¥åˆ° &lt;strong&gt;mda01-24.txt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;mda01-24.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;text&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€ç»ˆå¾—åˆ° 3.34G çš„è¯­æ–™æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;22-é…ç½®-cntext-ç¯å¢ƒ&#34;&gt;2.2 é…ç½® cntext ç¯å¢ƒ&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ 2.1.6 ç‰ˆæœ¬ cntext åº“(è¯¥ç‰ˆæœ¬æš‚ä¸å¼€æºï¼Œéœ€ä»˜è´¹è´­ä¹°)ã€‚ å°†å¾—åˆ°çš„ &lt;strong&gt;cntext-2.1.6-py3-none-any.whl&lt;/strong&gt; æ–‡ä»¶æ”¾ç½®äºç”µè„‘æ¡Œé¢ï¼Œ win ç³»ç»Ÿæ‰“å¼€&lt;strong&gt;cmd&lt;/strong&gt;(Mac æ‰“å¼€ terminal)ï¼Œ è¾“å…¥å¦‚ä¸‹å‘½ä»¤(å°†å·¥ä½œç¯å¢ƒåˆ‡æ¢è‡³æ¡Œé¢)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ªåˆ« Win ç”¨æˆ·å¦‚æ— æ•ˆï¼Œè¯•è¯•&lt;code&gt;cd Desktop&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ç»§ç»­åœ¨ cmd (terminal) ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£… cntext2.1.6&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install cntext-2.1.6-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;23-å¼€å§‹è®­ç»ƒ&#34;&gt;2.3 å¼€å§‹è®­ç»ƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Word2Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;mda01-24.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# è¯­æ–™æ–‡ä»¶&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;             &lt;span class=&#34;c1&#34;&gt;# ä¸­æ–‡è¯­æ–™&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;            &lt;span class=&#34;c1&#34;&gt;# åµŒå…¥çš„ç»´åº¦æ•°&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;             &lt;span class=&#34;c1&#34;&gt;# è¯è¯­ä¸Šä¸‹æ–‡çš„çª—å£å¤§å°&lt;/span&gt;



&lt;span class=&#34;n&#34;&gt;glove_model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GloVe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;mda01-24.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                       &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                       &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                       &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Mac(Linux) System, Enable Parallel Processing
Cache output/mda01-24_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆ| 27404772/27404772 [04:38&amp;lt;00:00, 9
Reading Preprocessed Corpus from output/mda01-24_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 1625 s. 
Output Saved To: output/mda01-24-Word2Vec.200.15.bin


Mac(Linux) System, Enable Parallel Processing
Cache output/mda01-24_cache.txt Found, Skip Preprocessing Corpus
Start Training GloVe
BUILDING VOCABULARY
Using vocabulary of size 536863.

COUNTING COOCCURRENCES
Merging cooccurrence files: processed 353975745 lines.

Using random seed 1746091798
SHUFFLING COOCCURRENCES
Merging temp files: processed 353975745 lines.

TRAINING MODEL
Read 353975745 lines.
Using random seed 1746091864
05/01/25 - 05:32.08PM, iter: 001, cost: 0.115862
05/01/25 - 05:33.04PM, iter: 002, cost: 0.082325
05/01/25 - 05:34.00PM, iter: 003, cost: 0.070848
......
......
05/01/25 - 05:43.23PM, iter: 013, cost: 0.050617
05/01/25 - 05:44.19PM, iter: 014, cost: 0.050079
05/01/25 - 05:45.16PM, iter: 015, cost: 0.049582

GloVe Training Cost 1366 s. 
Output Saved To: output/mda01-24-GloVe.200.15.bin
CPU times: user 1h 28min 19s, sys: 2min 6s, total: 1h 30min 26s
Wall time: 49min 55s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»è¿‡ 1.5 å°æ—¶ï¼Œ è®­ç»ƒå‡ºçš„ä¸­å›½ A è‚¡ç®¡ç†å±‚è®¨è®ºä¸åˆ†æçš„ GloVe å’Œ Word2Vec è¯å‘é‡æ¨¡å‹(å¦‚ä¸‹æˆªå›¾)ã€‚æ¨¡å‹å¯å¹¿æ³›ç”¨äºç»æµç®¡ç†ç­‰é¢†åŸŸæ¦‚å¿µ(æƒ…æ„Ÿ)è¯å…¸çš„æ„å»ºæˆ–æ‰©å±•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;mda01-24_cache.txt&lt;/strong&gt; ç¼“å­˜æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mda01-24-Word2Vec.200.15.bin&lt;/strong&gt; Word2Vec æ¨¡å‹æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mda01-24-GloVe.200.15.bin&lt;/strong&gt; GloVe æ¨¡å‹æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/pretained-screen.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;ä¸‰ä½¿ç”¨æ¨¡å‹&#34;&gt;ä¸‰ã€ä½¿ç”¨æ¨¡å‹&lt;/h2&gt;
&lt;h3 id=&#34;31-å¯¼å…¥æ¨¡å‹&#34;&gt;3.1 å¯¼å…¥æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ &lt;strong&gt;&lt;em&gt;ct.load_w2v(w2v_path)&lt;/em&gt;&lt;/strong&gt; æ¥å¯¼å…¥åˆšåˆšè®­ç»ƒå¥½çš„æ¨¡å‹ &lt;strong&gt;&lt;em&gt;mda01-24-GloVe.200.15.bin&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;__version__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/mda01-24-Word2Vec.200.15.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;glove_model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/mda01-24-GloVe.200.15.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;2.1.6
Loading output/mda01-24-Word2Vec.200.15.bin...
Loading output/mda01-24-GloVe.200.15.bin...
&amp;lt;gensim.models.keyedvectors.KeyedVectors at 0x633060fe0&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-è¯„ä¼°æ¨¡å‹&#34;&gt;3.2 è¯„ä¼°æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹&lt;a href=&#34;https://cntext.readthedocs.io/zh-cn/latest/model.html&#34;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ word2vec ä¸ºä¾‹ï¼Œè¯„ä¼°æ¨¡å‹è¡¨ç°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_similarity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_analogy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&amp;#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   425    |    112     |            0.42            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&amp;lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   455    |    222     |   31.21    |   4.30   |
|   CityInProvince   |   175    |     0      |   97.71    |   1.26   |
| FamilyRelationship |    90    |    182     |   10.00    |   5.89   |
|   SocialScience    |    9     |     61     |   44.44    |   4.50   |
+--------------------+----------+------------+------------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è¿‘ä¹‰æµ‹è¯•&lt;/strong&gt;: Spearman&amp;rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;strong&gt;ç±»æ¯”æµ‹è¯•&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CapitalOfCountries ä¸­æ–‡ md&amp;amp;a è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§å›½å®¶é¦–åº¦çš„æåŠè¾ƒå°‘ã€‚ä¹Ÿä½“ç°äº†å¤§å¤šæ•°ä¼ä¸šæ²¡æœ‰å›½é™…åŒ–ã€‚ç›²çŒœç¾è‚¡çš„ CapitalOfCountries è¡¨ç°åº”è¯¥å¥½äº A è‚¡ã€‚&lt;/li&gt;
&lt;li&gt;CityInProvince ä¸­æ–‡ md&amp;amp;a è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¦‚æ­¤ä¼˜å¼‚ï¼Œè¯´æ˜ A è‚¡å¤šæ•°ä¼ä¸šæ‰æ ¹äºä¸­å›½å¤§åœ°ï¼Œ å¹´æŠ¥ md&amp;amp;a ä¸­æåŠæ¬¡æ•°å¾ˆå¤šã€‚&lt;/li&gt;
&lt;li&gt;FamilyRelationship ä¸­æ–‡ md&amp;amp;a è¯­æ–™ä¸­ä¸»è¦ä½“ç°çš„æ˜¯å…¬å¸ç»„ç»‡å±‚é¢ï¼Œè¾ƒå°‘æåŠå®¶åº­å…³ç³»è¯è¯­ï¼Œæ‰€ä»¥ç±»åˆ«è¡¨ç°ä¸€èˆ¬æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ã€‚&lt;/li&gt;
&lt;li&gt;SocialScience ä¸­æ–‡ md&amp;amp;a è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;33-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§&#34;&gt;3.3 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.index_to_key&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.key_to_index&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.vector_size&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.get_vector(word)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.similar_by_word(word, topn=10)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.similar_by_vector(vector, topn=10)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;34-æŸ¥çœ‹è¯æ±‡é‡ç»´åº¦æ•°&#34;&gt;3.4 æŸ¥çœ‹è¯æ±‡é‡&amp;amp;ç»´åº¦æ•°&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¯æ±‡é‡&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Word2Vecè¯æ±‡é‡: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GloVeè¯æ±‡é‡: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;glove_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Word2Vecç»´åº¦æ•°: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GloVeç»´åº¦æ•°: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;glove_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Word2Vecè¯æ±‡é‡:  902666
GloVeè¯æ±‡é‡:     536864
Word2Vecç»´åº¦æ•°:  200
GloVeç»´åº¦æ•°:     200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;35-è¯è¡¨&#34;&gt;3.5 è¯è¡¨&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹è¯è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index_to_key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[&amp;#39;å…¬å¸&amp;#39;,
 &amp;#39;é€‚ç”¨&amp;#39;,
 &amp;#39;æƒ…å†µ&amp;#39;,
 &amp;#39;é¡¹ç›®&amp;#39;,
 &amp;#39;äº§å“&amp;#39;,
 ...
 &amp;#39;æ¯”ä¸Š&amp;#39;,
 &amp;#39;å¢ƒå†…&amp;#39;,
 &amp;#39;æœ€ç»ˆ&amp;#39;,
 &amp;#39;å¯åŠ¨&amp;#39;,
 ...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;æŸ¥çœ‹è¯æ±‡æ˜ å°„è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_to_index&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;{&amp;#39;å…¬å¸&amp;#39;: 0,
 &amp;#39;é€‚ç”¨&amp;#39;: 1,
 &amp;#39;æƒ…å†µ&amp;#39;: 2,
 &amp;#39;é¡¹ç›®&amp;#39;: 3,
 &amp;#39;äº§å“&amp;#39;: 4,
 ......
 &amp;#39;æ¯”ä¸Š&amp;#39;: 996,
 &amp;#39;å¢ƒå†…&amp;#39;: 997,
 &amp;#39;æœ€ç»ˆ&amp;#39;: 998,
 &amp;#39;å¯åŠ¨&amp;#39;: 999,
 ...}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;36-æŸ¥çœ‹è¯å‘é‡&#34;&gt;3.6 æŸ¥çœ‹è¯å‘é‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢æŸè¯çš„è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([ 2.2048666 ,  1.7392347 ,  3.8569732 ,  2.181498  ,  0.49182096,
       -2.0054908 ,  0.55133677,  0.97385484,  3.6563325 , -2.1495004 ,
       -4.8804154 ,  2.8375697 ,  2.071349  ,  3.0867636 , -1.3978149 ,
       -0.38058507, -2.379905  , -1.8974878 ,  3.596266  ,  0.44742537,
        ......
        0.13521506, -0.78970003, -0.8154422 ,  1.015166  ,  0.30753416,
       -6.1991196 , -2.2295246 ,  0.797445  , -0.21968505,  1.6549479 ,
       -1.1522037 , -1.5377268 , -3.4639692 , -3.3877385 ,  3.5285642 ,
        0.9497059 , -2.6022844 ,  1.6192312 , -0.39254257, -0.5094183 ],
      dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢å¤šä¸ªè¯çš„è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_mean_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ruj&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([ 0.01322632,  0.01596442,  0.08699574,  0.06786569,  0.00441768,
       -0.04059787,  0.01970061,  0.02050735,  0.04548474, -0.01610814,
       -0.10554063,  0.08021796,  0.10255495,  0.06383747, -0.07158516,
        0.00185056, -0.02854855, -0.09506228,  0.1032301 , -0.05448814,
       ......
       -0.01035122, -0.02931183, -0.03785197,  0.04421834,  0.04357708,
       -0.15989086, -0.05572033,  0.02324059, -0.08414906,  0.02760434,
        0.01254621, -0.02324901, -0.05535778, -0.06064604,  0.0409652 ,
       -0.04119795, -0.08222105,  0.03998823, -0.03626942, -0.01975589],
      dtype=float32)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;37-è¿‘ä¹‰è¯&#34;&gt;3.7 è¿‘ä¹‰è¯&lt;/h3&gt;
&lt;p&gt;æ ¹æ®è¯è¯­æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_word&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;æŠ€æœ¯åˆ›æ–°&amp;#39;, 0.6993309855461121),
 (&amp;#39;ä¸æ–­åˆ›æ–°&amp;#39;, 0.6758015155792236),
 (&amp;#39;åˆ›æ–°å‹&amp;#39;, 0.636788547039032),
 (&amp;#39;åˆ›æ–°èƒ½åŠ›&amp;#39;, 0.6053606271743774),
 (&amp;#39;å¼•é¢†&amp;#39;, 0.604947566986084),
 (&amp;#39;ç¡¬æ ¸&amp;#39;, 0.5690070986747742),
 (&amp;#39;å‰æ²¿&amp;#39;, 0.5627986788749695),
 (&amp;#39;èµ‹èƒ½&amp;#39;, 0.5582684278488159),
 (&amp;#39;åˆ›æ–°æ€§&amp;#39;, 0.5509947538375854),
 (&amp;#39;é©æ–°&amp;#39;, 0.5494255423545837)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;æ ¹æ®æŸè¯çš„è¯å‘é‡æŸ¥è¯¢æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;creativeness_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;creativeness_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;åˆ›æ–°&amp;#39;, 1.0),
 (&amp;#39;æŠ€æœ¯åˆ›æ–°&amp;#39;, 0.6993309855461121),
 (&amp;#39;ä¸æ–­åˆ›æ–°&amp;#39;, 0.6758015155792236),
 (&amp;#39;åˆ›æ–°å‹&amp;#39;, 0.636788547039032),
 (&amp;#39;åˆ›æ–°èƒ½åŠ›&amp;#39;, 0.6053606271743774),
 (&amp;#39;å¼•é¢†&amp;#39;, 0.6049476265907288),
 (&amp;#39;ç¡¬æ ¸&amp;#39;, 0.5690070986747742),
 (&amp;#39;å‰æ²¿&amp;#39;, 0.5627986788749695),
 (&amp;#39;èµ‹èƒ½&amp;#39;, 0.5582684278488159),
 (&amp;#39;åˆ›æ–°æ€§&amp;#39;, 0.5509947538375854)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;å¤šä¸ªè¯æ±‚å¾—å‡å€¼å‘é‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;AI_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_mean_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ai&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;æœºå™¨å­¦ä¹ &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äººå·¥æ™ºèƒ½&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è‡ªç„¶è¯­è¨€å¤„ç†&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AI_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;ai&amp;#39;, 0.9074109792709351),
 (&amp;#39;æœºå™¨å­¦ä¹ &amp;#39;, 0.8809980750083923),
 (&amp;#39;è‡ªç„¶è¯­è¨€å¤„ç†&amp;#39;, 0.8750396966934204),
 (&amp;#39;aiæ¨¡å‹&amp;#39;, 0.8575210571289062),
 (&amp;#39;äººå·¥æ™ºèƒ½&amp;#39;, 0.8506893515586853),
 (&amp;#39;nlp&amp;#39;, 0.8240388035774231),
 (&amp;#39;è¯­è¨€æ¨¡å‹&amp;#39;, 0.8206671476364136),
 (&amp;#39;æ¨¡æ€æ¨¡å‹&amp;#39;, 0.8144882917404175),
 (&amp;#39;æ·±åº¦å­¦ä¹ &amp;#39;, 0.7912176847457886),
 (&amp;#39;ç”Ÿæˆå¼&amp;#39;, 0.7850476503372192),
 (&amp;#39;è‡ªç„¶è¯­è¨€&amp;#39;, 0.7846022248268127),
 (&amp;#39;llm&amp;#39;, 0.7809537649154663),
 (&amp;#39;å¤§æ¨¡&amp;#39;, 0.7670232653617859),
 (&amp;#39;gpt&amp;#39;, 0.7638874053955078),
 (&amp;#39;è‡ªç„¶è¯­è¨€ç†è§£&amp;#39;, 0.7441188097000122),
 (&amp;#39;çŸ¥è¯†å›¾è°±&amp;#39;, 0.7421959638595581),
 (&amp;#39;ç”Ÿæˆå¼ai&amp;#39;, 0.7387682199478149),
 (&amp;#39;aigc&amp;#39;, 0.7381091117858887),
 (&amp;#39;aiç®—æ³•&amp;#39;, 0.7311530709266663),
 (&amp;#39;è¯­éŸ³è¯†åˆ«&amp;#39;, 0.7257674932479858)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;çŸ­è§†ä¸»ä¹‰è¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;short_term_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_mean_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å°½å¿«&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¹´å†…&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é©¬ä¸Š&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;short_term_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;å°½å¿«&amp;#39;, 0.7294592261314392),
 (&amp;#39;å¹´å†…&amp;#39;, 0.7279667854309082),
 (&amp;#39;å°½æ—©&amp;#39;, 0.6742831468582153),
 (&amp;#39;é©¬ä¸Š&amp;#39;, 0.6565427184104919),
 (&amp;#39;å³å°†&amp;#39;, 0.61030113697052),
 (&amp;#39;æ—©æ—¥&amp;#39;, 0.6024956107139587),
 (&amp;#39;äº‰å–æ—©æ—¥&amp;#39;, 0.5442042946815491),
 (&amp;#39;äº‰å–å°½æ—©&amp;#39;, 0.5283723473548889),
 (&amp;#39;æŠ“ç´§&amp;#39;, 0.5254929661750793),
 (&amp;#39;äº‰å–&amp;#39;, 0.5205905437469482),
 (&amp;#39;çŸ­æ—¶é—´&amp;#39;, 0.5205082297325134),
 (&amp;#39;äº‰å–å°½å¿«&amp;#39;, 0.5160724520683289),
 (&amp;#39;æŒ‰æœŸ&amp;#39;, 0.51212477684021),
 (&amp;#39;åç»­&amp;#39;, 0.5105950236320496),
 (&amp;#39;åŠ›äº‰æ—©æ—¥&amp;#39;, 0.5102716684341431),
 (&amp;#39;æå‰&amp;#39;, 0.5060917139053345),
 (&amp;#39;åŠ›äº‰&amp;#39;, 0.4955942928791046),
 (&amp;#39;åŠ›äº‰å°½æ—©&amp;#39;, 0.4942554235458374),
 (&amp;#39;æœ€å&amp;#39;, 0.4882470369338989),
 (&amp;#39;ç«‹å³&amp;#39;, 0.4858567416667938)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››æ‰©å±•è¯å…¸&#34;&gt;å››ã€æ‰©å±•è¯å…¸&lt;/h2&gt;
&lt;p&gt;åšè¯å…¸æ³•çš„æ–‡æœ¬åˆ†æï¼Œæœ€é‡è¦çš„æ˜¯æœ‰è‡ªå·±çš„é¢†åŸŸè¯å…¸ã€‚ä¹‹å‰å—é™äºæŠ€æœ¯éš¾åº¦ï¼Œæ–‡ç§‘ç”Ÿçš„æˆ‘ä¹Ÿä¸€ç›´åœ¨ç”¨å½¢å®¹è¯çš„é€šç”¨æƒ…æ„Ÿè¯å…¸ã€‚ç°åœ¨ä¾æ‰˜ word2vec æŠ€æœ¯ï¼Œ å¯ä»¥åŠ é€Ÿäººå·¥æ„å»ºçš„å‡†ç¡®ç‡å’Œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯åœ¨ &lt;strong&gt;&lt;em&gt;mda01-24-Word2Vec.200.15.bin&lt;/em&gt;&lt;/strong&gt; ä¸Šåšçš„è¯å…¸æ‰©å±•æµ‹è¯•ï¼Œå‡½æ•° &lt;strong&gt;&lt;em&gt;ct.expand_dictionary(wv, seeddict, topn=100)&lt;/em&gt;&lt;/strong&gt; ä¼šæ ¹æ®ç§å­è¯é€‰å–æœ€å‡†ç¡®çš„ topn ä¸ªè¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;wv&lt;/em&gt;&lt;/strong&gt; é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;seeddict&lt;/em&gt;&lt;/strong&gt; å‚æ•°ç±»ä¼¼äºç§å­è¯ï¼›æ ¼å¼ä¸º PYTHON å­—å…¸ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;topn&lt;/em&gt;&lt;/strong&gt; è¿”å› topn ä¸ªè¯­ä¹‰æœ€æ¥è¿‘ seeddict çš„è¯ï¼Œé»˜è®¤ 100.&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;p&gt;å‡è®¾ç°åœ¨æœ‰ç§å­è¯ seeddictsï¼Œ å†…å«æˆ‘æ„å»ºçš„ &lt;strong&gt;&lt;em&gt;çŸ­è§†è¯&lt;/em&gt;&lt;/strong&gt;ã€ &lt;strong&gt;&lt;em&gt;åˆ›æ–°è¯&lt;/em&gt;&lt;/strong&gt;ã€ &lt;strong&gt;&lt;em&gt;ç«äº‰è¯&lt;/em&gt;&lt;/strong&gt;ï¼Œ æˆ‘å¸Œæœ›ç”Ÿæˆæœ€ç»ˆå„å« 30 ä¸ªè¯çš„å€™é€‰è¯è¡¨ txt æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ &lt;strong&gt;&lt;em&gt;ct.expand_dictionary&lt;/em&gt;&lt;/strong&gt; è¿›è¡Œå¦‚ä¸‹æ“ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;seeddicts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;çŸ­è§†è¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æŠ“ç´§&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç«‹åˆ»&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æœˆåº•&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¹´åº•&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¹´ç»ˆ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº‰å–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;åŠ›äº‰&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°è¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç§‘æŠ€&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;æŠ€æœ¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ ‡å‡†&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç«äº‰è¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç«äº‰&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç«äº‰åŠ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;expand_dictionary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                     &lt;span class=&#34;n&#34;&gt;seeddict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;seeddicts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                     &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Finish! çŸ­è§†è¯ candidates saved to output/çŸ­è§†è¯.txt
Finish! åˆ›æ–°è¯ candidates saved to output/åˆ›æ–°è¯.txt
Finish! ç«äº‰è¯ candidates saved to output/ç«äº‰è¯.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/03-expand.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…­è·å–æ¨¡å‹&#34;&gt;å…­ã€è·å–æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;å†…å®¹åˆ›ä½œä¸æ˜“ï¼Œ æœ¬æ–‡ä¸ºä»˜è´¹å†…å®¹ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- å…è´¹     mda01-24-Word2Vec.200.15.bin   é“¾æ¥: https://pan.baidu.com/s/1Gke4UKOnswpctp8vsZ0koQ?pwd=dpry

- å…è´¹     mda01-24-GloVe.200.15.bin é“¾æ¥: https://pan.baidu.com/s/1TqoA4TqMAhLzpIp0ZvrQEA?pwd=ajjw

- æ›´å¤šå…è´¹è¯å‘é‡      https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 100å…ƒ    cntext-2.1.6-py3-none-any.whl  åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³å†…å®¹&#34;&gt;ç›¸å…³å†…å®¹&lt;/h2&gt;
&lt;p&gt;ç›¸å…³æ–‡çŒ®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[0]åˆ˜æ™¯æ±Ÿ,éƒ‘ç•…ç„¶,æ´ªæ°¸æ·¼.æœºå™¨å­¦ä¹ å¦‚ä½•èµ‹èƒ½ç®¡ç†å­¦ç ”ç©¶ï¼Ÿâ€”â€”å›½å†…å¤–å‰æ²¿ç»¼è¿°å’Œæœªæ¥å±•æœ›[J].ç®¡ç†ä¸–ç•Œ,2023,39(09):191-216.
[1]å†‰é›…ç’‡,æå¿—å¼º,åˆ˜ä½³å¦®,å¼ é€¸çŸ³.å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨[J].å—å¼€ç®¡ç†è¯„è®º:1-27.
[3]èƒ¡æ¥ ,è–›ä»˜å©§,ç‹æ˜Šæ¥ .ç®¡ç†è€…çŸ­è§†ä¸»ä¹‰å½±å“ä¼ä¸šé•¿æœŸæŠ•èµ„å—ï¼Ÿâ€”â€”åŸºäºæ–‡æœ¬åˆ†æå’Œæœºå™¨å­¦ä¹ [J].ç®¡ç†ä¸–ç•Œ,2021,37(05):139-156+11+19-21.
[4]Kai Li, Feng Mai, Rui Shen, Xinyan Yan, Measuring Corporate Culture Using Machine Learning, *The Review of Financial Studies*,2020
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/the_text_analysis_list_about_ms/&#34;&gt;LIST | ç¤¾ç§‘(ç»ç®¡)æ–‡æœ¬æŒ–æ˜æ–‡çŒ®æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/text_analysis_code_list_about_ms/&#34;&gt;LIST | æ–‡æœ¬åˆ†æä»£ç æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/&#34;&gt;è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§ 39 ä¸ª FAQ æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/datasets_available_for_management_science/&#34;&gt;LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/management_python_course/&#34;&gt;Python å®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/&#34;&gt;æ¨è | æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/&#34;&gt;ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-10-training-word2vec-model-using-china-3751w-patent-application-dataset/&#34;&gt;è¯å‘é‡ | ä½¿ç”¨1985å¹´-2025å¹´ä¸“åˆ©ç”³è¯·æ‘˜è¦è®­ç»ƒ Word2Vec æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/&#34;&gt;è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/&#34;&gt;å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/&#34;&gt;å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€æ•°æ®é›†">ä¸€ã€æ•°æ®é›†</h2>
<h3 id="11-æ•°æ®æ¦‚å†µ">1.1 æ•°æ®æ¦‚å†µ</h3>
<p><a href="https://textdata.cn/blog/2023-03-23-china-a-share-market-dataset-mda-from-01-to-21/"><strong>æ•°æ®é›† | 2001-2024 å¹´ A è‚¡ä¸Šå¸‚å…¬å¸å¹´æŠ¥&amp;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ</strong></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">æ•°æ®åç§°: 2001-2024å¹´Aè‚¡ä¸Šå¸‚å…¬å¸å¹´æŠ¥&amp;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ
æ•°æ®æ¥æº: ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€ã€æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€
æ•°æ®æ ¼å¼: csvã€txt
å…¬å¸æ•°é‡: 5706
MD&amp;Aæ•°é‡: 65519
ä¼šè®¡å¹´åº¦: 2001-2024
</code></pre></div><h3 id="12-è¯»å–-mda-æ•°æ®">1.2 è¯»å– md&amp;a æ•°æ®</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># è¯»å–å‰5è¡Œæ•°æ®</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;mda01-24.csv.gz&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># gzè§£å‹åè¯»å–csv</span>
<span class="c1"># df = pd.read_csv(&#39;mda01-24.csv&#39;, nrows=5)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">65519
</code></pre></div><p><img loading="lazy" src="img/01-df.png" alt=""  />
</p>
<br>
<h2 id="äºŒè®­ç»ƒ-word2vec--glove-æ¨¡å‹">äºŒã€è®­ç»ƒ Word2Vec &amp; GloVe æ¨¡å‹</h2>
<h3 id="21-å‡†å¤‡è¯­æ–™">2.1 å‡†å¤‡è¯­æ–™</h3>
<p>ä» <strong>mda01-24.csv.gz</strong> æ•°æ®ä¸­æŠ½å–å‡ºæ‰€æœ‰æ–‡æœ¬ï¼Œå†™å…¥åˆ° <strong>mda01-24.txt</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;mda01-24.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><p>æœ€ç»ˆå¾—åˆ° 3.34G çš„è¯­æ–™æ–‡ä»¶ã€‚</p>
<br>
<h2 id="22-é…ç½®-cntext-ç¯å¢ƒ">2.2 é…ç½® cntext ç¯å¢ƒ</h2>
<p>ä½¿ç”¨ 2.1.6 ç‰ˆæœ¬ cntext åº“(è¯¥ç‰ˆæœ¬æš‚ä¸å¼€æºï¼Œéœ€ä»˜è´¹è´­ä¹°)ã€‚ å°†å¾—åˆ°çš„ <strong>cntext-2.1.6-py3-none-any.whl</strong> æ–‡ä»¶æ”¾ç½®äºç”µè„‘æ¡Œé¢ï¼Œ win ç³»ç»Ÿæ‰“å¼€<strong>cmd</strong>(Mac æ‰“å¼€ terminal)ï¼Œ è¾“å…¥å¦‚ä¸‹å‘½ä»¤(å°†å·¥ä½œç¯å¢ƒåˆ‡æ¢è‡³æ¡Œé¢)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¸ªåˆ« Win ç”¨æˆ·å¦‚æ— æ•ˆï¼Œè¯•è¯•<code>cd Desktop</code> ã€‚</p>
<p>ç»§ç»­åœ¨ cmd (terminal) ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£… cntext2.1.6</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext-2.1.6-py3-none-any.whl
</code></pre></div><br>
<h3 id="23-å¼€å§‹è®­ç»ƒ">2.3 å¼€å§‹è®­ç»ƒ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">w2v_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;mda01-24.txt&#39;</span><span class="p">,</span> <span class="c1"># è¯­æ–™æ–‡ä»¶</span>
                        <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span>             <span class="c1"># ä¸­æ–‡è¯­æ–™</span>
                        <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>            <span class="c1"># åµŒå…¥çš„ç»´åº¦æ•°</span>
                        <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>             <span class="c1"># è¯è¯­ä¸Šä¸‹æ–‡çš„çª—å£å¤§å°</span>



<span class="n">glove_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">GloVe</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;mda01-24.txt&#39;</span><span class="p">,</span>
                       <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                       <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                       <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/mda01-24_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆ| 27404772/27404772 [04:38&lt;00:00, 9
Reading Preprocessed Corpus from output/mda01-24_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 1625 s. 
Output Saved To: output/mda01-24-Word2Vec.200.15.bin


Mac(Linux) System, Enable Parallel Processing
Cache output/mda01-24_cache.txt Found, Skip Preprocessing Corpus
Start Training GloVe
BUILDING VOCABULARY
Using vocabulary of size 536863.

COUNTING COOCCURRENCES
Merging cooccurrence files: processed 353975745 lines.

Using random seed 1746091798
SHUFFLING COOCCURRENCES
Merging temp files: processed 353975745 lines.

TRAINING MODEL
Read 353975745 lines.
Using random seed 1746091864
05/01/25 - 05:32.08PM, iter: 001, cost: 0.115862
05/01/25 - 05:33.04PM, iter: 002, cost: 0.082325
05/01/25 - 05:34.00PM, iter: 003, cost: 0.070848
......
......
05/01/25 - 05:43.23PM, iter: 013, cost: 0.050617
05/01/25 - 05:44.19PM, iter: 014, cost: 0.050079
05/01/25 - 05:45.16PM, iter: 015, cost: 0.049582

GloVe Training Cost 1366 s. 
Output Saved To: output/mda01-24-GloVe.200.15.bin
CPU times: user 1h 28min 19s, sys: 2min 6s, total: 1h 30min 26s
Wall time: 49min 55s
</code></pre></div><p>ç»è¿‡ 1.5 å°æ—¶ï¼Œ è®­ç»ƒå‡ºçš„ä¸­å›½ A è‚¡ç®¡ç†å±‚è®¨è®ºä¸åˆ†æçš„ GloVe å’Œ Word2Vec è¯å‘é‡æ¨¡å‹(å¦‚ä¸‹æˆªå›¾)ã€‚æ¨¡å‹å¯å¹¿æ³›ç”¨äºç»æµç®¡ç†ç­‰é¢†åŸŸæ¦‚å¿µ(æƒ…æ„Ÿ)è¯å…¸çš„æ„å»ºæˆ–æ‰©å±•ã€‚</p>
<ul>
<li><strong>mda01-24_cache.txt</strong> ç¼“å­˜æ–‡ä»¶</li>
<li><strong>mda01-24-Word2Vec.200.15.bin</strong> Word2Vec æ¨¡å‹æ–‡ä»¶</li>
<li><strong>mda01-24-GloVe.200.15.bin</strong> GloVe æ¨¡å‹æ–‡ä»¶</li>
</ul>
<p><img loading="lazy" src="img/pretained-screen.png" alt=""  />
</p>
<br>
<br>
<h2 id="ä¸‰ä½¿ç”¨æ¨¡å‹">ä¸‰ã€ä½¿ç”¨æ¨¡å‹</h2>
<h3 id="31-å¯¼å…¥æ¨¡å‹">3.1 å¯¼å…¥æ¨¡å‹</h3>
<p>ä½¿ç”¨ <strong><em>ct.load_w2v(w2v_path)</em></strong> æ¥å¯¼å…¥åˆšåˆšè®­ç»ƒå¥½çš„æ¨¡å‹ <strong><em>mda01-24-GloVe.200.15.bin</em></strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>

<span class="n">w2v_model</span>   <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/mda01-24-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="n">glove_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/mda01-24-GloVe.200.15.bin&#39;</span><span class="p">)</span>
<span class="n">w2v_model</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">2.1.6
Loading output/mda01-24-Word2Vec.200.15.bin...
Loading output/mda01-24-GloVe.200.15.bin...
&lt;gensim.models.keyedvectors.KeyedVectors at 0x633060fe0&gt;
</code></pre></div><br>
<h3 id="32-è¯„ä¼°æ¨¡å‹">3.2 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<p>ä»¥ word2vec ä¸ºä¾‹ï¼Œè¯„ä¼°æ¨¡å‹è¡¨ç°</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>

<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   425    |    112     |            0.42            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   455    |    222     |   31.21    |   4.30   |
|   CityInProvince   |   175    |     0      |   97.71    |   1.26   |
| FamilyRelationship |    90    |    182     |   10.00    |   5.89   |
|   SocialScience    |    9     |     61     |   44.44    |   4.50   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p><strong>è¿‘ä¹‰æµ‹è¯•</strong>: Spearman&rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚</p>
<br>
<p><strong>ç±»æ¯”æµ‹è¯•</strong>:</p>
<ul>
<li>CapitalOfCountries ä¸­æ–‡ md&amp;a è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§å›½å®¶é¦–åº¦çš„æåŠè¾ƒå°‘ã€‚ä¹Ÿä½“ç°äº†å¤§å¤šæ•°ä¼ä¸šæ²¡æœ‰å›½é™…åŒ–ã€‚ç›²çŒœç¾è‚¡çš„ CapitalOfCountries è¡¨ç°åº”è¯¥å¥½äº A è‚¡ã€‚</li>
<li>CityInProvince ä¸­æ–‡ md&amp;a è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¦‚æ­¤ä¼˜å¼‚ï¼Œè¯´æ˜ A è‚¡å¤šæ•°ä¼ä¸šæ‰æ ¹äºä¸­å›½å¤§åœ°ï¼Œ å¹´æŠ¥ md&amp;a ä¸­æåŠæ¬¡æ•°å¾ˆå¤šã€‚</li>
<li>FamilyRelationship ä¸­æ–‡ md&amp;a è¯­æ–™ä¸­ä¸»è¦ä½“ç°çš„æ˜¯å…¬å¸ç»„ç»‡å±‚é¢ï¼Œè¾ƒå°‘æåŠå®¶åº­å…³ç³»è¯è¯­ï¼Œæ‰€ä»¥ç±»åˆ«è¡¨ç°ä¸€èˆ¬æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ã€‚</li>
<li>SocialScience ä¸­æ–‡ md&amp;a è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚</p>
<br>
<h3 id="33-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">3.3 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>KeyedVectors.index_to_key</em></strong></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.key_to_index</em></strong></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.vector_size</em></strong></td>
<td>è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.get_vector(word)</em></strong></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_word(word, topn=10)</em></strong></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_vector(vector, topn=10)</em></strong></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="34-æŸ¥çœ‹è¯æ±‡é‡ç»´åº¦æ•°">3.4 æŸ¥çœ‹è¯æ±‡é‡&amp;ç»´åº¦æ•°</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># è¯æ±‡é‡</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Word2Vecè¯æ±‡é‡: &#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;GloVeè¯æ±‡é‡: &#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">glove_model</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Word2Vecç»´åº¦æ•°: &#39;</span><span class="p">,</span> <span class="n">w2v_model</span><span class="o">.</span><span class="n">vector_size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;GloVeç»´åº¦æ•°: &#39;</span><span class="p">,</span> <span class="n">glove_model</span><span class="o">.</span><span class="n">vector_size</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Word2Vecè¯æ±‡é‡:  902666
GloVeè¯æ±‡é‡:     536864
Word2Vecç»´åº¦æ•°:  200
GloVeç»´åº¦æ•°:     200
</code></pre></div><br>
<h3 id="35-è¯è¡¨">3.5 è¯è¡¨</h3>
<p>æŸ¥çœ‹è¯è¡¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">w2v_model</span><span class="o">.</span><span class="n">index_to_key</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;å…¬å¸&#39;,
 &#39;é€‚ç”¨&#39;,
 &#39;æƒ…å†µ&#39;,
 &#39;é¡¹ç›®&#39;,
 &#39;äº§å“&#39;,
 ...
 &#39;æ¯”ä¸Š&#39;,
 &#39;å¢ƒå†…&#39;,
 &#39;æœ€ç»ˆ&#39;,
 &#39;å¯åŠ¨&#39;,
 ...]
</code></pre></div><br>
<p>æŸ¥çœ‹è¯æ±‡æ˜ å°„è¡¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">w2v_model</span><span class="o">.</span><span class="n">key_to_index</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;å…¬å¸&#39;: 0,
 &#39;é€‚ç”¨&#39;: 1,
 &#39;æƒ…å†µ&#39;: 2,
 &#39;é¡¹ç›®&#39;: 3,
 &#39;äº§å“&#39;: 4,
 ......
 &#39;æ¯”ä¸Š&#39;: 996,
 &#39;å¢ƒå†…&#39;: 997,
 &#39;æœ€ç»ˆ&#39;: 998,
 &#39;å¯åŠ¨&#39;: 999,
 ...}
</code></pre></div><br>
<h3 id="36-æŸ¥çœ‹è¯å‘é‡">3.6 æŸ¥çœ‹è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æŸ¥è¯¢æŸè¯çš„è¯å‘é‡</span>
<span class="n">w2v_model</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 2.2048666 ,  1.7392347 ,  3.8569732 ,  2.181498  ,  0.49182096,
       -2.0054908 ,  0.55133677,  0.97385484,  3.6563325 , -2.1495004 ,
       -4.8804154 ,  2.8375697 ,  2.071349  ,  3.0867636 , -1.3978149 ,
       -0.38058507, -2.379905  , -1.8974878 ,  3.596266  ,  0.44742537,
        ......
        0.13521506, -0.78970003, -0.8154422 ,  1.015166  ,  0.30753416,
       -6.1991196 , -2.2295246 ,  0.797445  , -0.21968505,  1.6549479 ,
       -1.1522037 , -1.5377268 , -3.4639692 , -3.3877385 ,  3.5285642 ,
        0.9497059 , -2.6022844 ,  1.6192312 , -0.39254257, -0.5094183 ],
      dtype=float32)
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æŸ¥è¯¢å¤šä¸ªè¯çš„è¯å‘é‡</span>
<span class="n">w2v_model</span><span class="o">.</span><span class="n">get_mean_vector</span><span class="p">([</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">])</span>
</code></pre></div><p>Ruj</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 0.01322632,  0.01596442,  0.08699574,  0.06786569,  0.00441768,
       -0.04059787,  0.01970061,  0.02050735,  0.04548474, -0.01610814,
       -0.10554063,  0.08021796,  0.10255495,  0.06383747, -0.07158516,
        0.00185056, -0.02854855, -0.09506228,  0.1032301 , -0.05448814,
       ......
       -0.01035122, -0.02931183, -0.03785197,  0.04421834,  0.04357708,
       -0.15989086, -0.05572033,  0.02324059, -0.08414906,  0.02760434,
        0.01254621, -0.02324901, -0.05535778, -0.06064604,  0.0409652 ,
       -0.04119795, -0.08222105,  0.03998823, -0.03626942, -0.01975589],
      dtype=float32)

</code></pre></div><br>
<h3 id="37-è¿‘ä¹‰è¯">3.7 è¿‘ä¹‰è¯</h3>
<p>æ ¹æ®è¯è¯­æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">w2v_model</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;æŠ€æœ¯åˆ›æ–°&#39;, 0.6993309855461121),
 (&#39;ä¸æ–­åˆ›æ–°&#39;, 0.6758015155792236),
 (&#39;åˆ›æ–°å‹&#39;, 0.636788547039032),
 (&#39;åˆ›æ–°èƒ½åŠ›&#39;, 0.6053606271743774),
 (&#39;å¼•é¢†&#39;, 0.604947566986084),
 (&#39;ç¡¬æ ¸&#39;, 0.5690070986747742),
 (&#39;å‰æ²¿&#39;, 0.5627986788749695),
 (&#39;èµ‹èƒ½&#39;, 0.5582684278488159),
 (&#39;åˆ›æ–°æ€§&#39;, 0.5509947538375854),
 (&#39;é©æ–°&#39;, 0.5494255423545837)]
</code></pre></div><br>
<p>æ ¹æ®æŸè¯çš„è¯å‘é‡æŸ¥è¯¢æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">creativeness_vector</span> <span class="o">=</span> <span class="n">w2v_model</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">)</span>
<span class="n">w2v_model</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">creativeness_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;åˆ›æ–°&#39;, 1.0),
 (&#39;æŠ€æœ¯åˆ›æ–°&#39;, 0.6993309855461121),
 (&#39;ä¸æ–­åˆ›æ–°&#39;, 0.6758015155792236),
 (&#39;åˆ›æ–°å‹&#39;, 0.636788547039032),
 (&#39;åˆ›æ–°èƒ½åŠ›&#39;, 0.6053606271743774),
 (&#39;å¼•é¢†&#39;, 0.6049476265907288),
 (&#39;ç¡¬æ ¸&#39;, 0.5690070986747742),
 (&#39;å‰æ²¿&#39;, 0.5627986788749695),
 (&#39;èµ‹èƒ½&#39;, 0.5582684278488159),
 (&#39;åˆ›æ–°æ€§&#39;, 0.5509947538375854)]
</code></pre></div><br>
<p>å¤šä¸ªè¯æ±‚å¾—å‡å€¼å‘é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">AI_vector</span> <span class="o">=</span> <span class="n">w2v_model</span><span class="o">.</span><span class="n">get_mean_vector</span><span class="p">([</span><span class="s1">&#39;ai&#39;</span><span class="p">,</span>  <span class="s1">&#39;æœºå™¨å­¦ä¹ &#39;</span><span class="p">,</span> <span class="s1">&#39;äººå·¥æ™ºèƒ½&#39;</span><span class="p">,</span> <span class="s1">&#39;è‡ªç„¶è¯­è¨€å¤„ç†&#39;</span><span class="p">])</span>
<span class="n">w2v_model</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">AI_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ai&#39;, 0.9074109792709351),
 (&#39;æœºå™¨å­¦ä¹ &#39;, 0.8809980750083923),
 (&#39;è‡ªç„¶è¯­è¨€å¤„ç†&#39;, 0.8750396966934204),
 (&#39;aiæ¨¡å‹&#39;, 0.8575210571289062),
 (&#39;äººå·¥æ™ºèƒ½&#39;, 0.8506893515586853),
 (&#39;nlp&#39;, 0.8240388035774231),
 (&#39;è¯­è¨€æ¨¡å‹&#39;, 0.8206671476364136),
 (&#39;æ¨¡æ€æ¨¡å‹&#39;, 0.8144882917404175),
 (&#39;æ·±åº¦å­¦ä¹ &#39;, 0.7912176847457886),
 (&#39;ç”Ÿæˆå¼&#39;, 0.7850476503372192),
 (&#39;è‡ªç„¶è¯­è¨€&#39;, 0.7846022248268127),
 (&#39;llm&#39;, 0.7809537649154663),
 (&#39;å¤§æ¨¡&#39;, 0.7670232653617859),
 (&#39;gpt&#39;, 0.7638874053955078),
 (&#39;è‡ªç„¶è¯­è¨€ç†è§£&#39;, 0.7441188097000122),
 (&#39;çŸ¥è¯†å›¾è°±&#39;, 0.7421959638595581),
 (&#39;ç”Ÿæˆå¼ai&#39;, 0.7387682199478149),
 (&#39;aigc&#39;, 0.7381091117858887),
 (&#39;aiç®—æ³•&#39;, 0.7311530709266663),
 (&#39;è¯­éŸ³è¯†åˆ«&#39;, 0.7257674932479858)]
</code></pre></div><br>
<p>çŸ­è§†ä¸»ä¹‰è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">short_term_vector</span> <span class="o">=</span> <span class="n">w2v_model</span><span class="o">.</span><span class="n">get_mean_vector</span><span class="p">([</span><span class="s1">&#39;å°½å¿«&#39;</span><span class="p">,</span>  <span class="s1">&#39;å¹´å†…&#39;</span><span class="p">,</span> <span class="s1">&#39;é©¬ä¸Š&#39;</span><span class="p">])</span>
<span class="n">w2v_model</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">short_term_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å°½å¿«&#39;, 0.7294592261314392),
 (&#39;å¹´å†…&#39;, 0.7279667854309082),
 (&#39;å°½æ—©&#39;, 0.6742831468582153),
 (&#39;é©¬ä¸Š&#39;, 0.6565427184104919),
 (&#39;å³å°†&#39;, 0.61030113697052),
 (&#39;æ—©æ—¥&#39;, 0.6024956107139587),
 (&#39;äº‰å–æ—©æ—¥&#39;, 0.5442042946815491),
 (&#39;äº‰å–å°½æ—©&#39;, 0.5283723473548889),
 (&#39;æŠ“ç´§&#39;, 0.5254929661750793),
 (&#39;äº‰å–&#39;, 0.5205905437469482),
 (&#39;çŸ­æ—¶é—´&#39;, 0.5205082297325134),
 (&#39;äº‰å–å°½å¿«&#39;, 0.5160724520683289),
 (&#39;æŒ‰æœŸ&#39;, 0.51212477684021),
 (&#39;åç»­&#39;, 0.5105950236320496),
 (&#39;åŠ›äº‰æ—©æ—¥&#39;, 0.5102716684341431),
 (&#39;æå‰&#39;, 0.5060917139053345),
 (&#39;åŠ›äº‰&#39;, 0.4955942928791046),
 (&#39;åŠ›äº‰å°½æ—©&#39;, 0.4942554235458374),
 (&#39;æœ€å&#39;, 0.4882470369338989),
 (&#39;ç«‹å³&#39;, 0.4858567416667938)]
</code></pre></div><p><br><br></p>
<h2 id="å››æ‰©å±•è¯å…¸">å››ã€æ‰©å±•è¯å…¸</h2>
<p>åšè¯å…¸æ³•çš„æ–‡æœ¬åˆ†æï¼Œæœ€é‡è¦çš„æ˜¯æœ‰è‡ªå·±çš„é¢†åŸŸè¯å…¸ã€‚ä¹‹å‰å—é™äºæŠ€æœ¯éš¾åº¦ï¼Œæ–‡ç§‘ç”Ÿçš„æˆ‘ä¹Ÿä¸€ç›´åœ¨ç”¨å½¢å®¹è¯çš„é€šç”¨æƒ…æ„Ÿè¯å…¸ã€‚ç°åœ¨ä¾æ‰˜ word2vec æŠ€æœ¯ï¼Œ å¯ä»¥åŠ é€Ÿäººå·¥æ„å»ºçš„å‡†ç¡®ç‡å’Œæ•ˆç‡ã€‚</p>
<p>ä¸‹é¢æ˜¯åœ¨ <strong><em>mda01-24-Word2Vec.200.15.bin</em></strong> ä¸Šåšçš„è¯å…¸æ‰©å±•æµ‹è¯•ï¼Œå‡½æ•° <strong><em>ct.expand_dictionary(wv, seeddict, topn=100)</em></strong> ä¼šæ ¹æ®ç§å­è¯é€‰å–æœ€å‡†ç¡®çš„ topn ä¸ªè¯ã€‚</p>
<ul>
<li><strong><em>wv</em></strong> é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li><strong><em>seeddict</em></strong> å‚æ•°ç±»ä¼¼äºç§å­è¯ï¼›æ ¼å¼ä¸º PYTHON å­—å…¸ï¼›</li>
<li><strong><em>topn</em></strong> è¿”å› topn ä¸ªè¯­ä¹‰æœ€æ¥è¿‘ seeddict çš„è¯ï¼Œé»˜è®¤ 100.</li>
</ul>
<br>
<p>å‡è®¾ç°åœ¨æœ‰ç§å­è¯ seeddictsï¼Œ å†…å«æˆ‘æ„å»ºçš„ <strong><em>çŸ­è§†è¯</em></strong>ã€ <strong><em>åˆ›æ–°è¯</em></strong>ã€ <strong><em>ç«äº‰è¯</em></strong>ï¼Œ æˆ‘å¸Œæœ›ç”Ÿæˆæœ€ç»ˆå„å« 30 ä¸ªè¯çš„å€™é€‰è¯è¡¨ txt æ–‡ä»¶ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <strong><em>ct.expand_dictionary</em></strong> è¿›è¡Œå¦‚ä¸‹æ“ä½œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">seeddicts</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;çŸ­è§†è¯&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;æŠ“ç´§&#39;</span><span class="p">,</span> <span class="s1">&#39;ç«‹åˆ»&#39;</span><span class="p">,</span> <span class="s1">&#39;æœˆåº•&#39;</span><span class="p">,</span> <span class="s1">&#39;å¹´åº•&#39;</span><span class="p">,</span> <span class="s1">&#39;å¹´ç»ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;äº‰å–&#39;</span><span class="p">,</span> <span class="s1">&#39;åŠ›äº‰&#39;</span><span class="p">],</span>
    <span class="s1">&#39;åˆ›æ–°è¯&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;ç§‘æŠ€&#39;</span><span class="p">,</span>  <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span>  <span class="s1">&#39;æŠ€æœ¯&#39;</span><span class="p">,</span> <span class="s1">&#39;æ ‡å‡†&#39;</span><span class="p">],</span>
    <span class="s1">&#39;ç«äº‰è¯&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ç«äº‰&#39;</span><span class="p">,</span> <span class="s1">&#39;ç«äº‰åŠ›&#39;</span><span class="p">],</span>
    <span class="p">}</span>

<span class="n">ct</span><span class="o">.</span><span class="n">expand_dictionary</span><span class="p">(</span><span class="n">wv</span> <span class="o">=</span> <span class="n">w2v_model</span><span class="p">,</span>
                     <span class="n">seeddict</span> <span class="o">=</span> <span class="n">seeddicts</span><span class="p">,</span>
                     <span class="n">topn</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Finish! çŸ­è§†è¯ candidates saved to output/çŸ­è§†è¯.txt
Finish! åˆ›æ–°è¯ candidates saved to output/åˆ›æ–°è¯.txt
Finish! ç«äº‰è¯ candidates saved to output/ç«äº‰è¯.txt
</code></pre></div><p><img loading="lazy" src="img/03-expand.jpg" alt=""  />
</p>
<p><br><br></p>
<h2 id="å…­è·å–æ¨¡å‹">å…­ã€è·å–æ¨¡å‹</h2>
<p>å†…å®¹åˆ›ä½œä¸æ˜“ï¼Œ æœ¬æ–‡ä¸ºä»˜è´¹å†…å®¹ï¼Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹     mda01-24-Word2Vec.200.15.bin   é“¾æ¥: https://pan.baidu.com/s/1Gke4UKOnswpctp8vsZ0koQ?pwd=dpry

- å…è´¹     mda01-24-GloVe.200.15.bin é“¾æ¥: https://pan.baidu.com/s/1TqoA4TqMAhLzpIp0ZvrQEA?pwd=ajjw

- æ›´å¤šå…è´¹è¯å‘é‡      https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 100å…ƒ    cntext-2.1.6-py3-none-any.whl  åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div><p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<p>ç›¸å…³æ–‡çŒ®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[0]åˆ˜æ™¯æ±Ÿ,éƒ‘ç•…ç„¶,æ´ªæ°¸æ·¼.æœºå™¨å­¦ä¹ å¦‚ä½•èµ‹èƒ½ç®¡ç†å­¦ç ”ç©¶ï¼Ÿâ€”â€”å›½å†…å¤–å‰æ²¿ç»¼è¿°å’Œæœªæ¥å±•æœ›[J].ç®¡ç†ä¸–ç•Œ,2023,39(09):191-216.
[1]å†‰é›…ç’‡,æå¿—å¼º,åˆ˜ä½³å¦®,å¼ é€¸çŸ³.å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨[J].å—å¼€ç®¡ç†è¯„è®º:1-27.
[3]èƒ¡æ¥ ,è–›ä»˜å©§,ç‹æ˜Šæ¥ .ç®¡ç†è€…çŸ­è§†ä¸»ä¹‰å½±å“ä¼ä¸šé•¿æœŸæŠ•èµ„å—ï¼Ÿâ€”â€”åŸºäºæ–‡æœ¬åˆ†æå’Œæœºå™¨å­¦ä¹ [J].ç®¡ç†ä¸–ç•Œ,2021,37(05):139-156+11+19-21.
[4]Kai Li, Feng Mai, Rui Shen, Xinyan Yan, Measuring Corporate Culture Using Machine Learning, *The Review of Financial Studies*,2020
</code></pre></div><br>
<ul>
<li><a href="https://textdata.cn/blog/the_text_analysis_list_about_ms/">LIST | ç¤¾ç§‘(ç»ç®¡)æ–‡æœ¬æŒ–æ˜æ–‡çŒ®æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/text_analysis_code_list_about_ms/">LIST | æ–‡æœ¬åˆ†æä»£ç æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/">è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§ 39 ä¸ª FAQ æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/datasets_available_for_management_science/">LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†</a></li>
<li><a href="https://textdata.cn/blog/management_python_course/">Python å®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">æ¨è | æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ</a></li>
<li><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2023-11-10-training-word2vec-model-using-china-3751w-patent-application-dataset/">è¯å‘é‡ | ä½¿ç”¨1985å¹´-2025å¹´ä¸“åˆ©ç”³è¯·æ‘˜è¦è®­ç»ƒ Word2Vec æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ–‡åŒ–å‡ ä½•å­¦ï¼šé€šè¿‡è¯åµŒå…¥åˆ†æåæ˜ æ–‡æœ¬èƒŒåçš„ç¤¾ä¼šæ–‡åŒ–(å˜è¿)</title>
      <link>https://textdata.cn/blog/2025-04-23-word-embedding-reflect-human-attitude/</link>
      <pubDate>Wed, 23 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-04-23-word-embedding-reflect-human-attitude/</guid>
      <description>ä¸­æ–‡è¯­æ–™é¢„è®­ç»ƒæ¨¡å‹åˆ—è¡¨ï¼Œ ä½¿ç”¨ cntext2.x è®­ç»ƒå‡ºçš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œ ä¸»è¦åˆ† GloVe å’Œ Word2Vec ä¸¤ç§ã€‚</description>
      <content:encoded><![CDATA[<p>äººç±»åœ¨ç•™ä¸‹è¯­è¨€ã€æ–‡å­—çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿç•™ä¸‹äº†è‡ªå·±çš„åè§ã€æ€åº¦ç­‰ä¸»è§‚è®¤çŸ¥ä¿¡æ¯ï¼ˆåè§ã€æ€åº¦ï¼‰ã€‚è¯åµŒå…¥åšä¸ºä¸€ç§è¯å‘é‡æ¨¡å‹ï¼Œå¯ä»¥éšå«ä¸Šä¸‹æ–‡çš„æƒ…æ™¯ä¿¡æ¯ï¼Œæ€åº¦åŠåè§å¾ˆå®¹æ˜“ä¿ç•™åœ¨è¯å‘é‡çš„æŸäº›ç»´åº¦ä¸­ã€‚é€šè¿‡è¯å‘é‡è·ç¦»çš„æµ‹ç®—ï¼Œå°±å¯ä»¥é—´æ¥æµ‹å¾—ä¸åŒç¾¤ä½“ å¯¹ æŸæ¦‚å¿µ(ç»„ç»‡ã€ç¾¤ä½“ã€å“ç‰Œã€åœ°åŸŸç­‰)çš„æ€åº¦åè§ã€‚</p>
<ul>
<li><a href="https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/">OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯</a></li>
<li><a href="https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/">è½¬è½½ | å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨</a></li>
</ul>
<p>è™½ç„¶ç°åœ¨LLM(å¤§è¯­è¨€æ¨¡å‹)å¾ˆç«ï¼Œä½†å…¶åº•å±‚æ¶æ„Transformeræ­£æ˜¯åŸºäºè¯å‘é‡(åˆ†å¸ƒå¼è¯­ä¹‰è¡¨ç¤º)å‘å±•è€Œæ¥ã€‚LLMè™½ç„¶èƒ½ç”Ÿæˆæµç•…çš„æ–‡æœ¬ï¼Œä½†å…¶&quot;é»‘ç®±&quot;ç‰¹æ€§ä½¿å¾—æˆ‘ä»¬éš¾ä»¥ç›´æ¥åˆ†æå…¶ä¸­è•´å«çš„ç¤¾ä¼šåè§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼ ç»Ÿçš„è¯åµŒå…¥æ¨¡å‹(ç»´åº¦é€šå¸¸åœ¨50-300ä¹‹é—´)è™½ç„¶ç»´åº¦è¾ƒé«˜éš¾ä»¥ç›´è§‚ç†è§£ï¼Œä½†é€šè¿‡çº¿æ€§ä»£æ•°ç­‰æ•°å­¦å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾ç¡®æµ‹é‡å’Œåˆ†æè¯å‘é‡ç©ºé—´ä¸­çš„æ–‡åŒ–åè§å’Œæ€åº¦å€¾å‘ã€‚</p>
<p>ä¸‹å›¾æ‰€ç¤ºï¼Œ åœ¨å¤§ä¼—ç‚¹è¯„è¯­æ–™çš„è¯å‘é‡ä¸­è•´å«ç€ä¸€äº›æ–‡åŒ–(æ€åº¦æˆ–åˆ»æ¿å°è±¡)ï¼Œ å¦‚æèµ·<strong>æ—…è¡Œ</strong>è¿™ä»¶äº‹ï¼Œ å¤§å®¶è„‘æµ·é‡Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯ä¸€ç¾¤å¹´è½»å¥³æ€§æ¢ç´¢æœ‰è¶£çš„ä¸–ç•Œï¼Œä¸–ç•Œé‚£ä¹ˆå¤§æˆ‘æƒ³å»çœ‹çœ‹ã€‚ è€Œ <strong>é«˜å°”å¤«çƒ</strong>ï¼Œ åœ¨å¤§å®¶è®¤çŸ¥é‡Œæ˜¯ä¸€ç¾¤ç”·æ€§è€æ¿é€šè¿‡è¯¥æ´»åŠ¨ç¤¾äº¤è°ˆç”Ÿæ„ã€‚Â </p>
<p><img loading="lazy" src="img/04-hobby.png" alt=""  />
</p>
<br>
<h2 id="ä¸€æ–‡çŒ®">ä¸€ã€æ–‡çŒ®</h2>
<p>è¿™ç¯‡æ–‡çŒ®æŒºè€çš„ï¼Œä½†æ˜¯ç®—æ³•æ€è·¯ç›®å‰å¾ˆæœ‰å¯å‘ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Kozlowski, Austin C., Matt Taddy, and James A. Evans. &#34;The geometry of culture: Analyzing the meanings of class through word embeddings.&#34; American Sociological Review 84, no. 5 (2019): 905-949.
</code></pre></div><h3 id="æ‘˜è¦">æ‘˜è¦</h3>
<p>è¯åµŒå…¥æ¨¡å‹æ˜¯ç ”ç©¶æ–‡åŒ–çš„æœ‰æ•ˆå·¥å…·ï¼Œå¹¶ä»¥å†å²åˆ†æä¸­å¯¹ç¤¾ä¼šé˜¶çº§çš„å…±åŒç†è§£ä¸ºå®è¯æ¡ˆä¾‹ã€‚è¯åµŒå…¥æ¨¡å‹é€šè¿‡å°†è¯­ä¹‰å…³ç³»è¡¨ç¤ºä¸ºé«˜ç»´ç©ºé—´ä¸­çš„å‘é‡å…³ç³»ï¼Œæä¾›äº†ä¸€ç§ä¸å½“ä»£æ–‡åŒ–ç†è®ºä¸€è‡´çš„å…³ç³»æ¨¡å‹ã€‚åœ¨è¿™äº›ç©ºé—´ä¸­ï¼Œè¯å·®å¼‚ï¼ˆå¦‚â€œå¯Œè£•-è´«ç©·â€ï¼‰æ‰€è¯±å¯¼çš„ç»´åº¦å¯¹åº”äºæ–‡åŒ–æ„ä¹‰çš„ç»´åº¦ï¼Œè€Œè¯åœ¨è¿™äº›ç»´åº¦ä¸Šçš„æŠ•å½±åæ˜ äº†å¹¿æ³›å…±äº«çš„æ–‡åŒ–å…³è”â€”â€”æˆ‘ä»¬é€šè¿‡è°ƒæŸ¥éªŒè¯äº†è¿™ä¸€ç‚¹ã€‚é€šè¿‡åˆ†æè¿‡å»ä¸€ç™¾å¹´æ¥å‡ºç‰ˆçš„æ•°ç™¾ä¸‡æœ¬ä¹¦ç±çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬å‘ç°é˜¶çº§çš„æ ‡å¿—åœ¨ç»æµè½¬å‹ä¸­ä¸æ–­å˜åŒ–ï¼Œä½†é˜¶çº§çš„åŸºæœ¬æ–‡åŒ–ç»´åº¦ä¿æŒæ˜¾è‘—ç¨³å®šã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ•™è‚²æˆä¸ºä¸å¯Œè£•ç´§å¯†ç›¸å…³çš„å› ç´ ï¼Œç‹¬ç«‹äºå…¶ä¸é«˜é›…å“å‘³çš„å…³è”ã€‚</p>
<br>
<h3 id="ç ”ç©¶ç›®çš„">ç ”ç©¶ç›®çš„</h3>
<p>éªŒè¯è¯åµŒå…¥æ¨¡å‹æ˜¯å¦èƒ½å¤Ÿå‡†ç¡®æ•æ‰æ–‡åŒ–ç»´åº¦ï¼ˆå¦‚å¯Œè£•ã€æ€§åˆ«ã€ç§æ—ç­‰ï¼‰ï¼Œå¹¶é€šè¿‡ä¸äººç±»è¯„ä¼°çš„æ–‡åŒ–å…³è”æ•°æ®è¿›è¡Œå¯¹æ¯”ï¼Œè¯æ˜å…¶åœ¨ç¤¾ä¼šå­¦åˆ†æä¸­çš„æœ‰æ•ˆæ€§ã€‚</p>
<br>
<h3 id="ç ”ç©¶è®¾è®¡">ç ”ç©¶è®¾è®¡</h3>
<ol>
<li><strong>è¯­æ–™å‡†å¤‡</strong>:  åŸºäºGoogle Ngramè¯­æ–™åº“è®­ç»ƒï¼ŒåŒ…å«1900-2012å¹´é—´å‡ºç‰ˆçš„æ•°ç™¾ä¸‡æœ¬ä¹¦ç±çš„æ–‡æœ¬æ•°æ®ã€‚</li>
<li><strong>â€‹è¯åµŒå…¥æ¨¡å‹</strong>â€‹â€‹: åŸºäºè¯­æ–™è®­ç»ƒè¯åµŒå…¥æ¨¡å‹(GloVeæˆ–Word2Vecï¼‰ï¼Œè¿™ç¯‡æ–‡ç« ä½¿ç”¨çš„Word2Vecã€‚ è¯åµŒå…¥ç®—æ³•å°†æ–‡æœ¬ä¸­çš„å•è¯è¡¨ç¤ºä¸ºé«˜ç»´ç©ºé—´ä¸­çš„å‘é‡ã€‚è¿™äº›å‘é‡åŸºäºå•è¯åœ¨æ–‡æœ¬ä¸­çš„ä¸Šä¸‹æ–‡å…³ç³»ï¼Œå…±äº«ç›¸ä¼¼ä¸Šä¸‹æ–‡çš„å•è¯åœ¨ç©ºé—´ä¸­ä½ç½®ç›¸è¿‘ã€‚</li>
<li><strong>â€‹æ–‡åŒ–ç»´åº¦çš„è¯†åˆ«</strong>â€‹â€‹: é€šè¿‡è®¡ç®—åä¹‰è¯å¯¹çš„å¹³å‡å€¼æ¥è¯†åˆ«æ–‡åŒ–ç»´åº¦ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡è®¡ç®—â€œrichâ€å’Œâ€œpoorâ€ç­‰åä¹‰è¯å¯¹çš„å·®å€¼ï¼Œæ„å»ºâ€œå¯Œè£•-è´«ç©·â€è¿™ä¸€æ–‡åŒ–ç»´åº¦ã€‚</li>
<li><strong>è¯å‘é‡æŠ•å½±</strong>â€‹â€‹: å°†å•è¯å¯¹åº”çš„è¯å‘é‡æŠ•å½±åˆ°ç‰¹å®šçš„æ¦‚å¿µè½´ï¼ˆæ–‡åŒ–ç»´åº¦ï¼Œå¦‚æ€§åˆ«ã€è´¢å¯Œï¼‰å‘é‡ä¸Šï¼Œè®¡ç®—å…¶åœ¨è¯¥ç»´åº¦ä¸Šçš„å…³è”å¼ºåº¦ã€‚ æŠ•å½±å€¼é€šè¿‡ä½™å¼¦ç›¸ä¼¼åº¦è¡¡é‡ï¼Œæ­£å€¼è¡¨ç¤ºä¸æŸä¸€æ–‡åŒ–ç»´åº¦ï¼ˆå¦‚å¯Œè£•ï¼‰çš„æ­£å‘å…³è”ï¼Œè´Ÿå€¼è¡¨ç¤ºè´Ÿå‘å…³è”ã€‚</li>
<li><strong>éªŒè¯æ–¹æ³•</strong>â€‹â€‹: è¦æ±‚å—è®¿è€…å¯¹59ä¸ªè¯æ±‡ï¼ˆå¦‚â€œbankerâ€â€œjazzâ€â€œnurseâ€ï¼‰åœ¨ä¸‰ä¸ªç»´åº¦ï¼ˆé˜¶çº§ã€ç§æ—ã€æ€§åˆ«ï¼‰ä¸Šè¿›è¡Œè¯„åˆ†(0~100)ã€‚ä¾‹å¦‚â€œåœ¨0åˆ°100çš„èŒƒå›´å†…ï¼Œæ‚¨è®¤ä¸ºâ€˜èŠ­è•¾èˆâ€™åœ¨å¤šå¤§ç¨‹åº¦ä¸Šå±äºä¸Šå±‚é˜¶çº§ï¼Ÿâ€ï¼› é€šè¿‡è°ƒæŸ¥æ•°æ®éªŒè¯è¯åµŒå…¥æ¨¡å‹åœ¨æ•æ‰æ–‡åŒ–å…³è”æ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚æ¯”è¾ƒè¯åµŒå…¥æ¨¡å‹ä¸äººç±»è¯„ä¼°çš„æ–‡åŒ–å…³è”æ•°æ®ï¼Œè®¡ç®—Pearsonç›¸å…³ç³»æ•°ã€‚</li>
<li>â€‹<strong>é™æ€â€‹ç»“æœå¯è§†åŒ–â€‹</strong>â€‹: é€šè¿‡å›¾è¡¨å±•ç¤ºè¿åŠ¨è¯åœ¨ä¸åŒæ–‡åŒ–ç»´åº¦(æ€§åˆ«ç»´åº¦ã€è´¢å¯Œç»´åº¦)ä¸Šçš„æŠ•å½±ç»“æœã€‚</li>
</ol>
<p>ä»¥ä¸Šæ­¥éª¤è¯æ˜äº†è¯åµŒå…¥æŠ•å½±ç®—æ³•æ•æ‰äººç±»ç¤¾ä¼šæ–‡åŒ–(æ–‡æœ¬ä¸­è•´å«çš„æ–‡åŒ–çº¿ç´¢)çš„æœ‰æ•ˆæ€§ï¼Œæ¥ä¸‹æ¥æŒ‰æ¯10å¹´æ„å»ºä¸€ä¸ªè¯­æ–™(1900~2010)ï¼Œ è®­ç»ƒå‡ºä¸åŒå¹´ä»£çš„è¯å‘é‡ã€‚è´¢å¯Œç»´åº¦ä¸å…­ç§é˜¶çº§ç»´åº¦(æ•™è‚²ã€åŸ¹å…»ã€åœ°ä½ã€é“å¾·ã€èŒä¸šã€æ€§åˆ«)ä½™å¼¦ç›¸ä¼¼åº¦çš„å…³ç³»ã€‚ ä¸‹å›¾æ˜¯å…­ä¸ªç»´åº¦çš„æ­£åä¹‰è¯å¯¹å„¿ã€‚</p>
<p><img loading="lazy" src="img/01-word-pairs.png" alt=""  />
</p>
<br>
<h3 id="ç ”ç©¶ç»“æœ">ç ”ç©¶ç»“æœ</h3>
<ol>
<li><strong>â€‹æ–‡åŒ–ç»´åº¦çš„æœ‰æ•ˆæ€§â€‹</strong>â€‹: è¯åµŒå…¥æ¨¡å‹åœ¨æ•æ‰æ–‡åŒ–å…³è”æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä¸äººç±»è¯„ä¼°çš„ç›¸å…³ç³»æ•°åœ¨0.53åˆ°0.90ä¹‹é—´ã€‚æ€§åˆ«ç»´åº¦çš„å…³è”æœ€å¼ºï¼Œç§æ—ç»´åº¦çš„å…³è”è¾ƒå¼±ã€‚</li>
<li><strong>å¤šç»´åº¦çš„é˜¶çº§ç»“æ„</strong>â€‹â€‹: é˜¶çº§çš„æ–‡åŒ–ç»´åº¦å½¢æˆäº†ä¸€ä¸ªå¤æ‚ä½†ç¨³å®šçš„è¯­ä¹‰ç»“æ„ï¼ŒåŒ…æ‹¬è´¢å¯Œã€åœ°ä½ã€æ•™è‚²ã€é“å¾·ç­‰ç»´åº¦ã€‚è¿™äº›ç»´åº¦åœ¨é«˜ç»´ç©ºé—´ä¸­ç›¸äº’å…³è”ï¼Œæ— æ³•é€šè¿‡ä½ç»´ç©ºé—´å‡†ç¡®è¡¨ç¤ºã€‚</li>
<li><strong>ç¤¾ä¼šé˜¶çº§çš„æ–‡åŒ–ç»´åº¦æ¼”å˜â€‹</strong>â€‹: åˆ†æç»“æœæ˜¾ç¤ºï¼Œç¤¾ä¼šé˜¶çº§çš„æ–‡åŒ–ç»´åº¦åœ¨äºŒåä¸–çºªä¿æŒç¨³å®šï¼Œä½†å…·ä½“çš„æ–‡åŒ–æ ‡è®°ï¼ˆå¦‚èŒä¸šåç§°ï¼‰å‘ç”Ÿäº†æ˜¾è‘—å˜åŒ–ã€‚æ•™è‚²å’Œå¯Œè£•ä¹‹é—´çš„å…³è”é€æ¸å¢å¼ºï¼Œæˆä¸ºé˜¶çº§åˆ’åˆ†çš„é‡è¦æ ‡å¿—ã€‚
<img loading="lazy" src="img/02-apa-proj.png" alt=""  />

<img loading="lazy" src="img/03-evolution.png" alt=""  />
</li>
</ol>
<p><br><br></p>
<h2 id="äºŒå®éªŒå‡†å¤‡">äºŒã€å®éªŒå‡†å¤‡</h2>
<h3 id="21-è®­ç»ƒæ¨¡å‹">2.1 è®­ç»ƒæ¨¡å‹</h3>
<p>ä½¿ç”¨ <a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">cntext2.x</a> è®­ç»ƒå‡ºçš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œ å…·ä½“å¯å‚è€ƒ</p>
<p>ä¸è€ƒè™‘æ—¶é—´(è¯­ä¹‰æ¼”å˜)ï¼Œ åªè®­ç»ƒä¸€ä¸ªæ¨¡å‹
<a href="https://textdata.cn/blog/2023-11-12-using-100m-bilibili-user-sign-data-to-training-word2vec/">è¯å‘é‡ | ä½¿ç”¨1äº¿Bç«™ç”¨æˆ·ç­¾åè®­ç»ƒword2vecè¯å‘é‡</a>
<a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">è¯å‘é‡ | ä½¿ç”¨Stanford Gloveä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„Gloveæ¨¡å‹</a>
<a href="https://textdata.cn/blog/2023-11-10-training-word2vec-model-using-china-3751w-patent-application-dataset/">è¯å‘é‡ | ä½¿ç”¨1985å¹´-2025å¹´ä¸“åˆ©ç”³è¯·æ‘˜è¦è®­ç»ƒ Word2Vec æ¨¡å‹</a>
<a href="https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/">è¯å‘é‡ | ä½¿ç”¨ MD&amp;A2001-2023 è¯­æ–™è®­ç»ƒ Word2Vec/GloVe æ¨¡å‹</a>
<a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹</a></p>
<br>
<p>è€ƒè™‘æ—¶é—´å› ç´ ï¼Œ æŒ‰æŸä¸ªæ—¶é—´é—´éš”(å¦‚æ¯10å¹´)ï¼Œè®­ç»ƒä¸€ä¸ªå¹´ä»£å‘é‡</p>
<p><a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</a></p>
<br>
<p>å¦‚æœè§‰å¾—è®­ç»ƒå¤ªéº»çƒ¦ï¼Œ å¤§é‚“å°†å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹å…è´¹æä¾›ç»™å¤§å®¶ã€‚
<a href="https://github.com/hiDaDeng/Chinese-Pretrained-Word-Embeddings">å…è´¹èµ„æº | cntext2.x è®­ç»ƒå‡ºçš„å…è´¹å…¬å¼€è¯å‘é‡</a></p>
<h3 id="22-è¯»å–æ¨¡å‹">2.2 è¯»å–æ¨¡å‹</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># æ¨¡å‹ä¸‹è½½åœ°å€</span>
<span class="c1"># https://github.com/hiDaDeng/Chinese-Pretrained-Word-Embeddings</span>
<span class="n">wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;å¤§ä¼—ç‚¹è¯„-è¯„è®º-GloVe.200.15.bin&#39;</span><span class="p">)</span>
</code></pre></div><br>
<h3 id="23-è·å–è¯å‘é‡">2.3 è·å–è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;æ¨¡å‹è¯æ±‡é‡: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">wv</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">æ¨¡å‹è¯æ±‡é‡: 278565
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="n">wv</span><span class="p">[</span><span class="s1">&#39;å¯Œæœ‰&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wv</span><span class="p">[</span><span class="s1">&#39;å¯Œæœ‰&#39;</span><span class="p">])</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">(200,)
array([-0.52744 , -0.108866, -0.119827, -0.644396, -0.342953, -0.503506,
       -0.453796, -0.213651,  0.041335,  0.345231,  0.4752  , -0.026904,
       -0.026971, -0.249429, -1.115758,  0.351041, -0.304552,  0.40272 ,
       ......
       ......
       -0.061966,  0.384454,  0.280508, -0.005171, -0.236791,  0.171627,
        0.151691, -0.295215,  0.233423, -0.146419, -0.210322, -0.338783,
        0.214728, -0.101312,  0.489487, -0.257294,  0.732999,  0.057721,
       -0.286473,  0.394552], dtype=float32)
</code></pre></div><p>è¯å‘é‡çš„ç»´åº¦æ˜¯200ï¼Œå³æ¯ä¸ªè¯çš„è¯­ä¹‰æ˜¯ç”±200ä¸ªæ•°å­—ç»„æˆçš„å‘é‡æ‰€è¡¨ç¤ºã€‚</p>
<br>
<h3 id="24-è®¡ç®—æ¦‚å¿µè½´å‘é‡">2.4 è®¡ç®—æ¦‚å¿µè½´å‘é‡</h3>
<p>æ¦‚å¿µè½´å‘é‡ä¸ºä¾‹ï¼Œå¦‚ä½•è®¡ç®—å‘¢ï¼Ÿä»¥æ€§åˆ«ä¸ºä¾‹ï¼Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">1. å…ˆæ‰¾å‡ºæ€§åˆ«(ç”·ã€å¥³)çš„æ­£åä¹‰è¯å¯¹å„¿
2. åˆ†åˆ«è®¡ç®—æ­£è¯çš„å¤šä¸ªå‘é‡ã€è´Ÿè¯çš„å¤šä¸ªè¯å‘é‡
3. æ±‚å¾—æ­£å‡å€¼å‘é‡ã€è´Ÿå‡å€¼å‘é‡
4. ä¸¤è€…ç›¸å‡ã€å½’ä¸€åŒ–å¤„ç†åå¾—åˆ°æ€§åˆ«æ¦‚å¿µå‘é‡ã€‚  
</code></pre></div><p>å¤§é‚“å°†è¿™äº›æ­¥éª¤å°è£…åˆ°cntext2.xä¸­ï¼Œåªéœ€è¦å°†è¯è¯­ä¼ å…¥å³å¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æ€§åˆ«æ¦‚å¿µè½´å‘é‡</span>
<span class="n">gender_poss</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ç”·äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·æ€§&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸ˆå¤«&#39;</span><span class="p">,</span> <span class="s1">&#39;ä»–&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ·çˆ·&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¥–çˆ¶&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¸çˆ¸&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¶äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å„¿å­&#39;</span><span class="p">,</span> <span class="s1">&#39;å…„å¼Ÿ&#39;</span><span class="p">]</span>
<span class="n">gender_negs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;å¥³äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³æ€§&#39;</span><span class="p">,</span> <span class="s1">&#39;å¦»å­&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¹&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¶å¥¶&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¥–æ¯&#39;</span><span class="p">,</span> <span class="s1">&#39;å¦ˆå¦ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¯äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³å„¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å§å¦¹&#39;</span><span class="p">]</span>
<span class="n">gender_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">generate_concept_axis</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span> 
                                         <span class="n">poswords</span><span class="o">=</span><span class="n">gender_poss</span><span class="p">,</span> 
                                         <span class="n">negwords</span><span class="o">=</span><span class="n">gender_negs</span><span class="p">)</span>


<span class="c1"># è´¢å¯Œæ¦‚å¿µè½´å‘é‡</span>
<span class="n">affluence_poss</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;å¯Œæœ‰&#39;</span><span class="p">,</span> <span class="s1">&#39;æœ‰é’±&#39;</span><span class="p">,</span> <span class="s1">&#39;æˆåŠŸ&#39;</span><span class="p">,</span> <span class="s1">&#39;å‘è¾¾&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯Œè£•&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¼˜åŠ¿&#39;</span><span class="p">,</span> <span class="s1">&#39;é«˜è´µ&#39;</span><span class="p">,</span> <span class="s1">&#39;é«˜ç«¯&#39;</span><span class="p">,</span> <span class="s1">&#39;æ˜‚è´µ&#39;</span><span class="p">,</span> <span class="s1">&#39;åä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;ç²¾è‡´&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¢ä¾ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¢å&#39;</span><span class="p">,</span> <span class="s1">&#39;å……è£•&#39;</span><span class="p">,</span> <span class="s1">&#39;è±ªå&#39;</span><span class="p">]</span>
<span class="n">affluence_negs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;è´«ç©·&#39;</span><span class="p">,</span> <span class="s1">&#39;æ²¡é’±&#39;</span><span class="p">,</span> <span class="s1">&#39;å¤±è´¥&#39;</span><span class="p">,</span> <span class="s1">&#39;è½å&#39;</span><span class="p">,</span> <span class="s1">&#39;è´«å›°&#39;</span><span class="p">,</span> <span class="s1">&#39;åŠ£åŠ¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å‘è´±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä½ç«¯&#39;</span><span class="p">,</span> <span class="s1">&#39;å»‰ä»·&#39;</span><span class="p">,</span> <span class="s1">&#39;æœ´ç´ &#39;</span><span class="p">,</span> <span class="s1">&#39;ç²—ç³™&#39;</span><span class="p">,</span> <span class="s1">&#39;å»‰ä»·&#39;</span><span class="p">,</span> <span class="s1">&#39;èŠ‚ä¿­&#39;</span><span class="p">,</span> <span class="s1">&#39;åŒ®ä¹&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ´æ—§&#39;</span><span class="p">]</span>
<span class="n">affluence_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">generate_concept_axis</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span> 
                                            <span class="n">poswords</span><span class="o">=</span><span class="n">affluence_poss</span><span class="p">,</span> 
                                            <span class="n">negwords</span><span class="o">=</span><span class="n">affluence_negs</span><span class="p">)</span>

<span class="c1"># æŸ¥çœ‹æ€§åˆ«æ¦‚å¿µè½´å‘é‡</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gender_vector</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gender_vector</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">(200,)
[-0.11656909 -0.19618881 -0.01077267  0.04915987  0.00569247  0.05462526
 -0.009799    0.00770712  0.05658354  0.04547084  0.03688154 -0.02133968
 -0.0706896   0.08739712  0.11174724 -0.02057768  0.03183764  0.01165388
  ......
  ......
  0.0101583   0.09426635 -0.09078085 -0.13099451 -0.02234778  0.03765206
  0.1083525   0.07751778  0.04983377  0.03304265 -0.05442946  0.11609897
 -0.10463558  0.00224418  0.00210647 -0.04888193  0.01931083  0.07366373
 -0.01534469  0.06682201]
</code></pre></div><p>æ³¨æ„:</p>
<ol>
<li>è¯å‘é‡ã€ æ¦‚å¿µè½´å‘é‡ç»´åº¦æ˜¯ç›¸åŒçš„ï¼Œåœ¨æœ¬æ–‡æ¡ˆä¾‹ä¸­éƒ½æ˜¯200.</li>
<li>æ³¨æ„æ¦‚å¿µæ­£åä¹‰è¯å¯¹æ–¹å‘çš„ç¡®å®šï¼Œ æ–¹å‘å†³å®šäº†å¯¹è®¡ç®—ç»“æœæ­£è´Ÿå·æ•°å­—çš„è§£è¯»ã€‚ ä¾‹å¦‚æ€§åˆ«æ¦‚å¿µè½´ç»´åº¦ï¼Œå°†ç”·æ€§ç¡®å®šä¸ºæ­£ä¹‰è¯ï¼Œ ä»»æ„è¯çš„è¯å‘é‡ä¸æ€§åˆ«æ¦‚å¿µè½´è®¡ç®—æŠ•å½±(æˆ–ä½™å¼¦ç›¸ä¼¼åº¦)ï¼Œ æ•°å€¼è¶Šå¤§ï¼Œ è¯´æ˜è¯¥è¯ä¸ç”·æ€§çš„ç›¸å…³æ€§è¶Šå¤§ã€‚</li>
</ol>
<h3 id="25-è®¡ç®—æŠ•å½±">2.5 è®¡ç®—æŠ•å½±</h3>
<p>cntext2.xå°è£…äº†æŠ•å½±è®¡ç®—ï¼Œåªéœ€è¦ä¼ å…¥è¯è¯­æˆ–è¯å‘é‡å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">project_word</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">cosine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div><p>åœ¨å‘é‡ç©ºé—´ä¸­ï¼Œ è®¡ç®—è¯è¯­ a åœ¨è¯è¯­ b ä¸Šçš„æŠ•å½±ã€‚</p>
<ul>
<li><strong>wv</strong> è¯­æ–™ txt æ–‡ä»¶è·¯å¾„</li>
<li><strong>a</strong> è¯è¯­ a å­—ç¬¦ä¸²æˆ–åˆ—è¡¨</li>
<li><strong>b</strong> è¯è¯­å­—ç¬¦ä¸²ã€è¯è¯­åˆ—è¡¨ã€æˆ–æŸæ¦‚å¿µå‘é‡</li>
<li><strong>cosine</strong> æ˜¯å¦ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œ é»˜è®¤ä¸ºFalseï¼Œ å‡½æ•°è®¡ç®—ç»“æœä¸ºaåœ¨bä¸Šçš„æŠ•å½±å€¼ã€‚ å¦‚æœä¸ºTrueï¼Œ å‡½æ•°è®¡ç®—ç»“æœä¸ºaä¸bçš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># è·å–è¯å‘é‡æ–‡ä»¶</span>
<span class="c1"># https://github.com/hiDaDeng/Chinese-Pretrained-Word-Embeddings</span>
<span class="n">dm_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;douban-movie-1000w-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>

<span class="n">b</span><span class="o">=</span><span class="s1">&#39;è‹—æ¡&#39;</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;æ€§æ„Ÿ&#39;</span><span class="p">,</span><span class="s1">&#39;ç¾ä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯çˆ±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸‘é™‹&#39;</span><span class="p">]:</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">]åœ¨[</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">]æŠ•å½±å€¼: </span><span class="si">{</span><span class="n">proj</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>


<span class="n">b</span><span class="o">=</span><span class="s1">&#39;ä¿®é•¿&#39;</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;æ€§æ„Ÿ&#39;</span><span class="p">,</span><span class="s1">&#39;ç¾ä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯çˆ±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸‘é™‹&#39;</span><span class="p">]:</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">]åœ¨[</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">]æŠ•å½±å€¼: </span><span class="si">{</span><span class="n">proj</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[æ€§æ„Ÿ]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 14.172947883605957
[ç¾ä¸½]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 7.0944623947143555
[å¯çˆ±]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 6.935092926025391
[ä¸‘é™‹]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 1.235807180404663

[æ€§æ„Ÿ]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 14.599699974060059
[ç¾ä¸½]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 9.360642433166504
[å¯çˆ±]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 4.740543842315674
[ä¸‘é™‹]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 4.010622501373291
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œ åœ¨è±†ç“£ç”µå½±è¯­æ–™ä¸­ï¼Œ åœ¨[è‹—æ¡ã€ä¿®é•¿]ç»´åº¦çš„è®¤çŸ¥ä¸­ï¼Œéƒ½è®¤ä¸º</p>
<ul>
<li>[æ€§æ„Ÿ]æ„å‘³ç€èº«ææœ€ç˜¦é•¿</li>
<li>[ç¾ä¸½]æ¬¡ä¹‹ã€[å¯çˆ±]ç•¥æ˜¾ä¸é‚£ä¹ˆä¿®é•¿è‹—æ¡</li>
<li>[ä¸‘é™‹]æ„å‘³ç€åŸºæœ¬ä¸[è‹—æ¡ã€ä¿®é•¿]æ— å…³ï¼Œæ•°å€¼æœ€å°ã€‚</li>
</ul>
<br>
<h2 id="ä¸‰å®éªŒå¯è§†åŒ–">ä¸‰ã€å®éªŒå¯è§†åŒ–</h2>
<h3 id="31-é™æ€å¯è§†åŒ–">3.1 é™æ€å¯è§†åŒ–</h3>
<p>ä¸è€ƒè™‘æ—¶é—´å› ç´ ï¼Œå°†æ‰€æœ‰è¯­æ–™è®­ç»ƒå¾—å‡ºä¸€ä¸ªè¯å‘é‡ï¼Œ åœ¨è¿™ä¸ªè¯å‘é‡åŸºç¡€ä¸Šè¿›è¡Œè¯­ä¹‰æŠ•å½±å¯è§†åŒ–ã€‚</p>
<p>è¿™é‡Œç”¨å¤§ä¼—ç‚¹è¯„è¯„è®ºè¯­æ–™è®­ç»ƒå‡ºçš„è¯å‘é‡ä¸ºä¾‹ï¼Œè¿›è¡Œçˆ±å¥½è¯ã€å“ç‰Œè¯ã€ç¾é£Ÿè¯åœ¨æ€§åˆ«ç»´åº¦ã€è´¢å¯Œç»´åº¦çš„æŠ•å½±ã€‚çœ‹çœ‹è¿™äº›è¯ï¼ˆçˆ±å¥½è¯ã€å“ç‰Œè¯ã€ç¾é£Ÿè¯ï¼‰æ˜¯å¦ä½“ç°å‡ºæ€§åˆ«å·®å¼‚ã€è´¢å¯Œå·®å¼‚ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">ct</span><span class="o">.</span><span class="n">matplotlib_chinese</span><span class="p">()</span> <span class="c1"># ç¡®ä¿ä¸­æ–‡æ˜¾ç¤º</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>  <span class="c1"># ä½¿ç”¨å†…ç½®çš„ ggplot é£æ ¼ä½œä¸ºåŸºç¡€</span>



<span class="c1"># ====== ç”¨æˆ·å·²ç»å®Œæˆçš„æ•°æ®å‡†å¤‡éƒ¨åˆ†ï¼ˆå‡è®¾å·²è¿è¡Œï¼‰======</span>
<span class="n">wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;å¤§ä¼—ç‚¹è¯„-è¯„è®º-GloVe.200.15.bin&#39;</span><span class="p">)</span>
<span class="n">gender_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">generate_concept_axis</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span>
                                          <span class="n">poswords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ç”·äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·æ€§&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸ˆå¤«&#39;</span><span class="p">,</span> <span class="s1">&#39;ä»–&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ·çˆ·&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¥–çˆ¶&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¸çˆ¸&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¶äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å„¿å­&#39;</span><span class="p">,</span> <span class="s1">&#39;å…„å¼Ÿ&#39;</span><span class="p">],</span>
                                          <span class="n">negwords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å¥³äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³æ€§&#39;</span><span class="p">,</span> <span class="s1">&#39;å¦»å­&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¹&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¶å¥¶&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¥–æ¯&#39;</span><span class="p">,</span> <span class="s1">&#39;å¦ˆå¦ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¯äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³å„¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å§å¦¹&#39;</span><span class="p">])</span>
<span class="n">affluence_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">generate_concept_axis</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span>
                                          <span class="n">poswords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å¯Œæœ‰&#39;</span><span class="p">,</span> <span class="s1">&#39;æœ‰é’±&#39;</span><span class="p">,</span> <span class="s1">&#39;æˆåŠŸ&#39;</span><span class="p">,</span> <span class="s1">&#39;å‘è¾¾&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯Œè£•&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¼˜åŠ¿&#39;</span><span class="p">,</span> <span class="s1">&#39;é«˜è´µ&#39;</span><span class="p">,</span> <span class="s1">&#39;é«˜ç«¯&#39;</span><span class="p">,</span> <span class="s1">&#39;æ˜‚è´µ&#39;</span><span class="p">,</span> <span class="s1">&#39;åä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;ç²¾è‡´&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¢ä¾ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¢å&#39;</span><span class="p">,</span> <span class="s1">&#39;å……è£•&#39;</span><span class="p">,</span> <span class="s1">&#39;è±ªå&#39;</span><span class="p">],</span>
                                          <span class="n">negwords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;è´«ç©·&#39;</span><span class="p">,</span> <span class="s1">&#39;æ²¡é’±&#39;</span><span class="p">,</span> <span class="s1">&#39;å¤±è´¥&#39;</span><span class="p">,</span> <span class="s1">&#39;è½å&#39;</span><span class="p">,</span> <span class="s1">&#39;è´«å›°&#39;</span><span class="p">,</span> <span class="s1">&#39;åŠ£åŠ¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å‘è´±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä½ç«¯&#39;</span><span class="p">,</span> <span class="s1">&#39;å»‰ä»·&#39;</span><span class="p">,</span> <span class="s1">&#39;æœ´ç´ &#39;</span><span class="p">,</span> <span class="s1">&#39;ç²—ç³™&#39;</span><span class="p">,</span> <span class="s1">&#39;å»‰ä»·&#39;</span><span class="p">,</span> <span class="s1">&#39;èŠ‚ä¿­&#39;</span><span class="p">,</span> <span class="s1">&#39;åŒ®ä¹&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ´æ—§&#39;</span><span class="p">])</span>


<span class="n">words</span> <span class="o">=</span>  <span class="p">[</span><span class="s2">&#34;è±¡æ£‹&#34;</span><span class="p">,</span> <span class="s2">&#34;éº»å°†&#34;</span><span class="p">,</span> <span class="s2">&#34;å›´æ£‹&#34;</span><span class="p">,</span> <span class="s2">&#34;é«˜å°”å¤«&#34;</span><span class="p">,</span> <span class="s2">&#34;æ­¦æœ¯&#34;</span><span class="p">,</span> <span class="s2">&#34;æ½œæ°´&#34;</span><span class="p">,</span> <span class="s2">&#34;ä¹¦æ³•&#34;</span><span class="p">,</span> <span class="s2">&#34;ç‘œä¼½&#34;</span><span class="p">,</span> <span class="s2">&#34;ç¾½æ¯›çƒ&#34;</span><span class="p">,</span> <span class="s2">&#34;é©¬æœ¯&#34;</span><span class="p">,</span> <span class="s2">&#34;ç½‘çƒ&#34;</span><span class="p">,</span> <span class="s2">&#34;ç¾å¦†&#34;</span><span class="p">,</span> <span class="s2">&#34;æ—…è¡Œ&#34;</span><span class="p">]</span>
<span class="c1"># words =  [&#34;çƒ§çƒ¤&#34;, &#34;å¯¿å¸&#34;, &#34;ç‰›æ’&#34;, &#34;ç™½é…’&#34;, &#34;å•¤é…’&#34;, &#34;éº»è¾£çƒ«&#34;, &#34;æ±‰å ¡&#34;, &#34;ç…é¥¼&#34;, &#34;åŒ…å­&#34;, &#34;å°ç±³ç²¥&#34;, &#34;æ²™æ‹‰&#34;, &#34;æŠ«è¨&#34;]</span>
<span class="c1"># words =  [&#34;é˜¿ç›å°¼&#34;, &#34;coach&#34;, &#34;lv&#34;, &#34;è€å…‹&#34;, &#34;é˜¿è¿ª&#34;, &#34;çˆ±é©¬ä»•&#34;, &#34;ä¼˜è¡£åº“&#34;, &#34;æµ·æ¾œ&#34;]</span>

<span class="n">gender_proj</span> <span class="o">=</span> <span class="p">[</span><span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">word</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">gender_vector</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
<span class="n">affluence_proj</span> <span class="o">=</span> <span class="p">[</span><span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">word</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">affluence_vector</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
<span class="c1"># ========================================================</span>


<span class="c1"># ====== ç»˜å›¾éƒ¨åˆ† ======</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span> <span class="c1"># è·å–å½“å‰ axes å¯¹è±¡ï¼Œæ–¹ä¾¿åç»­æ“ä½œï¼Œç‰¹åˆ«æ˜¯è®¾ç½®é™åˆ¶</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;çˆ±å¥½çš„(æ€§åˆ«-è´¢å¯Œ)åˆ»æ¿å°è±¡&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.titlesize&#39;</span><span class="p">])</span> <span class="c1"># ä½¿ç”¨æ ·å¼ä¸­å®šä¹‰çš„æ ‡é¢˜å­—å·å’Œ padding</span>

<span class="c1"># è®¾ç½®å›¾è¡¨æ˜¾ç¤ºèŒƒå›´ï¼Œç•¥å¤§äºæ•°æ®èŒƒå›´ï¼Œä¸ºè½´æ ‡ç­¾å’Œç®­å¤´ç•™å‡ºç©ºé—´</span>
<span class="c1"># å…ˆæ ¹æ®æ•°æ®è®¡ç®—ä¸€ä¸ªåˆç†çš„èŒƒå›´ï¼Œå†æ ¹æ®éœ€æ±‚è°ƒæ•´</span>
<span class="n">x_data_min</span><span class="p">,</span> <span class="n">x_data_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">affluence_proj</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">affluence_proj</span><span class="p">)</span>
<span class="n">y_data_min</span><span class="p">,</span> <span class="n">y_data_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">gender_proj</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">gender_proj</span><span class="p">)</span>
<span class="n">x_range</span> <span class="o">=</span> <span class="n">x_data_max</span> <span class="o">-</span> <span class="n">x_data_min</span>
<span class="n">y_range</span> <span class="o">=</span> <span class="n">y_data_max</span> <span class="o">-</span> <span class="n">y_data_min</span>

<span class="c1"># å¯ä»¥è®¾ç½®å›ºå®šèŒƒå›´ï¼Œæˆ–è€…æ ¹æ®æ•°æ®èŒƒå›´åŠ¨æ€è®¡ç®—</span>
<span class="n">x_lims</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_data_min</span> <span class="o">-</span> <span class="n">x_range</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">x_data_max</span> <span class="o">+</span> <span class="n">x_range</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">y_lims</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_data_min</span> <span class="o">-</span> <span class="n">y_range</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">y_data_max</span> <span class="o">+</span> <span class="n">y_range</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="c1"># æˆ–è€…è®¾ç½®ä¸€ä¸ªå›ºå®šçš„ã€å¯¹ç§°çš„èŒƒå›´ï¼Œä¾‹å¦‚ï¼š</span>
<span class="n">max_abs_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x_data_min</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x_data_max</span><span class="p">))</span>
<span class="n">max_abs_y</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">y_data_min</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y_data_max</span><span class="p">))</span>
<span class="n">plot_lim</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_abs_x</span><span class="p">,</span> <span class="n">max_abs_y</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.3</span> <span class="c1"># ç¡®ä¿èŒƒå›´åŒ…å«æ‰€æœ‰ç‚¹å¹¶æœ‰ä½™é‡</span>
<span class="n">x_lims</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">plot_lim</span><span class="p">,</span> <span class="n">plot_lim</span><span class="p">)</span>
<span class="n">y_lims</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">plot_lim</span><span class="p">,</span> <span class="n">plot_lim</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">x_lims</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">y_lims</span><span class="p">)</span>


<span class="c1"># ç»˜åˆ¶æ•£ç‚¹</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">affluence_proj</span><span class="p">,</span> <span class="n">gender_proj</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightgray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span> <span class="c1"># è°ƒæ•´ç‚¹å¤§å°å’Œé¢œè‰²ï¼Œä½¿å…¶æ¸…æ™°</span>

<span class="c1"># ç»˜åˆ¶ä¸­å¿ƒè½´çº¿ (0,0)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># ç”Ÿæˆç½‘æ ¼çº¿ (ä½¿ç”¨æ›´æ–°åçš„å›¾è¡¨é™åˆ¶)</span>
<span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">xx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">yy</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray_r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>



<span class="c1"># æ·»åŠ è½´ç«¯ç‚¹æ ‡ç­¾å’Œç®­å¤´ (æ›´åƒå›¾ 3 çš„é£æ ¼)</span>
<span class="n">arrow_length_x</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.95</span> <span class="c1"># ç®­å¤´é•¿åº¦ä¸ºèŒƒå›´çš„ 90%</span>
<span class="n">arrow_length_y</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.95</span>
<span class="n">head_width_x</span> <span class="o">=</span> <span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.015</span> <span class="c1"># ç®­å¤´å¤´éƒ¨å®½åº¦æ ¹æ®è½´èŒƒå›´è°ƒæ•´</span>
<span class="n">head_width_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.015</span>

<span class="c1"># Affluence è½´ (X) - è´«ç©·åˆ°å¯Œæœ‰</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">arrow_length_x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="n">head_width_y</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="n">head_width_x</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">arrow_length_x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="n">head_width_y</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="n">head_width_x</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="c1"># Gender è½´ (Y) - å¥³æ€§åˆ°ç”·æ€§</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">arrow_length_y</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="n">head_width_x</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="n">head_width_y</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">arrow_length_y</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="n">head_width_x</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="n">head_width_y</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>


<span class="c1"># æ·»åŠ è¯è¯­æ ‡ç­¾</span>
<span class="c1"># éå†æ•°æ®ç‚¹å’Œè¯è¯­</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">affluence_proj</span><span class="p">,</span> <span class="n">gender_proj</span><span class="p">,</span> <span class="n">words</span><span class="p">)):</span>
     <span class="c1"># å¯ä»¥å°è¯• xytext åç§»æ¥æ§åˆ¶æ ‡ç­¾ä½ç½®</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">&#34;offset points&#34;</span><span class="p">,</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">])</span>


<span class="c1"># è®¾ç½®è½´æ ‡é¢˜</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Affluence (</span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">8592</span><span class="p">)</span><span class="si">}</span><span class="s1"> è´«ç©· | å¯Œæœ‰ </span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">8594</span><span class="p">)</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.labelsize&#39;</span><span class="p">])</span> <span class="c1"># ä½¿ç”¨ç®­å¤´ç¬¦å·æ›´ç›´è§‚</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Gender (</span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">8595</span><span class="p">)</span><span class="si">}</span><span class="s1"> å¥³æ€§åŒ–ç¨‹åº¦ | ç”·æ€§åŒ–ç¨‹åº¦ </span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">8593</span><span class="p">)</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.labelsize&#39;</span><span class="p">])</span> <span class="c1"># ä½¿ç”¨ç®­å¤´ç¬¦å·æ›´ç›´è§‚</span>


<span class="c1"># æ ·å¼ä¸­å·²ç»è®¾ç½®äº†ç½‘æ ¼ï¼Œå¦‚æœæƒ³è‡ªå®šä¹‰ï¼Œå¯ä»¥å–æ¶ˆæ³¨é‡Šä¸‹ä¸€è¡Œ</span>
<span class="c1">#plt.grid(True, linestyle=&#39;--&#39;, alpha=0.5)</span>

<span class="c1"># ç¡®ä¿å›¾è¡¨å…ƒç´ çš„å¸ƒå±€ç´§å‡‘</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># æ˜¾ç¤ºå›¾è¡¨</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/04-hobby.png" alt=""  />

çˆ±å¥½è¯åœ¨æ€§åˆ«ç»´åº¦å‘é‡ã€è´¢å¯Œç»´åº¦å‘é‡æŠ•å½±ç»“æœè§£è¯»ã€‚</p>
<ul>
<li>æ€§åˆ«ç»´åº¦ï¼Œæ—…è¡Œã€ç‘œä¼½ã€ç¾å¦†è¿™å‡ ä¸ªçˆ±å¥½è¯ä¸å¥³æ€§å¼ºç›¸å…³ã€‚é«˜å°”å¤«ã€ç½‘çƒã€ç¾½æ¯›çƒã€éº»å°†ã€ä¹¦æ³•ä¸ç”·æ€§å¼ºç›¸å…³ã€‚</li>
<li>è´¢å¯Œç»´åº¦ï¼Œ å¯Œè£•çš„çˆ±å¥½æœ‰ç‘œä¼½ã€é«˜å°”å¤«ã€æ—…è¡Œã€ç½‘çƒã€éº»å°†ã€ç¾½æ¯›çƒã€‚è€Œè´«ç©·çš„çˆ±å¥½æœ‰è±¡æ£‹ã€ç¾å¦†ã€æ­¦æœ¯ã€å›´æ£‹ï¼Œä¼¼ä¹ä¸ç”¨å¤ªèŠ±é’±ã€‚</li>
</ul>
<p><img loading="lazy" src="img/05-food.png" alt=""  />
</p>
<p>ç¾é£Ÿè¯åœ¨æ€§åˆ«ç»´åº¦å‘é‡ã€è´¢å¯Œç»´åº¦å‘é‡æŠ•å½±ç»“æœè§£è¯»ã€‚é¥®é£Ÿæ–¹é¢æŠ•å½±ä¸»è¦åˆ†å¸ƒåœ¨å›¾çš„å³ä¾§ã€‚</p>
<ul>
<li>æ€§åˆ«ç»´åº¦ï¼Œå•¤é…’ã€ç™½é…’ã€çƒ§çƒ¤å¾ˆç”·æ€§ï¼› è€ŒæŠ«è¨ã€æ²™æ‹‰ã€å¯¿å¸ã€ç‰›æ’å¾ˆå¥³æ€§ã€‚</li>
<li>è´¢å¯Œç»´åº¦ï¼Œç‰›æ’ã€å¯¿è®¡è¾ƒå¯Œè£•ï¼Œ è€Œå°ç±³ç²¥å¾ˆè´«ç©·ã€‚ é£Ÿç‰©çš„è´¢å¯Œç»´åº¦åŒºåˆ†åº¦è¾ƒä½ã€‚</li>
</ul>
<p>æ€»çš„æ¥è¯´ï¼Œ é£Ÿç‰©ä¸­ï¼Œå¥½åƒçš„ã€è´µçš„è·Ÿå¥³æ€§å…³è”åº¦è¿œå¤§äºç”·æ€§ã€‚</p>
<p><img loading="lazy" src="img/06-brand.png" alt=""  />

å“ç‰Œè¯åœ¨æ€§åˆ«ç»´åº¦å‘é‡ã€è´¢å¯Œç»´åº¦å‘é‡æŠ•å½±ç»“æœè§£è¯»ã€‚</p>
<ul>
<li>æ€§åˆ«ç»´åº¦, è€å…‹ã€é˜¿è¿ªã€æµ·æ¾œä¹‹å®¶ã€é˜¿ç›å°¼ä¸ç”·æ€§å…³è”åº¦æ›´é«˜ã€‚è€Œä¼˜è¡£åº“ã€lvã€çˆ±é©¬ä»•ã€coachä¸å¥³æ€§çš„å…³è”åº¦æ›´é«˜ã€‚</li>
<li>è´¢å¯Œç»´åº¦, lvã€coachã€çˆ±é©¬ä»•åœ¨è¯­ä¹‰ä¸Šä¸å¯Œè£•å¼ºç›¸å…³ï¼Œè€Œè€å…‹ã€é˜¿è¿ªã€æµ·æ¾œä¹‹å®¶ä¸è´«ç©·å¼ºç›¸å…³ã€‚</li>
</ul>
<p>æ€»ä¹‹ï¼Œé™æ€çš„åˆ†æï¼Œé€šè¿‡å¤§ä¼—ç‚¹è¯„è¯„è®ºè¯­æ–™ï¼Œ å¯ä»¥ä½“ç°å‡ºç›®å‰ç¤¾ä¼šæ¶ˆè´¹é¢†åŸŸä¸­ï¼Œ å¯¹äºå“ç‰Œã€ç¾é£Ÿã€çˆ±å¥½çš„è®¤çŸ¥ã€æ–‡åŒ–ã€åˆ»æ¿å°è±¡ã€‚  å¦‚æœæœ‰ä¸åŒå¹´ä»£çš„è¯­æ–™ï¼Œ å°±å¯ä»¥æŒ–æ˜æ–‡åŒ–çš„å˜åŒ–ã€‚</p>
<br>
<h3 id="32-è€ƒè™‘æ—¶é—´å› ç´ ">3.2 è€ƒè™‘æ—¶é—´å› ç´ </h3>
<p>ä»¥äººæ°‘æ—¥æŠ¥è¯­æ–™ä¸ºä¾‹ï¼Œ æ¯10å¹´è®­ç»ƒä¸€ä¸ªè¯å‘é‡ï¼Œ è§‚å¯Ÿä¸åŒå¹´ä»½çš„è¯­ä¹‰çš„å˜åŒ–ã€‚ è®­ç»ƒä»£ç å¯é˜…è¯» <a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</a> ã€‚  æ–‡ä¸­ä»¥è¯­ä¹‰è·ç¦»æ¥åˆ»ç”»æ–‡åŒ–ï¼Œå³</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">distance = distance(å¥³, æˆåŠŸ) - distance(ç”·, æˆåŠŸ)
</code></pre></div><ul>
<li>å¦‚æœdistanceè¶‹è¿‘äº0ï¼Œ ç”·å¥³åœ¨æˆåŠŸæ¦‚å¿µä¸Šè¯­ä¹‰æ¥è¿‘ï¼Œ æ— æ˜æ˜¾åˆ»æ¿å°è±¡ã€‚</li>
<li>ä½†æ˜¯å½“distanceæ˜æ˜¾å¤§äº0ï¼Œ å½“äººä»¬èŠåˆ°æˆåŠŸæ¦‚å¿µæ—¶ï¼Œæ›´å®¹æ˜“è”æƒ³åˆ°ç”·æ€§ï¼Œè€Œä¸æ˜¯å¥³æ€§ã€‚</li>
</ul>
<br>
<p><strong>æ€§åˆ«ä¸æˆå°±</strong></p>
<p><img loading="lazy" src="img/07-gender.png" alt=""  />
</p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ æ–°ä¸­å›½åˆæœŸï¼Œ æˆ‘å›½çš„å¥³æ€§è§£æ”¾è¿åŠ¨åœ¨å…¨ä¸–ç•Œéƒ½æ˜¯é¢†å…ˆçš„ï¼Œæˆæœååˆ†å“è‘—ã€‚ è€Œä»Šè€³ç†Ÿèƒ½è¯¦çš„å£å·æ°å¥½è¯´æ˜å½“æ—¶çš„å®£ä¼ å·²ç»åˆ»å…¥æ¯ä¸ªä¸­å›½äººçš„è®¤çŸ¥ä¸­ï¼Œå¦‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- è°è¯´å¥³å­ä¸å¦‚ç”·
- ä¸çˆ±çº¢è£…çˆ±æ­¦è£…
- å¥³äººæ’‘èµ·åŠè¾¹å¤©
...
</code></pre></div><p>æåˆ°ã€ŒæˆåŠŸæ¦‚å¿µã€æ—¶ï¼Œåœ¨æ–°ä¸­å›½åˆæœŸï¼Œç”±äºç ´é™¤æ€§åˆ«åˆ»æ¿å°è±¡ï¼Œå®£ä¼ æ›´åŠ ä¸­æ€§ï¼Œ ç«‹æ¦œæ ·è€ƒè™‘äº†æ€§åˆ«çš„å¹³è¡¡ã€‚è€Œéšç€æ—¶é—´æ¨ç§»ï¼Œå£å·å¼çš„å®£ä¼ è¿åŠ¨æ²‰å¯‚åï¼Œ å†å²çš„æƒ¯æ€§(ä¼ ç»Ÿæ–‡åŒ–çš„åŸºå› )å¯èƒ½ä¼šé‡æ–°å¤æ´»ï¼Œ æåˆ°ã€ŒæˆåŠŸæ¦‚å¿µã€æ—¶ï¼Œç¤¾ä¼šæ›´å®¹æ˜“å°†ã€ŒæˆåŠŸã€ä¸ã€Œç”·æ€§ã€è”ç³»èµ·æ¥ã€‚</p>
<br>
<p><strong>æ€§åˆ«ä¸è´£ä»»</strong></p>
<p>æˆå°±ä¸ç”·æ€§æœ‰æ›´é«˜çš„å…³è”ï¼Œ èƒŒåæ˜¯å¦æ„å‘³ç€ä¼ ç»Ÿæ–‡åŒ–å»ºæ„çš„ç¤¾ä¼šè¦æ±‚ç”·æ€§æ‰¿æ‹…è¿œå¤šäºå¥³æ€§çš„è´£ä»»ã€‚</p>
<p><img loading="lazy" src="img/08-responsibility.png" alt=""  />
</p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤§å¤šæ•°å¹´ä»½ï¼Œ distanceæ˜¯å¤§äº0çš„ï¼Œå³ æåˆ°ã€Œè´£ä»»ã€æ¦‚å¿µæ—¶ï¼Œç¤¾ä¼šæ›´å®¹æ˜“è”æƒ³åˆ°ã€Œç”·æ€§ã€ï¼Œè€Œä¸æ˜¯ã€Œå¥³æ€§ã€ã€‚</p>
<p><br><br></p>
<h2 id="ç›¸å…³èµ„æ–™">ç›¸å…³èµ„æ–™</h2>
<ul>
<li><a href="https://textdata.cn/blog/management_python_course/">è§†é¢‘è¯¾ | Python å®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a></li>
<li><a href="https://textdata.cn/blog/the_text_analysis_list_about_ms/">LIST | ç¤¾ç§‘(ç»ç®¡)æ•°æ®æŒ–æ˜æ–‡çŒ®èµ„æ–™æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/datasets_available_for_management_science/">LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2025-02-14-using-online-large-model-api-to-transform-text-data-into-structured-data/">æ•™ç¨‹ | ä½¿ç”¨ Ollama ä¸å¤§æ¨¡å‹å°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®</a></li>
<li><a href="https://textdata.cn/blog/">https://textdata.cn/</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ¡ˆä¾‹ |  ä½¿ç”¨è£åˆ¤æ–‡ä¹¦è¯­æ–™è®­ç»ƒGloVeè¯å‘é‡</title>
      <link>https://textdata.cn/blog/2025-04-17-training-a-glove-model-using-china-judgements-corpus/</link>
      <pubDate>Thu, 17 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-04-17-training-a-glove-model-using-china-judgements-corpus/</guid>
      <description>&lt;p&gt;å‰é˜µå­åˆ†äº«äº† &lt;a href=&#34;https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/&#34;&gt;å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹&lt;/a&gt; ï¼Œåæ¥æˆ‘å·å·çš„ä¿®æ”¹äº†è¿™ç¯‡æŠ€æœ¯æ–‡ï¼Œ å°† C ä»£ç å°è£…åˆ° cntext2.x å†…ï¼Œ åŸæ¥è®­ç»ƒä»£ç è¡Œå‡ åè¡Œï¼Œ ç°åœ¨åªéœ€è¦ä¸¤è¡Œå°±å¯ä»¥è®­ç»ƒ GloVe æ¨¡å‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GloVe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;è¯­æ–™æ–‡ä»¶.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸€æ£€æŸ¥æ•°æ®&#34;&gt;ä¸€ã€æ£€æŸ¥æ•°æ®&lt;/h2&gt;
&lt;p&gt;è£åˆ¤æ–‡ä¹¦æ•°æ®é›†ï¼Œæ¯ä¸ªæœˆä»½å­˜å‚¨åˆ°ä¸€ä¸ª csvï¼Œ æ¯ä¸ªå¹´ä»½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ–‡ä»¶å¤¹ã€‚ä¸‹å›¾æ˜¯ 2021 å¹´çš„æ–‡ä»¶å¤¹æˆªå›¾
&lt;img loading=&#34;lazy&#34; src=&#34;img/2021.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;csv å­—æ®µæ ¼å¼æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾ä¸€ä¸ªæ–‡ä»¶ï¼Œå°è¯•ç€è¯»å–å‰ 5 è¡Œï¼ŒæŸ¥çœ‹æ•°æ®ä¸­æœ‰å“ªäº›å­—æ®µã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2013/2013-01.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nrows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dropna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ–‡ä¹¦å†…å®¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inplace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒè®­ç»ƒè¯å‘é‡&#34;&gt;äºŒã€è®­ç»ƒè¯å‘é‡&lt;/h2&gt;
&lt;h3 id=&#34;21-æ„é€ è¯­æ–™&#34;&gt;2.1 æ„é€ è¯­æ–™&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬åªä» csv ä¸­é€‰å– &amp;ldquo;&lt;strong&gt;æ–‡ä¹¦å†…å®¹&lt;/strong&gt;&amp;rdquo; ï¼Œå¹¶å°†å…¶å­˜å‚¨åˆ°è¯­æ–™ txt æ–‡ä»¶ä¸­ã€‚ä½†å…¨éƒ¨è£åˆ¤æ–‡ä¹¦æ•°æ®é‡é«˜è¾¾ 300Gï¼Œ æˆ‘å¸Œæœ›æ–‡æœ¬è¯­æ–™æ§åˆ¶åœ¨ 10G å·¦å³ã€‚&lt;/p&gt;
&lt;p&gt;2010/2011/2013 è¿™ä¸‰ä¸ªå¹´åº¦çš„æ•°æ®åªæœ‰å‡ ç™¾ Mï¼Œ æ•°æ®å…¨éƒ¨ä¿ç•™ã€‚ å‰©ä¸‹çš„å¹´ä»½ï¼Œè®¾ç½®ä¸åŒçš„æŠ½æ ·æ¯”ä¾‹ï¼Œå°½å¯èƒ½å°†æ¯å¹´ç”Ÿæˆçš„è¯­æ–™ txt æ–‡ä»¶æ§åˆ¶åœ¨ 1G å·¦å³ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å¹´ä»½&lt;/th&gt;
&lt;th&gt;è§£å‹åæ–‡ä»¶å¤§å°&lt;/th&gt;
&lt;th&gt;æŠ½æ ·æ¯”ä¾‹&lt;/th&gt;
&lt;th&gt;è¯­æ–™ txt å¤§å°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;2010&lt;/td&gt;
&lt;td&gt;761M&lt;/td&gt;
&lt;td&gt;100%&lt;/td&gt;
&lt;td&gt;684M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;452M&lt;/td&gt;
&lt;td&gt;100%&lt;/td&gt;
&lt;td&gt;396M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;757M&lt;/td&gt;
&lt;td&gt;100%&lt;/td&gt;
&lt;td&gt;665M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;5.13G&lt;/td&gt;
&lt;td&gt;20%&lt;/td&gt;
&lt;td&gt;984M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;23.7G&lt;/td&gt;
&lt;td&gt;4%&lt;/td&gt;
&lt;td&gt;905M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;33.6G&lt;/td&gt;
&lt;td&gt;3%&lt;/td&gt;
&lt;td&gt;968M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2016&lt;/td&gt;
&lt;td&gt;39.9G&lt;/td&gt;
&lt;td&gt;2.4%&lt;/td&gt;
&lt;td&gt;914M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2017&lt;/td&gt;
&lt;td&gt;44.6G&lt;/td&gt;
&lt;td&gt;2.2%&lt;/td&gt;
&lt;td&gt;882M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2018&lt;/td&gt;
&lt;td&gt;24.8G&lt;/td&gt;
&lt;td&gt;4%&lt;/td&gt;
&lt;td&gt;875M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2019&lt;/td&gt;
&lt;td&gt;48.3G&lt;/td&gt;
&lt;td&gt;2%&lt;/td&gt;
&lt;td&gt;833M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2020&lt;/td&gt;
&lt;td&gt;91.2G&lt;/td&gt;
&lt;td&gt;1%&lt;/td&gt;
&lt;td&gt;779M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2021&lt;/td&gt;
&lt;td&gt;32.3G&lt;/td&gt;
&lt;td&gt;3%&lt;/td&gt;
&lt;td&gt;816M&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tqdm&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# å¹´ä»½ã€æŠ½æ ·æ¯”ä¾‹&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;year_fracs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2010&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2011&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2012&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2013&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2014&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.04&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2015&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.03&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2016&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.024&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2017&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.022&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2018&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.04&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2019&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.02&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2020&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2021&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.03&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;



&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;è£åˆ¤æ–‡ä¹¦.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;frac&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_fracs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;csvfs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;csvf&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;csvf&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;listdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.csv&amp;#39;&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;csvf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;csvf&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;csvfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;# ä¸ºèŠ‚çœå†…å­˜å¼€é”€ï¼Œ&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;# åªè¯» csv ä¸­çš„ â€œæ–‡ä¹¦å†…å®¹â€ ä¸€ä¸ªå­—æ®µï¼Œ&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;# ä¸”è®¾ç½® chunksize åˆ†æ‰¹æ¬¡è¯»å–&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;chunk_dfs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;csvf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;usecols&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ–‡ä¹¦å†…å®¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunksize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dropna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ–‡ä¹¦å†…å®¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inplace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ–‡ä¹¦å†…å®¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;22-è®­ç»ƒ-glove&#34;&gt;2.2 è®­ç»ƒ GloVe&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ cntext2.x å¯¹ä»£ç è¿›è¡Œäº†ä¼˜åŒ–ï¼Œ å‡ ä¸ª G çš„è¯­æ–™åœ¨ cntext å†…é¢„å¤„ç†æ—¶å€™ä¸ä¼šä¸€æ¬¡æ€§è¯»å–å…¨éƒ¨å†…å®¹ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸ä¼šå‡ºç°å†…å­˜æº¢å‡ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºè¯­æ–™ &lt;strong&gt;&lt;em&gt;è£åˆ¤æ–‡ä¹¦.txt&lt;/em&gt;&lt;/strong&gt; è®­ç»ƒ GloVe è¯åµŒå…¥è¯­è¨€æ¨¡å‹ ï¼Œå‚æ•° window_size=15, vector_size=200, ç»“æœä¼šè‡ªåŠ¨ä¿å­˜åˆ° output æ–‡ä»¶å¤¹å†…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-corpus.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;strong&gt;&lt;em&gt;cntext2.1.6&lt;/em&gt;&lt;/strong&gt;ï¼Œ ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GloVe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;è£åˆ¤æ–‡ä¹¦.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Mac(Linux) System, Enable Parallel Processing
Cache output/è£åˆ¤æ–‡ä¹¦_cache.txt Not Found, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2502938/2502938 [26:37&amp;lt;00:00, 1566.54it/s]
Reading Preprocessed Corpus from output/è£åˆ¤æ–‡ä¹¦_cache.txt
Start Training GloVe
GloVe Training Cost 1223s.
Output Saved To: output/è£åˆ¤æ–‡ä¹¦-Word2Vec.200.15.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®­ç»ƒæ€»è€—æ—¶ 1223sï¼Œ çº¦ 20 åˆ†é’Ÿã€‚æ¨¡å‹ä¿å­˜åœ¨ &lt;strong&gt;&lt;em&gt;output/è£åˆ¤æ–‡ä¹¦-Word2Vec.200.15.bin&lt;/em&gt;&lt;/strong&gt;ï¼Œ è¯¥æ¨¡å‹æ–‡ä»¶å¤§å°çº¦ä¸º 1.58Gã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;23-è¯„ä¼°æ¨¡å‹&#34;&gt;2.3 è¯„ä¼°æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹&lt;a href=&#34;https://cntext.readthedocs.io/zh-cn/latest/model.html&#34;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_similarity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt
Processing Similarity Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 537/537 [00:00&amp;lt;00:00, 131978.28it/s]

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&amp;#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   432    |    105     |            0.37            |
+----------+------------+----------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è¿‘ä¹‰æµ‹è¯•&lt;/strong&gt;: Spearman&amp;rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚&lt;br&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_analogy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:48&amp;lt;00:00, 24.75it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   507    |    170     |    7.69    |   4.38   |
|   CityInProvince   |   175    |     0      |   98.86    |   1.39   |
| FamilyRelationship |   272    |     0      |   73.53    |   1.56   |
|   SocialScience    |    8     |     62     |   25.00    |   7.00   |
+--------------------+----------+------------+------------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç±»æ¯”æµ‹è¯•&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CapitalOfCountries è£åˆ¤æ–‡ä¹¦è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œ åº”è¯¥æ˜¯æ•°æ®åº“ä¸­æ¶‰å¤–çš„æ¡ˆä»¶è¾ƒå°‘ã€‚&lt;/li&gt;
&lt;li&gt;CityInProvince è£åˆ¤æ–‡ä¹¦è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¦‚æ­¤ä¼˜å¼‚ï¼Œæ˜¯å› ä¸ºå‡ ä¹å…¨ä¸ºå›½å†…æ¡ˆä»¶ï¼Œ è€Œæ¡ˆä»¶æè¿°ä¸€èˆ¬ä¼šäº¤å¾…æ¡ˆå‘çš„çœå¸‚ç­‰ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;FamilyRelationship è£åˆ¤æ–‡ä¹¦è¯­æ–™ä¸­è¡¨ç°è¾ƒå¥½ï¼Œ å¯èƒ½å¾ˆå¤šçš„æ¡ˆä»¶ä¼šæè¿°æ¡ˆä»¶ç›¸å…³ç¤¾ä¼šå…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;SocialScience è£åˆ¤æ–‡ä¹¦è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä½¿ç”¨-glove&#34;&gt;ä¸‰ã€ä½¿ç”¨ GloVe&lt;/h2&gt;
&lt;h3 id=&#34;31-å¯¼å…¥æ¨¡å‹&#34;&gt;3.1 å¯¼å…¥æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ cntext2.1.6 è¯»å–å¾ˆç®€å•ï¼Œ ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/è£åˆ¤æ–‡ä¹¦-Word2Vec.200.15.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¨¡å‹è¯æ±‡é‡: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;class &amp;#39;gensim.models.keyedvectors.KeyedVectors&amp;#39;&amp;gt;
æ¨¡å‹è¯æ±‡é‡: 2099102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§&#34;&gt;3.2 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.index_to_key&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.key_to_index&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.vector_size&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.get_vector(word)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.similar_by_word(word, topn=10)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.similar_by_vector(vector, topn=10)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;h2 id=&#34;33-è¯è¡¨&#34;&gt;3.3 è¯è¡¨&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹è¯è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index_to_key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[&amp;#39;è¢«å‘Š&amp;#39;,
 &amp;#39;åŸå‘Š&amp;#39;,
 &amp;#39;æœ¬é™¢&amp;#39;,
 &amp;#39;å…¬å¸&amp;#39;,
 &amp;#39;è§„å®š&amp;#39;,
 &amp;#39;æ‰§è¡Œ&amp;#39;,
 ...
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;br&gt;
&lt;p&gt;æŸ¥çœ‹è¯æ±‡æ˜ å°„è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_to_index&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;{&amp;#39;è¢«å‘Š&amp;#39;: 0,
 &amp;#39;åŸå‘Š&amp;#39;: 1,
 &amp;#39;æœ¬é™¢&amp;#39;: 2,
 &amp;#39;å…¬å¸&amp;#39;: 3,
 &amp;#39;è§„å®š&amp;#39;: 4,
 &amp;#39;æ‰§è¡Œ&amp;#39;: 5,
 ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;34-æŸ¥çœ‹è¯å‘é‡&#34;&gt;3.4 æŸ¥çœ‹è¯å‘é‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢æŸè¯çš„è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»æµ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([ 2.909250e-01,  9.074450e-01,  5.231860e-01,  5.381490e-01,
       -2.813620e-01,  2.661690e-01,  1.045510e-01, -4.516240e-01,
       -2.186710e-01,  1.867590e-01, -4.870700e-01, -1.803480e-01,
       -6.361140e-01, -8.739630e-01,  3.418450e-01,  7.470900e-02,
        ......
        ......
        2.636230e-01, -2.538920e-01, -2.442900e-02,  5.847510e-01,
        5.135750e-01, -4.009650e-01, -3.629850e-01,  2.332400e-01,
       -3.069630e-01, -4.182810e-01,  3.937240e-01, -8.510000e-01,
        7.894350e-01,  3.969710e-01,  7.895660e-01,  4.881190e-01],
      dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢å¤šä¸ªè¯çš„è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_mean_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»æµ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;çŠ¯ç½ª&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ruj&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([ 0.02923387,  0.04620265,  0.03790346,  0.01160904, -0.02162073,
        0.01537724,  0.02025648, -0.03336571, -0.00447518, -0.00529976,
       -0.02856204,  0.01545951,  0.00780857, -0.05398807,  0.02195465,
        0.03140446, -0.02007412,  0.08278576, -0.027172  , -0.00272319,
       ......
        0.0291778 ,  0.03382879, -0.00913138,  0.04487584,  0.06375133,
        0.032144  , -0.02788475,  0.05068161,  0.0122064 ,  0.01759091,
       -0.05560436,  0.00272704, -0.01176615, -0.08875326,  0.00767812,
       -0.00486504,  0.10119167, -0.01212235,  0.06018812,  0.02998512],
      dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;35-è¿‘ä¹‰è¯&#34;&gt;3.5 è¿‘ä¹‰è¯&lt;/h3&gt;
&lt;p&gt;æ ¹æ®è¯è¯­æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_word&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åŠ¨æœº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;ä¸»è§‚&amp;#39;, 0.6688777804374695),
 (&amp;#39;æ„å›¾&amp;#39;, 0.6248725652694702),
 (&amp;#39;æ¶æ€§&amp;#39;, 0.6005507111549377),
 (&amp;#39;è“„æ„&amp;#39;, 0.5913136005401611),
 (&amp;#39;å‘åŠ£&amp;#39;, 0.5908187627792358),
 (&amp;#39;ä½œæ¡ˆåŠ¨æœº&amp;#39;, 0.5703221559524536),
 (&amp;#39;å¿ƒæ€&amp;#39;, 0.5640602707862854),
 (&amp;#39;æ•…æ„&amp;#39;, 0.5533956289291382),
 (&amp;#39;æ˜¾è€Œæ˜“è§&amp;#39;, 0.5524264574050903),
 (&amp;#39;æ¶æ„&amp;#39;, 0.5509642958641052)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;æ ¹æ®æŸè¯çš„è¯å‘é‡æŸ¥è¯¢æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åŠ¨æœº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;åŠ¨æœº&amp;#39;, 0.9999999403953552),
 (&amp;#39;ä¸»è§‚&amp;#39;, 0.6688777804374695),
 (&amp;#39;æ„å›¾&amp;#39;, 0.6248724460601807),
 (&amp;#39;æ¶æ€§&amp;#39;, 0.600550651550293),
 (&amp;#39;è“„æ„&amp;#39;, 0.5913134813308716),
 (&amp;#39;å‘åŠ£&amp;#39;, 0.5908187627792358),
 (&amp;#39;ä½œæ¡ˆåŠ¨æœº&amp;#39;, 0.5703221559524536),
 (&amp;#39;å¿ƒæ€&amp;#39;, 0.5640602707862854),
 (&amp;#39;æ•…æ„&amp;#39;, 0.5533955693244934),
 (&amp;#39;æ˜¾è€Œæ˜“è§&amp;#39;, 0.5524263381958008)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;å¤šä¸ªè¯æ±‚å¾—å‡å€¼å‘é‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;purpose_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_mean_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åŠ¨æœº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ„å›¾&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç›®çš„&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;g_wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;purpose_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;æ„å›¾&amp;#39;, 0.9032057523727417),
 (&amp;#39;ç›®çš„&amp;#39;, 0.8639562726020813),
 (&amp;#39;åŠ¨æœº&amp;#39;, 0.8277378678321838),
 (&amp;#39;ä¸»è§‚&amp;#39;, 0.7455390095710754),
 (&amp;#39;æ¶æ„&amp;#39;, 0.7291366457939148),
 (&amp;#39;æ•…æ„&amp;#39;, 0.7236210107803345),
 (&amp;#39;å®¢è§‚&amp;#39;, 0.7146263122558594),
 (&amp;#39;ä¼å›¾&amp;#39;, 0.7049675583839417),
 (&amp;#39;è¡Œä¸º&amp;#39;, 0.6962229609489441),
 (&amp;#39;æ©ç›–&amp;#39;, 0.6917882561683655),
 (&amp;#39;æ‰€è°“&amp;#39;, 0.6809536218643188),
 (&amp;#39;å¹¶é&amp;#39;, 0.667915403842926),
 (&amp;#39;æ‰‹æ®µ&amp;#39;, 0.6663289666175842),
 (&amp;#39;åˆ©ç›Š&amp;#39;, 0.6568542718887329),
 (&amp;#39;è¿™ç§&amp;#39;, 0.6558799743652344),
 (&amp;#39;æ¬ºéª—&amp;#39;, 0.6545097231864929),
 (&amp;#39;è¿èƒŒ&amp;#39;, 0.6538694500923157),
 (&amp;#39;çœŸç›¸&amp;#39;, 0.6527130007743835),
 (&amp;#39;æ˜¾ç„¶&amp;#39;, 0.6525647640228271),
 (&amp;#39;å®è´¨&amp;#39;, 0.6521809101104736)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››è·å–æ¨¡å‹&#34;&gt;å››ã€è·å–æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;å†…å®¹åˆ›ä½œä¸æ˜“ï¼Œ æœ¬æ–‡ä¸ºä»˜è´¹å†…å®¹ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- è£åˆ¤æ–‡ä¹¦-GloVe.200.15.bin   https://pan.baidu.com/s/1a0Fisvnkl8UaQZrHP7olCQ?pwd=8w49

- æ›´å¤šè¯å‘é‡æ¨¡å‹               https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 100å…ƒ                      cntext-2.1.6-py3-none-any.whl  åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>å‰é˜µå­åˆ†äº«äº† <a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹</a> ï¼Œåæ¥æˆ‘å·å·çš„ä¿®æ”¹äº†è¿™ç¯‡æŠ€æœ¯æ–‡ï¼Œ å°† C ä»£ç å°è£…åˆ° cntext2.x å†…ï¼Œ åŸæ¥è®­ç»ƒä»£ç è¡Œå‡ åè¡Œï¼Œ ç°åœ¨åªéœ€è¦ä¸¤è¡Œå°±å¯ä»¥è®­ç»ƒ GloVe æ¨¡å‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="n">g_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">GloVe</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;è¯­æ–™æ–‡ä»¶.txt&#39;</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><p><br><br></p>
<h2 id="ä¸€æ£€æŸ¥æ•°æ®">ä¸€ã€æ£€æŸ¥æ•°æ®</h2>
<p>è£åˆ¤æ–‡ä¹¦æ•°æ®é›†ï¼Œæ¯ä¸ªæœˆä»½å­˜å‚¨åˆ°ä¸€ä¸ª csvï¼Œ æ¯ä¸ªå¹´ä»½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ–‡ä»¶å¤¹ã€‚ä¸‹å›¾æ˜¯ 2021 å¹´çš„æ–‡ä»¶å¤¹æˆªå›¾
<img loading="lazy" src="img/2021.png" alt=""  />
</p>
<br>
<p>csv å­—æ®µæ ¼å¼æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾ä¸€ä¸ªæ–‡ä»¶ï¼Œå°è¯•ç€è¯»å–å‰ 5 è¡Œï¼ŒæŸ¥çœ‹æ•°æ®ä¸­æœ‰å“ªäº›å­—æ®µã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;2013/2013-01.csv&#39;</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;æ–‡ä¹¦å†…å®¹&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/df.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="äºŒè®­ç»ƒè¯å‘é‡">äºŒã€è®­ç»ƒè¯å‘é‡</h2>
<h3 id="21-æ„é€ è¯­æ–™">2.1 æ„é€ è¯­æ–™</h3>
<p>æˆ‘ä»¬åªä» csv ä¸­é€‰å– &ldquo;<strong>æ–‡ä¹¦å†…å®¹</strong>&rdquo; ï¼Œå¹¶å°†å…¶å­˜å‚¨åˆ°è¯­æ–™ txt æ–‡ä»¶ä¸­ã€‚ä½†å…¨éƒ¨è£åˆ¤æ–‡ä¹¦æ•°æ®é‡é«˜è¾¾ 300Gï¼Œ æˆ‘å¸Œæœ›æ–‡æœ¬è¯­æ–™æ§åˆ¶åœ¨ 10G å·¦å³ã€‚</p>
<p>2010/2011/2013 è¿™ä¸‰ä¸ªå¹´åº¦çš„æ•°æ®åªæœ‰å‡ ç™¾ Mï¼Œ æ•°æ®å…¨éƒ¨ä¿ç•™ã€‚ å‰©ä¸‹çš„å¹´ä»½ï¼Œè®¾ç½®ä¸åŒçš„æŠ½æ ·æ¯”ä¾‹ï¼Œå°½å¯èƒ½å°†æ¯å¹´ç”Ÿæˆçš„è¯­æ–™ txt æ–‡ä»¶æ§åˆ¶åœ¨ 1G å·¦å³ã€‚</p>
<table>
<thead>
<tr>
<th>å¹´ä»½</th>
<th>è§£å‹åæ–‡ä»¶å¤§å°</th>
<th>æŠ½æ ·æ¯”ä¾‹</th>
<th>è¯­æ–™ txt å¤§å°</th>
</tr>
</thead>
<tbody>
<tr>
<td>2010</td>
<td>761M</td>
<td>100%</td>
<td>684M</td>
</tr>
<tr>
<td>2011</td>
<td>452M</td>
<td>100%</td>
<td>396M</td>
</tr>
<tr>
<td>2012</td>
<td>757M</td>
<td>100%</td>
<td>665M</td>
</tr>
<tr>
<td>2013</td>
<td>5.13G</td>
<td>20%</td>
<td>984M</td>
</tr>
<tr>
<td>2014</td>
<td>23.7G</td>
<td>4%</td>
<td>905M</td>
</tr>
<tr>
<td>2015</td>
<td>33.6G</td>
<td>3%</td>
<td>968M</td>
</tr>
<tr>
<td>2016</td>
<td>39.9G</td>
<td>2.4%</td>
<td>914M</td>
</tr>
<tr>
<td>2017</td>
<td>44.6G</td>
<td>2.2%</td>
<td>882M</td>
</tr>
<tr>
<td>2018</td>
<td>24.8G</td>
<td>4%</td>
<td>875M</td>
</tr>
<tr>
<td>2019</td>
<td>48.3G</td>
<td>2%</td>
<td>833M</td>
</tr>
<tr>
<td>2020</td>
<td>91.2G</td>
<td>1%</td>
<td>779M</td>
</tr>
<tr>
<td>2021</td>
<td>32.3G</td>
<td>3%</td>
<td>816M</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="c1"># å¹´ä»½ã€æŠ½æ ·æ¯”ä¾‹</span>
<span class="n">year_fracs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2011&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span> <span class="mf">0.024</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2017&#39;</span><span class="p">,</span> <span class="mf">0.022</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2021&#39;</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">)</span>
    <span class="p">]</span>



<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;è£åˆ¤æ–‡ä¹¦.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">corpus_file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">year</span><span class="p">,</span> <span class="n">frac</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">year_fracs</span><span class="p">):</span>
        <span class="n">csvfs</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">csvf</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">csvf</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;.csv&#39;</span> <span class="ow">in</span> <span class="n">csvf</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">csvf</span> <span class="ow">in</span> <span class="n">csvfs</span><span class="p">:</span>
            <span class="c1"># ä¸ºèŠ‚çœå†…å­˜å¼€é”€ï¼Œ</span>
            <span class="c1"># åªè¯» csv ä¸­çš„ â€œæ–‡ä¹¦å†…å®¹â€ ä¸€ä¸ªå­—æ®µï¼Œ</span>
            <span class="c1"># ä¸”è®¾ç½® chunksize åˆ†æ‰¹æ¬¡è¯»å–</span>
            <span class="n">chunk_dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csvf</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;æ–‡ä¹¦å†…å®¹&#39;</span><span class="p">],</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">chunk_df</span> <span class="ow">in</span> <span class="n">chunk_dfs</span><span class="p">:</span>
                <span class="n">chunk_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;æ–‡ä¹¦å†…å®¹&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunk_df</span><span class="p">[</span><span class="s1">&#39;æ–‡ä¹¦å†…å®¹&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
                <span class="n">corpus_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><br>
<h3 id="22-è®­ç»ƒ-glove">2.2 è®­ç»ƒ GloVe</h3>
<p>ä½¿ç”¨ cntext2.x å¯¹ä»£ç è¿›è¡Œäº†ä¼˜åŒ–ï¼Œ å‡ ä¸ª G çš„è¯­æ–™åœ¨ cntext å†…é¢„å¤„ç†æ—¶å€™ä¸ä¼šä¸€æ¬¡æ€§è¯»å–å…¨éƒ¨å†…å®¹ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸ä¼šå‡ºç°å†…å­˜æº¢å‡ºé—®é¢˜ã€‚</p>
<p>åŸºäºè¯­æ–™ <strong><em>è£åˆ¤æ–‡ä¹¦.txt</em></strong> è®­ç»ƒ GloVe è¯åµŒå…¥è¯­è¨€æ¨¡å‹ ï¼Œå‚æ•° window_size=15, vector_size=200, ç»“æœä¼šè‡ªåŠ¨ä¿å­˜åˆ° output æ–‡ä»¶å¤¹å†…ã€‚</p>
<p><img loading="lazy" src="img/01-corpus.png" alt=""  />
</p>
<p>ä½¿ç”¨ <strong><em>cntext2.1.6</em></strong>ï¼Œ ä»£ç å¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">g_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">GloVe</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;è£åˆ¤æ–‡ä¹¦.txt&#39;</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/è£åˆ¤æ–‡ä¹¦_cache.txt Not Found, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2502938/2502938 [26:37&lt;00:00, 1566.54it/s]
Reading Preprocessed Corpus from output/è£åˆ¤æ–‡ä¹¦_cache.txt
Start Training GloVe
GloVe Training Cost 1223s.
Output Saved To: output/è£åˆ¤æ–‡ä¹¦-Word2Vec.200.15.bin
</code></pre></div><p>è®­ç»ƒæ€»è€—æ—¶ 1223sï¼Œ çº¦ 20 åˆ†é’Ÿã€‚æ¨¡å‹ä¿å­˜åœ¨ <strong><em>output/è£åˆ¤æ–‡ä¹¦-Word2Vec.200.15.bin</em></strong>ï¼Œ è¯¥æ¨¡å‹æ–‡ä»¶å¤§å°çº¦ä¸º 1.58Gã€‚</p>
<br>
<h3 id="23-è¯„ä¼°æ¨¡å‹">2.3 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">g_wv</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt
Processing Similarity Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 537/537 [00:00&lt;00:00, 131978.28it/s]

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   432    |    105     |            0.37            |
+----------+------------+----------------------------+
</code></pre></div><p><strong>è¿‘ä¹‰æµ‹è¯•</strong>: Spearman&rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚<br></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">g_wv</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:48&lt;00:00, 24.75it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   507    |    170     |    7.69    |   4.38   |
|   CityInProvince   |   175    |     0      |   98.86    |   1.39   |
| FamilyRelationship |   272    |     0      |   73.53    |   1.56   |
|   SocialScience    |    8     |     62     |   25.00    |   7.00   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p><strong>ç±»æ¯”æµ‹è¯•</strong>:</p>
<ul>
<li>CapitalOfCountries è£åˆ¤æ–‡ä¹¦è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œ åº”è¯¥æ˜¯æ•°æ®åº“ä¸­æ¶‰å¤–çš„æ¡ˆä»¶è¾ƒå°‘ã€‚</li>
<li>CityInProvince è£åˆ¤æ–‡ä¹¦è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¦‚æ­¤ä¼˜å¼‚ï¼Œæ˜¯å› ä¸ºå‡ ä¹å…¨ä¸ºå›½å†…æ¡ˆä»¶ï¼Œ è€Œæ¡ˆä»¶æè¿°ä¸€èˆ¬ä¼šäº¤å¾…æ¡ˆå‘çš„çœå¸‚ç­‰ä¿¡æ¯ã€‚</li>
<li>FamilyRelationship è£åˆ¤æ–‡ä¹¦è¯­æ–™ä¸­è¡¨ç°è¾ƒå¥½ï¼Œ å¯èƒ½å¾ˆå¤šçš„æ¡ˆä»¶ä¼šæè¿°æ¡ˆä»¶ç›¸å…³ç¤¾ä¼šå…³ç³»ã€‚</li>
<li>SocialScience è£åˆ¤æ–‡ä¹¦è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰ä½¿ç”¨-glove">ä¸‰ã€ä½¿ç”¨ GloVe</h2>
<h3 id="31-å¯¼å…¥æ¨¡å‹">3.1 å¯¼å…¥æ¨¡å‹</h3>
<p>ä½¿ç”¨ cntext2.1.6 è¯»å–å¾ˆç®€å•ï¼Œ ä»£ç å¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">g_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/è£åˆ¤æ–‡ä¹¦-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">g_wv</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;æ¨¡å‹è¯æ±‡é‡: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">g_wv</span><span class="o">.</span><span class="n">wv</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&lt;class &#39;gensim.models.keyedvectors.KeyedVectors&#39;&gt;
æ¨¡å‹è¯æ±‡é‡: 2099102
</code></pre></div><br>
<h3 id="32-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">3.2 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>KeyedVectors.index_to_key</em></strong></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.key_to_index</em></strong></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.vector_size</em></strong></td>
<td>è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.get_vector(word)</em></strong></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_word(word, topn=10)</em></strong></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_vector(vector, topn=10)</em></strong></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
</tbody>
</table>
<br>
<h2 id="33-è¯è¡¨">3.3 è¯è¡¨</h2>
<p>æŸ¥çœ‹è¯è¡¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">g_wv</span><span class="o">.</span><span class="n">index_to_key</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;è¢«å‘Š&#39;,
 &#39;åŸå‘Š&#39;,
 &#39;æœ¬é™¢&#39;,
 &#39;å…¬å¸&#39;,
 &#39;è§„å®š&#39;,
 &#39;æ‰§è¡Œ&#39;,
 ...
]
</code></pre></div><br>
<br>
<p>æŸ¥çœ‹è¯æ±‡æ˜ å°„è¡¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">g_wv</span><span class="o">.</span><span class="n">key_to_index</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;è¢«å‘Š&#39;: 0,
 &#39;åŸå‘Š&#39;: 1,
 &#39;æœ¬é™¢&#39;: 2,
 &#39;å…¬å¸&#39;: 3,
 &#39;è§„å®š&#39;: 4,
 &#39;æ‰§è¡Œ&#39;: 5,
 ...
}
</code></pre></div><br>
<h3 id="34-æŸ¥çœ‹è¯å‘é‡">3.4 æŸ¥çœ‹è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æŸ¥è¯¢æŸè¯çš„è¯å‘é‡</span>
<span class="n">g_wv</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 2.909250e-01,  9.074450e-01,  5.231860e-01,  5.381490e-01,
       -2.813620e-01,  2.661690e-01,  1.045510e-01, -4.516240e-01,
       -2.186710e-01,  1.867590e-01, -4.870700e-01, -1.803480e-01,
       -6.361140e-01, -8.739630e-01,  3.418450e-01,  7.470900e-02,
        ......
        ......
        2.636230e-01, -2.538920e-01, -2.442900e-02,  5.847510e-01,
        5.135750e-01, -4.009650e-01, -3.629850e-01,  2.332400e-01,
       -3.069630e-01, -4.182810e-01,  3.937240e-01, -8.510000e-01,
        7.894350e-01,  3.969710e-01,  7.895660e-01,  4.881190e-01],
      dtype=float32)
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æŸ¥è¯¢å¤šä¸ªè¯çš„è¯å‘é‡</span>
<span class="n">g_wv</span><span class="o">.</span><span class="n">get_mean_vector</span><span class="p">([</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">,</span> <span class="s1">&#39;çŠ¯ç½ª&#39;</span><span class="p">])</span>
</code></pre></div><p>Ruj</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 0.02923387,  0.04620265,  0.03790346,  0.01160904, -0.02162073,
        0.01537724,  0.02025648, -0.03336571, -0.00447518, -0.00529976,
       -0.02856204,  0.01545951,  0.00780857, -0.05398807,  0.02195465,
        0.03140446, -0.02007412,  0.08278576, -0.027172  , -0.00272319,
       ......
        0.0291778 ,  0.03382879, -0.00913138,  0.04487584,  0.06375133,
        0.032144  , -0.02788475,  0.05068161,  0.0122064 ,  0.01759091,
       -0.05560436,  0.00272704, -0.01176615, -0.08875326,  0.00767812,
       -0.00486504,  0.10119167, -0.01212235,  0.06018812,  0.02998512],
      dtype=float32)
</code></pre></div><br>
<h3 id="35-è¿‘ä¹‰è¯">3.5 è¿‘ä¹‰è¯</h3>
<p>æ ¹æ®è¯è¯­æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">g_wv</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="s1">&#39;åŠ¨æœº&#39;</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ä¸»è§‚&#39;, 0.6688777804374695),
 (&#39;æ„å›¾&#39;, 0.6248725652694702),
 (&#39;æ¶æ€§&#39;, 0.6005507111549377),
 (&#39;è“„æ„&#39;, 0.5913136005401611),
 (&#39;å‘åŠ£&#39;, 0.5908187627792358),
 (&#39;ä½œæ¡ˆåŠ¨æœº&#39;, 0.5703221559524536),
 (&#39;å¿ƒæ€&#39;, 0.5640602707862854),
 (&#39;æ•…æ„&#39;, 0.5533956289291382),
 (&#39;æ˜¾è€Œæ˜“è§&#39;, 0.5524264574050903),
 (&#39;æ¶æ„&#39;, 0.5509642958641052)]
</code></pre></div><br>
<p>æ ¹æ®æŸè¯çš„è¯å‘é‡æŸ¥è¯¢æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">g_wv</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">g_wv</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;åŠ¨æœº&#39;</span><span class="p">),</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;åŠ¨æœº&#39;, 0.9999999403953552),
 (&#39;ä¸»è§‚&#39;, 0.6688777804374695),
 (&#39;æ„å›¾&#39;, 0.6248724460601807),
 (&#39;æ¶æ€§&#39;, 0.600550651550293),
 (&#39;è“„æ„&#39;, 0.5913134813308716),
 (&#39;å‘åŠ£&#39;, 0.5908187627792358),
 (&#39;ä½œæ¡ˆåŠ¨æœº&#39;, 0.5703221559524536),
 (&#39;å¿ƒæ€&#39;, 0.5640602707862854),
 (&#39;æ•…æ„&#39;, 0.5533955693244934),
 (&#39;æ˜¾è€Œæ˜“è§&#39;, 0.5524263381958008)]
</code></pre></div><br>
<p>å¤šä¸ªè¯æ±‚å¾—å‡å€¼å‘é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">purpose_vector</span> <span class="o">=</span> <span class="n">g_wv</span><span class="o">.</span><span class="n">get_mean_vector</span><span class="p">([</span><span class="s1">&#39;åŠ¨æœº&#39;</span><span class="p">,</span>  <span class="s1">&#39;æ„å›¾&#39;</span><span class="p">,</span> <span class="s1">&#39;ç›®çš„&#39;</span><span class="p">])</span>
<span class="n">g_wv</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">purpose_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;æ„å›¾&#39;, 0.9032057523727417),
 (&#39;ç›®çš„&#39;, 0.8639562726020813),
 (&#39;åŠ¨æœº&#39;, 0.8277378678321838),
 (&#39;ä¸»è§‚&#39;, 0.7455390095710754),
 (&#39;æ¶æ„&#39;, 0.7291366457939148),
 (&#39;æ•…æ„&#39;, 0.7236210107803345),
 (&#39;å®¢è§‚&#39;, 0.7146263122558594),
 (&#39;ä¼å›¾&#39;, 0.7049675583839417),
 (&#39;è¡Œä¸º&#39;, 0.6962229609489441),
 (&#39;æ©ç›–&#39;, 0.6917882561683655),
 (&#39;æ‰€è°“&#39;, 0.6809536218643188),
 (&#39;å¹¶é&#39;, 0.667915403842926),
 (&#39;æ‰‹æ®µ&#39;, 0.6663289666175842),
 (&#39;åˆ©ç›Š&#39;, 0.6568542718887329),
 (&#39;è¿™ç§&#39;, 0.6558799743652344),
 (&#39;æ¬ºéª—&#39;, 0.6545097231864929),
 (&#39;è¿èƒŒ&#39;, 0.6538694500923157),
 (&#39;çœŸç›¸&#39;, 0.6527130007743835),
 (&#39;æ˜¾ç„¶&#39;, 0.6525647640228271),
 (&#39;å®è´¨&#39;, 0.6521809101104736)]
</code></pre></div><p><br><br></p>
<h2 id="å››è·å–æ¨¡å‹">å››ã€è·å–æ¨¡å‹</h2>
<p>å†…å®¹åˆ›ä½œä¸æ˜“ï¼Œ æœ¬æ–‡ä¸ºä»˜è´¹å†…å®¹ï¼Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- è£åˆ¤æ–‡ä¹¦-GloVe.200.15.bin   https://pan.baidu.com/s/1a0Fisvnkl8UaQZrHP7olCQ?pwd=8w49

- æ›´å¤šè¯å‘é‡æ¨¡å‹               https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 100å…ƒ                      cntext-2.1.6-py3-none-any.whl  åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡</title>
      <link>https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/</link>
      <pubDate>Fri, 04 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-11-20-word2vec-by-year-by-province/</guid>
      <description>&lt;p&gt;æƒ³ç”¨ &lt;a href=&#34;https://textdata.cn/blog/2023-04-13-3571w-patent-dataset-in-china-mainland/&#34;&gt;ä¸­å›½ä¸“åˆ©ç”³è¯·æ•°æ®é›†&lt;/a&gt;ï¼ŒæŒ‰å¹´ä»½(æˆ–æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡çš„åŒå­¦ï¼Œå¯ä»¥å¥½å¥½çœ‹æœ¬æ–‡ï¼Œèƒ½èŠ‚çœä½ å‡ åä¸ªå°æ—¶æ—¶é—´ã€‚
&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸€æ£€æŸ¥æ•°æ®&#34;&gt;ä¸€ã€æ£€æŸ¥æ•°æ®&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæ•°æ®é›†å¾ˆå¤§ï¼Œ å¦‚å›¾æ‰€ç¤ºï¼Œæ–‡ä»¶åŠ¨è¾„å‡ G&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-data-screen.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åˆ†äº«è¿‡ &lt;a href=&#34;&#34;&gt;&lt;/a&gt; , é¢å¯¹å·¨å¤§csvæ–‡ä»¶ï¼Œæˆ‘ä»¬è¦äº†è§£å†…éƒ¨æœ‰å“ªäº›å­—æ®µã€å­—æ®µçš„å«ä¹‰ï¼Œ åªè¯»å–éœ€è¦çš„å­—æ®µï¼Œå‡è½»ç”µè„‘å†…å­˜å‹åŠ›ï¼Œ è®©ä½ èƒ½è½»æ¾åº”å¯¹å‡ å€äºå†…å­˜çš„å·¨å¤§csvæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# ä»¥å±±ä¸œçœ.csv ä¸ºä¾‹ï¼Œ åªè¯»ç¬¬ä¸€è¡Œ(å‰1è¡Œ)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å±±ä¸œçœ.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nrows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/02-shandong_df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;å­—æ®µå±•ç¤ºçš„ä¸å…¨ï¼Œå®Œæ•´çš„å­—æ®µåº”è¯¥æœ‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columns&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Index([&amp;#39;ä¸“åˆ©åç§°&amp;#39;, &amp;#39;ä¸“åˆ©ç±»å‹&amp;#39;, &amp;#39;ç”³è¯·äºº&amp;#39;, &amp;#39;ç”³è¯·äººç±»å‹&amp;#39;, &amp;#39;ç”³è¯·äººåœ°å€&amp;#39;, &amp;#39;ç”³è¯·äººå›½å®¶&amp;#39;, &amp;#39;ç”³è¯·äººçœä»½&amp;#39;, &amp;#39;ç”³è¯·äººåŸå¸‚&amp;#39;,
       &amp;#39;ç”³è¯·äººåŒºå¿&amp;#39;, &amp;#39;ç”³è¯·å·&amp;#39;, &amp;#39;ç”³è¯·æ—¥&amp;#39;, &amp;#39;ç”³è¯·å¹´ä»½&amp;#39;, &amp;#39;å…¬å¼€å…¬å‘Šå·&amp;#39;, &amp;#39;å…¬å¼€å…¬å‘Šæ—¥&amp;#39;, &amp;#39;å…¬å¼€å…¬å‘Šå¹´ä»½&amp;#39;, &amp;#39;æˆæƒå…¬å‘Šå·&amp;#39;,
       &amp;#39;æˆæƒå…¬å‘Šæ—¥&amp;#39;, &amp;#39;æˆæƒå…¬å‘Šå¹´ä»½&amp;#39;, &amp;#39;IPCåˆ†ç±»å·&amp;#39;, &amp;#39;IPCä¸»åˆ†ç±»å·&amp;#39;, &amp;#39;å‘æ˜äºº&amp;#39;, &amp;#39;æ‘˜è¦æ–‡æœ¬&amp;#39;, &amp;#39;ä¸»æƒé¡¹å†…å®¹&amp;#39;, &amp;#39;å½“å‰æƒåˆ©äºº&amp;#39;,
       &amp;#39;å½“å‰ä¸“åˆ©æƒäººåœ°å€&amp;#39;, &amp;#39;ä¸“åˆ©æƒäººç±»å‹&amp;#39;, &amp;#39;ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç &amp;#39;, &amp;#39;å¼•è¯æ¬¡æ•°&amp;#39;, &amp;#39;è¢«å¼•è¯æ¬¡æ•°&amp;#39;, &amp;#39;è‡ªå¼•æ¬¡æ•°&amp;#39;, &amp;#39;ä»–å¼•æ¬¡æ•°&amp;#39;,
       &amp;#39;è¢«è‡ªå¼•æ¬¡æ•°&amp;#39;, &amp;#39;è¢«ä»–å¼•æ¬¡æ•°&amp;#39;, &amp;#39;å®¶æ—å¼•è¯æ¬¡æ•°&amp;#39;, &amp;#39;å®¶æ—è¢«å¼•è¯æ¬¡æ•°&amp;#39;],
      dtype=&amp;#39;object&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;è®­ç»ƒè¯å‘é‡ä¸»è¦ç”¨æ–‡æœ¬æ•°æ®ï¼Œ åœ¨æœ¬æ¡ˆä¾‹ä¸­ï¼Œ éœ€è¦çš„å­—æ®µ [&lt;strong&gt;ä¸“åˆ©æ‘˜è¦&lt;/strong&gt;] ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒæ„é€ è¯­æ–™&#34;&gt;äºŒã€æ„é€ è¯­æ–™&lt;/h2&gt;
&lt;p&gt;åœ¨ [5000ä¸‡ä¸“åˆ©ç”³è¯·å…¨é‡æ•°æ®1985-2025å¹´] æ–‡ä»¶å¤¹ä¸­ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–°å»º [province_corpus] å’Œ [year_corpus] ä¸¤ä¸ªæ–‡ä»¶å¤¹&lt;/li&gt;
&lt;li&gt;æ–°å»º [code.ipynb]&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ„é€ è¯­æ–™å¯¹ç”µè„‘çš„æ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œ ä¸è®ºä½ çš„ç”µè„‘æ˜¯ä»€ä¹ˆé…ç½®ï¼ŒåŸºæœ¬éƒ½èƒ½è¿è¡Œï¼Œ è€Œä¸”è€—æ—¶åœ¨èƒ½æ¥å—çš„èŒƒå›´ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;21-æ–‡ä»¶æ ‘ç»“æ„&#34;&gt;2.1 æ–‡ä»¶æ ‘ç»“æ„&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;5000ä¸‡ä¸“åˆ©ç”³è¯·å…¨é‡æ•°æ®1985-2025å¹´
  |---ä¸­å›½ä¸“åˆ©æ•°æ®åº“.csv.gz
  |---code.ipynb
  |---province_corpus
     |---å®‰å¾½çœ.txt
     |---æµ™æ±Ÿçœ.txt
     |---...
  |---year_corpus
     |---2025.txt
     |---2024.txt
     |---...
  |---provin_w2vs
        |---å®‰å¾½çœ-Word2Vec.200.15.bin
        |---å±±ä¸œçœ-Word2Vec.200.15.bin
        |---...
  |---year_w2vs
        |---2025-Word2Vec.200.15.bin
        |---2022-Word2Vec.100.6.bin.syn1neg.npy
        |---2022-Word2Vec.100.6.bin.wv.vectors.npy
        |---...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;22-æ„é€ è¯­æ–™ä»£ç &#34;&gt;2.2 æ„é€ è¯­æ–™ä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tqdm&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# è¯»å–csvæ–‡ä»¶ï¼Œ åªè¯»å–éœ€è¦çš„å­—æ®µ&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# æŒ‰ 100000 è¡Œåˆ†å—è¯»å–ï¼Œ é¿å…å†…å­˜æº¢å‡º&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chunk_dfs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸­å›½ä¸“åˆ©æ•°æ®åº“.csv.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                 &lt;span class=&#34;n&#34;&gt;compression&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;gzip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                 &lt;span class=&#34;n&#34;&gt;usecols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”³è¯·äººçœä»½&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”³è¯·æ—¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸“åˆ©åç§°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ‘˜è¦æ–‡æœ¬&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
                 &lt;span class=&#34;n&#34;&gt;chunksize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chunk_dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”³è¯·æ—¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_datetime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”³è¯·æ—¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# æ–°å»º province_corpus å’Œ year_corpusæ–‡ä»¶å¤¹&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;province_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;province_corpus&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;province_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mkdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exist_ok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;year_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;year_corpus&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;year_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mkdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exist_ok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    
    &lt;span class=&#34;c1&#34;&gt;# æŒ‰çœä»½å’Œå¹´ä»½æ„é€ è¯­æ–™&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_df&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;groupby&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Grouper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”³è¯·æ—¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;freq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;YE&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;year_file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.txt&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;a+&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;y_text_series&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸“åˆ©åç§°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ‘˜è¦æ–‡æœ¬&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;y_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y_text_series&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;yf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prov&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prov_df&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;groupby&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”³è¯·äººçœä»½&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prov&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;prov_file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;province_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prov&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.txt&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prov_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;a+&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;prov_text_series&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prov_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸“åˆ©åç§°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prov_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ‘˜è¦æ–‡æœ¬&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;prov_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prov_text_series&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;pf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prov_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;2025
2024
...


ä¸Šæµ·å¸‚
äº‘å—çœ
...
å®‰å¾½çœ

CPU times: total: 27min 55s
Wall time: 39min 10s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ„é€ è¯­æ–™ç”¨ 40 åˆ†é’Ÿæ—¶é—´ï¼Œå¾—åˆ°æ–‡ä»¶å¤¹province_corpuså’Œyear_corpusã€‚
&lt;img loading=&#34;lazy&#34; src=&#34;img/03-province-corpus.png&#34; alt=&#34;&#34;  /&gt;

&lt;img loading=&#34;lazy&#34; src=&#34;img/03-year-corpus.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰è®­ç»ƒword2vec&#34;&gt;ä¸‰ã€è®­ç»ƒword2vec&lt;/h2&gt;
&lt;p&gt;éœ€è¦æ³¨æ„ï¼Œ è®­ç»ƒword2vecéœ€è¦è€—è´¹å¾ˆå¤§çš„è®¡ç®—èƒ½åŠ›ï¼Œ è®­ç»ƒæ—¶é—´éœ€è¦ä¸€ä¸¤ä¸‰ã€‚ æœ¬æ–‡ä½¿ç”¨çš„ &lt;em&gt;&lt;strong&gt;cntext2.1.5&lt;/strong&gt;&lt;/em&gt; ç‰ˆæœ¬ï¼Œéœ€è¦ä»˜è´¹è·å– &lt;em&gt;&lt;strong&gt;cntext-2.1.5-py3-none-any.whl&lt;/strong&gt;&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;31-å®‰è£…cntext&#34;&gt;3.1 å®‰è£…cntext&lt;/h3&gt;
&lt;p&gt;å°† &lt;em&gt;&lt;strong&gt;cntext-2.1.5-py3-none-any.whl&lt;/strong&gt;&lt;/em&gt; æ”¾ç½®äºç”µè„‘æ¡Œé¢ï¼Œ æ‰“å¼€ &lt;strong&gt;å‘½ä»¤è¡Œcmd&lt;/strong&gt; (Macæ‰“å¼€&lt;strong&gt;terminal&lt;/strong&gt;)ï¼Œ è¾“å…¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
pip install cntext-2.1.5-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰éƒ¨åˆ†ä½¿ç”¨winçš„åŒå­¦ï¼Œå¦‚æœæŒ‰ç…§æ“ä½œæ²¡æœ‰å®‰è£…æˆåŠŸï¼Œå†è¯•è¯•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd Desktop
pip install cntext-2.1.5-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-å¼€å§‹è®­ç»ƒ&#34;&gt;3.2 å¼€å§‹è®­ç»ƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;glob&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# åˆ†å¹´ä»½è®­ç»ƒ&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_f&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;year_corpus/*.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# è®­ç»ƒword2vecï¼Œè‡ªåŠ¨ä¿å­˜åˆ°outputæ–‡ä»¶å¤¹å†…&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Word2Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                &lt;span class=&#34;n&#34;&gt;only_binary&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# å°†outputæ–‡ä»¶å¤¹é‡å‘½åä¸ºyear_w2vs&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rename&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;year_w2vs&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;


&lt;span class=&#34;c1&#34;&gt;# åˆ†çœä»½è®­ç»ƒ&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prov_f&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;province_corpus/*.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# è®­ç»ƒword2vecï¼Œè‡ªåŠ¨ä¿å­˜åˆ°outputæ–‡ä»¶å¤¹å†…&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Word2Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prov_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                &lt;span class=&#34;n&#34;&gt;only_binary&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;span class=&#34;c1&#34;&gt;# å°†outputæ–‡ä»¶å¤¹é‡å‘½åä¸ºprovince_w2vs&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rename&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;province_w2vs&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Windows System, Unable Parallel Processing
Cache output\1985_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10009/10009 [00:13&amp;lt;00:00, 734.66it/s]
Reading Preprocessed Corpus from output\1985_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 17 s. 
Output Saved To: output\1985-Word2Vec.200.15.bin

......
......

Windows System, Unable Parallel Processing
Cache output\2025_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10009/10009 [00:13&amp;lt;00:00, 734.66it/s]
Reading Preprocessed Corpus from output\2025_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 17 s. 
Output Saved To: output\2025-Word2Vec.200.15.bin


Windows System, Unable Parallel Processing
Cache output\ä¸Šæµ·å¸‚_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2456943/2456943 [03:42&amp;lt;00:00, 11048.35it/s]
Reading Preprocessed Corpus from output\ä¸Šæµ·å¸‚_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 1400 s. 
Output Saved To: output\ä¸Šæµ·å¸‚-Word2Vec.200.15.bin
......
......

Windows System, Unable Parallel Processing
Cache output\é»‘é¾™æ±Ÿçœ_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 544329/544329 [01:07&amp;lt;00:00, 8114.12it/s]
Reading Preprocessed Corpus from output\é»‘é¾™æ±Ÿçœ_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 320 s. 
Output Saved To: output\é»‘é¾™æ±Ÿçœ-Word2Vec.200.15.bin


CPU times: total: 21354 s
Wall time: 21758 s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®­ç»ƒçœä»½è¯å‘é‡å¤§æ¦‚ç”¨äº† 6 å°æ—¶ï¼Œæ¨¡å‹æ–‡ä»¶ä¿å­˜åœ¨ &lt;em&gt;&lt;strong&gt;provin_w2vs&lt;/strong&gt;&lt;/em&gt; å’Œ &lt;em&gt;&lt;strong&gt;year_w2vs&lt;/strong&gt;&lt;/em&gt; æ–‡ä»¶å¤¹å†…ã€‚
&lt;img loading=&#34;lazy&#34; src=&#34;img/05-province-w2vs.png&#34; alt=&#34;&#34;  /&gt;

&lt;img loading=&#34;lazy&#34; src=&#34;img/06-years-w2vs.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä½¿ç”¨word2vec&#34;&gt;ä¸‰ã€ä½¿ç”¨word2vec&lt;/h2&gt;
&lt;h3 id=&#34;31-å¯¼å…¥æ¨¡å‹&#34;&gt;3.1 å¯¼å…¥æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;output/provin_w2vs&lt;/code&gt; å’Œ &lt;code&gt;output/year_w2vs&lt;/code&gt; å†…æœ‰å¤šä¸ªæ¨¡å‹ï¼Œ å•ä¸ªçš„æ¨¡å‹æ–‡ä»¶å¤§çº¦å‡ åM ~ å‡ ç™¾Mï¼Œ &lt;strong&gt;ä½†ä¸å»ºè®®ä¸€æ¬¡æ€§å¯¼å…¥è¿›æ¥&lt;/strong&gt;ã€‚å¤§é‚“çš„ç”µè„‘å†…å­˜96Gï¼Œä¸ºäº†çœäº‹ï¼Œå°±ä¸€æ¬¡æ€§å…¨å¯¼å…¥äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;glob&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tqdm&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# å¯¼å…¥å„çœä»½è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;provin_w2vs_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;provin_w2v_fs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;province_w2vs/*.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2v_f&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v_fs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;provin_w2v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;provin_w2vs_&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;


&lt;span class=&#34;c1&#34;&gt;# å¯¼å…¥å„å¹´ä»½è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;year_w2vs_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;year_w2v_fs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;year_w2vs/*.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2v_f&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tqdm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v_fs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;year_w2v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;year_w2vs_&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;  3%|â–ˆâ–ˆâ–                                                                                | 1/34 [00:03&amp;lt;01:57,  3.57s/it]
Loading province_w2vs\ä¸Šæµ·å¸‚-Word2Vec.200.15.bin...
  6%|â–ˆâ–ˆâ–ˆâ–ˆâ–‰                                                                              | 2/34 [00:04&amp;lt;01:11,  2.23s/it]
Loading province_w2vs\äº‘å—çœ-Word2Vec.200.15.bin...
......
97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 33/34 [01:07&amp;lt;00:01,  1.10s/it]
Loading province_w2vs\é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº-Word2Vec.200.15.bin...
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 34/34 [01:09&amp;lt;00:00,  2.04s/it]
Loading province_w2vs\é»‘é¾™æ±Ÿçœ-Word2Vec.200.15.bin...


  2%|â–ˆâ–ˆ                                                                                 | 1/41 [00:00&amp;lt;00:05,  7.10it/s]
Loading year_w2vs\1985-Word2Vec.200.15.bin...
Loading year_w2vs\1986-Word2Vec.200.15.bin...
 10%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                                                           | 4/41 [00:00&amp;lt;00:05,  6.80it/s]
 ......
 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 41/41 [01:11&amp;lt;00:00,  1.75s/it]
Loading year_w2vs\2025-Word2Vec.200.15.bin...

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-æŸ¥çœ‹è¯æ±‡é‡&#34;&gt;3.2 æŸ¥çœ‹è¯æ±‡é‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;çœä»½Word2vecè¯æ±‡é‡&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2v&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;zip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v_fs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2vs_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;province&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;province&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt; è¯æ±‡é‡: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;çœä»½Word2vecè¯æ±‡é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ä¸Šæµ·å¸‚&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;640941&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;äº‘å—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;205193&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å†…è’™å¤è‡ªæ²»åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;138507&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;åŒ—äº¬å¸‚&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;783162&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å°æ¹¾çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;242630&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å‰æ—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;185587&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å››å·çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;494241&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å¤©æ´¥å¸‚&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;373286&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å®å¤å›æ—è‡ªæ²»åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;91592&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å®‰å¾½çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;540111&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å±±ä¸œçœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;722886&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å±±è¥¿çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;188013&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å¹¿ä¸œçœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1010230&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;å¹¿è¥¿å£®æ—è‡ªæ²»åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;190128&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;110063&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ±Ÿè‹çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;983871&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ±Ÿè¥¿çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256695&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ²³åŒ—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;326042&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ²³å—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;415905&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æµ™æ±Ÿçœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;795041&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æµ·å—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;74657&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ¹–åŒ—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;412827&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ¹–å—çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;400262&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;7806&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ç”˜è‚ƒçœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;148753&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ç¦å»ºçœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;480456&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¥¿è—è‡ªæ²»åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;23115&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è´µå·çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;186345&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾½å®çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;347563&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;é‡åº†å¸‚&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;358991&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;é™•è¥¿çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;381781&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;é’æµ·çœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;53325&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;71947&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;é»‘é¾™æ±Ÿçœ&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¯æ±‡é‡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;253129&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å¹´ä»½word2vecè¯æ±‡é‡&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2v&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;zip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v_fs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2vs_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;year&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index_to_key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;å¹´ä»½word2vecè¯æ±‡é‡
1985: 15494
1986: 17945
1987: 23625
1988: 27740
1989: 27394
1990: 32920
1991: 37584
1992: 45393
1993: 48326
1994: 46725
1995: 46138
1996: 50117
1997: 53625
1998: 57187
1999: 65154
2000: 78368
2001: 95927
2002: 123513
2003: 145087
2004: 158694
2005: 185840
2006: 215856
2007: 240167
2008: 279364
2009: 334179
2010: 382888
2011: 449648
2012: 508506
2013: 621644
2014: 625248
2015: 685487
2016: 732443
2017: 760332
2018: 776968
2019: 789104
2020: 817553
2021: 799388
2022: 734045
2023: 596784
2024: 516263
2025: 21230
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;33-è¯­ä¹‰æ£€æŸ¥-çœä»½&#34;&gt;3.3 è¯­ä¹‰æ£€æŸ¥-çœä»½&lt;/h3&gt;
&lt;p&gt;å…ˆæ£€æŸ¥çœä»½ï¼Œ æŸ¥çœ‹ä¸[&amp;lsquo;åˆ›æ–°&amp;rsquo;, &amp;lsquo;æ–°é¢–&amp;rsquo;]æœ€ç›¸ä¼¼çš„5ä¸ªè¯ï¼Œé€šè¿‡è¯­ä¹‰æ•æ‰å‡†ç¡®ä¸å¦ï¼Œç²—ç•¥åˆ¤æ–­Word2vecè®­ç»ƒæ•ˆæœçš„å¥½åã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2v&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;zip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v_fs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2vs_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;province&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provin_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;wordweigths&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provin_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most_similar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ–°é¢–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wordweigths&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;province&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;province&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;: NA&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ä¸Šæµ·å¸‚: ç‹¬ç‰¹ å·§å¦™ åˆ›æ–°æ€§ ç†å¿µ æ–°é¢–ç»“æ„åˆç†
äº‘å—çœ: ç‹¬ç‰¹ å·§å¦™ ç²¾å·§ ç§‘å­¦åˆç† æ–°é¢–åˆç†
å†…è’™å¤è‡ªæ²»åŒº: ç†å¿µ ç‹¬ç‰¹ å·§å¦™ åˆç†ä½¿ç”¨æ–¹ä¾¿ å…¨æ–°
åŒ—äº¬å¸‚: å·§å¦™ ç‹¬ç‰¹ å…¨æ–° å€Ÿé‰´ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿
å°æ¹¾çœ: å…¨æ–° ç‹¬ç‰¹ ç²¾å·§ ç®€æ´ å·§å¦™
å‰æ—çœ: ç†å¿µ æ€è·¯ ç°ä»£ å…¨æ–° å·§å¦™
å››å·çœ: å·§å¦™ ç‹¬ç‰¹ å…¨æ–° ç†å¿µ åˆç†ä½¿ç”¨æ–¹ä¾¿
å¤©æ´¥å¸‚: ç‹¬ç‰¹ å·§å¦™ åˆç†ä½¿ç”¨æ–¹ä¾¿ å·§å¦™ä½¿ç”¨æ–¹ä¾¿ å…¨æ–°
å®å¤å›æ—è‡ªæ²»åŒº: æ›´å…· å¤šæ · ä¸°å¯Œ æ€§ä»·æ¯” å¸‚åœºå‰æ™¯
å®‰å¾½çœ: å·§å¦™ ç‹¬ç‰¹ å·§å¦™ä½¿ç”¨æ–¹ä¾¿ åˆç† åˆç†ç»“æ„ç´§å‡‘
å±±ä¸œçœ: å·§å¦™ ç²¾å·§ æ–°é¢–ç»“æ„åˆç† å·§å¦™ç»“æ„åˆç† å…¨æ–°
å±±è¥¿çœ: ç‹¬ç‰¹ å…¨æ–° ç§‘å­¦ ç°ä»£ å·²æœ‰
å¹¿ä¸œçœ: å·§å¦™ ç‹¬ç‰¹ åˆ›æ–°æ€§ åˆç† ç²¾å·§
å¹¿è¥¿å£®æ—è‡ªæ²»åŒº: ç‹¬ç‰¹ å·§å¦™ åˆç†ä½¿ç”¨æ–¹ä¾¿ ç²¾å·§ åˆç†å®ç”¨æ€§
æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº: åˆç†ä½¿ç”¨æ–¹ä¾¿ å·§å¦™ ç®€å•åˆç† ç§‘å­¦åˆç† åˆç†
æ±Ÿè‹çœ: å·§å¦™ ç‹¬ç‰¹ åˆç† å…¨æ–° ç§‘å­¦
æ±Ÿè¥¿çœ: ç‹¬ç‰¹ ç§‘å­¦åˆç† å·§å¦™ ç®€æ´ ç²¾å·§
æ²³åŒ—çœ: å·§å¦™ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿ ç²¾å·§ ç‹¬ç‰¹ ç†å¿µ
æ²³å—çœ: å·§å¦™ ç§‘å­¦åˆç† ç‹¬ç‰¹ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿ å·§å¦™ä½¿ç”¨æ–¹ä¾¿
æµ™æ±Ÿçœ: ç‹¬ç‰¹ å·§å¦™ ç§‘å­¦ ç²¾å·§ åˆç†
æµ·å—çœ: æ€è·¯ ç§‘å­¦åˆç† äººæ€§åŒ– ç§‘å­¦ ç‹¬ç‰¹
æ¹–åŒ—çœ: å·§å¦™ å·§å¦™åˆç† ç§‘å­¦åˆç† ç‹¬ç‰¹ æ–°é¢–ç»“æ„åˆç†
æ¹–å—çœ: å·§å¦™ ç²¾å·§ ç‹¬ç‰¹ æ–°é¢–ç‹¬ç‰¹ å·§å¦™ç»“æ„åˆç†
æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº: æ’å‡» è¾¹å¡ æºœæ§½ è€é«˜æ¸© ææ–™åˆ¶æˆ
ç”˜è‚ƒçœ: ç‹¬ç‰¹ å…¨æ–° ç†å¿µ ç°ä»£ æ™®åŠ
ç¦å»ºçœ: å·§å¦™ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿ ç‹¬ç‰¹ å·§å¦™ç»“æ„åˆç† å…¨æ–°
è¥¿è—è‡ªæ²»åŒº: æ—¢èƒ½ ååˆ† ç–²åŠ³ èŒƒå›´å¹¿ æ›´åŠ äººæ€§åŒ–
è´µå·çœ: å·§å¦™ ç‹¬ç‰¹ ç§‘å­¦åˆç† åˆç†ä½¿ç”¨æ–¹ä¾¿ ç²¾å·§
è¾½å®çœ: å·§å¦™ å·§å¦™ç»“æ„åˆç† æ–°é¢–ç»“æ„åˆç† æ–°é¢–ç‹¬ç‰¹ ç‹¬åˆ›
é‡åº†å¸‚: åˆç†ä½¿ç”¨æ–¹ä¾¿ ç§‘å­¦åˆç† ç²¾å·§ å…¨æ–° æ–°é¢–ä½¿ç”¨æ–¹ä¾¿
é™•è¥¿çœ: å·§å¦™ ç‹¬ç‰¹ æ–°é¢–ç»“æ„åˆç† åˆç† åˆç†ä½¿ç”¨æ–¹ä¾¿
é’æµ·çœ: çªç ´ ç»‡æœº ç°è¡Œ ç»æµç¯ä¿ æ†ç»‡æœº
é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº: å…¨æ–° æ›´å…· ç¾æ„Ÿ å¸‚åœº ä¸°å¯Œ
é»‘é¾™æ±Ÿçœ: ç‹¬ç‰¹ ç²¾å·§ ç§‘å­¦åˆç† å·§å¦™ æ„æ€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»ä¸Šé¢çš„è¿è¡Œç»“æœçœ‹ï¼Œ é™¤é’æµ·çœï¼Œå‰©ä¸‹çš„ç»å¤§å¤šæ•°çš„çœä»½çš„Word2vecéƒ½å¾ˆå‡†ç¡®çš„æ•æ‰åˆ°äº†ä¸“åˆ©æ‘˜è¦çš„è¯­ä¹‰ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;34-è¯­ä¹‰æ£€æŸ¥-å¹´ä»½&#34;&gt;3.4 è¯­ä¹‰æ£€æŸ¥-å¹´ä»½&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹ä¸[&amp;lsquo;åˆ›æ–°&amp;rsquo;, &amp;lsquo;æ–°é¢–&amp;rsquo;]æœ€ç›¸ä¼¼çš„5ä¸ªè¯ï¼Œé€šè¿‡è¯­ä¹‰æ•æ‰å‡†ç¡®ä¸å¦ï¼Œç²—ç•¥åˆ¤æ–­Word2vecè®­ç»ƒæ•ˆæœçš„å¥½åã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2v&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;zip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v_fs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2vs_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;year&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year_w2v_f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;wordweigths&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;year_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most_similar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ–°é¢–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wordweigths&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;year&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;: NA&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;1985: å…¬çŸ¥ ä¸“é—¨ ç‰¹åˆ«é€‚ç”¨ æå‡ºä¸€ç§ æœºå™¨äºº
1986: æ¤å…¥ ç†å‘ 135 å©´å„¿è½¦ è¡—é“
1987: è½å å„¿ç«¥æ™ºåŠ›å¼€å‘ ä½æ¡£ èƒ¶é‹ æŒ‡ç”²
1988: ç›®å‰å¸‚åœº ä½æ¡£ æ•é±¼ è¯ä»¶ æ™®éä½¿ç”¨
1989: ä»·å»‰ç‰©ç¾ è¯¾å ‚æ•™å­¦ æ™®åŠå‹ å¤§ä¼— å¾—å¿ƒåº”æ‰‹
1990: å•çº¯ ç²¾ç®€ å¤šæ–¹é¢ æœºç­‰ åº”ç”¨é¢†åŸŸ
1991: æ™®åŠå‹ å‰é€” å¤§ä¼— ç°ä»£ ç°ä»£åŒ–
1992: æ„æ€ ä¿ç•™ä¼ ç»Ÿ ä¸å¤±ä¸º å…¨æ–° æœºä¹‹
1993: å®Œç¾ ç°ä»£ç§‘æŠ€ å´­æ–° å¼æ · è¾¹å¢™
1994: æ ·å¼ åˆ«è‡´ é€ å‹æ–°é¢– æ˜¾å¾— åè´µ
1995: å¤šæ · ç»“å®è€ç”¨ ç‹¬ç‰¹ åˆ«è‡´ é«˜æ¡£
1996: èŠ±æ · è€å†²å‡»æµ®æ ‡ æå…¶ å¼æ ·æ–°é¢– åº”ç”¨èŒƒå›´
1997: å®ç”¨ç¾è§‚ å®¤å†…å¤–è£…é¥° æ ‡å‡†åŒ– å¤šå˜ å½¢è±¡é€¼çœŸ
1998: ç°ä»£ æ”¹é© å¼€å‘ é«˜é›… åˆ›é€ 
1999: ç°ä»£ å¸‚åœº è¶Šæ¥è¶Š æ¬¾å¼ å¤§æ–¹
2000: å…¨æ–° å¨±ä¹æ€§è¶£å‘³æ€§ å¤šæ ·åŒ– å¤šæ–¹é¢ å„ç§å„æ ·
2001: å®Œç¾ ç°ä»£ æ–°é¢–åˆ«è‡´ å¤šæ ·åŒ– ä½“ç°
2002: å…¨æ–° ç°ä»£ å®ä¸º ç§‘å­¦ å¤§ä¼—
2003: å…¨æ–° çªç ´ä¼ ç»Ÿ å¤šæ ·åŒ– ä½“ç° ç§‘å­¦
2004: å…¨æ–° ç§‘æŠ€ ç°ä»£ å¸‚åœº ç§‘å­¦åˆç†
2005: åˆ›æ„ ç†å¿µ å…¨æ–° ç§‘å­¦ ç°ä»£
2006: å…¨æ–° æ„æ€ ç†å¿µ æ–°é¢–æ€§ ç‹¬ç‰¹
2007: å…¨æ–° çªç ´ä¼ ç»Ÿ å·§å¦™ ç‹¬ç‰¹ ç°ä»£
2008: ç‹¬ç‰¹ å·§å¦™ å…¨æ–° æ–°é¢–ç‹¬ç‰¹ è®¾è®¡ç†å¿µ
2009: ç‹¬ç‰¹ å·§å¦™ å…¨æ–° ç§‘å­¦ æ–°é¢–ç‹¬ç‰¹
2010: ç‹¬ç‰¹ æ–°é¢–ç‹¬ç‰¹ ç²¾å·§ å·§å¦™ ç§‘å­¦åˆç†
2011: ç‹¬ç‰¹ ç²¾å·§ æ–°é¢–ç‹¬ç‰¹ ç§‘å­¦åˆç† å·§å¦™
2012: ç‹¬ç‰¹ å·§å¦™ æ–°é¢–ç‹¬ç‰¹ ç²¾å·§ ç§‘å­¦åˆç†
2013: ç‹¬ç‰¹ æ–°é¢–ç‹¬ç‰¹ ç²¾å·§ ç§‘å­¦åˆç† å·§å¦™
2014: å·§å¦™ ç‹¬ç‰¹ ç§‘å­¦åˆç† å·§å¦™åˆç† ç²¾å·§
2015: å·§å¦™ ç‹¬ç‰¹ å·§å¦™åˆç† æ–°é¢–ç»“æ„åˆç† ç§‘å­¦åˆç†
2016: å·§å¦™ ç»“åˆç°åœ¨ å·§å¦™åˆç† ç‹¬ç‰¹ å…¨æ–°
2017: å·§å¦™ ç§‘å­¦åˆç† ç‹¬ç‰¹ ç§‘å­¦ åˆç†
2018: å·§å¦™ ç‹¬ç‰¹ åˆç† ç§‘å­¦ å…¨æ–°
2019: å·§å¦™ ç‹¬ç‰¹ åˆç† å…¨æ–° ç²¾å·§
2020: å·§å¦™ ç‹¬ç‰¹ åˆç† ç²¾å·§ è®¾è®¡
2021: å·§å¦™ ç²¾å·§ åˆç† æ–°é¢–ç»“æ„åˆç† å…¨æ–°
2022: å·§å¦™ å…¨æ–° ç‹¬ç‰¹ åˆ›æ–°æ€§ ç²¾å·§
2023: å·§å¦™ ç‹¬ç‰¹ å…¨æ–° åˆ›æ–°æ€§ ç²¾å·§
2024: å·§å¦™ åˆ›æ–°æ€§ ç‹¬ç‰¹ ç²¾å·§ å…¨æ–°
2025: ç›¸ç»“åˆ åŒé‡ ç‹¬ç‰¹ å¤šé‡ ä¼˜åŠ¿
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿè¯•äº†å…¶ä»–çš„è¯è¯­ï¼Œå¥½åƒ 1998 å¹´ä¹‹åçš„æ•æ‰çš„è¯­ä¹‰æ˜¯å‡†ç¡®çš„ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;å››ç ”ç©¶æ½œåŠ›-è¯­ä¹‰å˜è¿ç ”ç©¶æ–¹æ³•ä»‹ç»&#34;&gt;å››ã€ç ”ç©¶æ½œåŠ›: è¯­ä¹‰å˜è¿ç ”ç©¶æ–¹æ³•ä»‹ç»&lt;/h2&gt;
&lt;p&gt;å‡è®¾è¯­ä¹‰éƒ½å¾ˆå‡†çš„è¯ï¼Œ æ˜¯å¯ä»¥ç ”ç©¶ &lt;strong&gt;è¯­ä¹‰å˜è¿&lt;/strong&gt; æˆ–è€… &lt;strong&gt;è¯­ä¹‰å·®å¼‚&lt;/strong&gt; çš„ã€‚ ä½†éœ€è¦æ³¨æ„ï¼Œ ä¸èƒ½ç›´æ¥ä½¿ç”¨ä¸¤ä¸ªå¹´ä»½æˆ–è€…ä¸¤ä¸ªçœä»½çš„ä¸­word1å’Œword2çš„è·ç¦»æ¥ä½“ç°è¯­ä¹‰çš„å˜è¿æˆ–è€…è¯­ä¹‰çš„å·®å¼‚ã€‚ å¦‚æœæƒ³åšçœä»½é—´å·®å¼‚æˆ–è€…æŸçœä»½éšæ—¶é—´çš„å˜åŒ–ï¼Œ éœ€è¦ç”¨åˆ° &lt;strong&gt;å¯¹é½ç®—æ³•&lt;/strong&gt;ï¼Œ å¸¸ç”¨çš„ç®—æ³•æ˜¯ &lt;strong&gt;æ­£äº¤ProcrustesçŸ©é˜µå¯¹é½&lt;/strong&gt;ï¼Œ ä½¿å¾—åŒçœä»½ä¸åŒå¹´ä»½æˆ–è€…é€šå¹´ä»½ä¸åŒçœä»½çš„word2vecéƒ½æœ‰ç›¸åŒçš„è¯­ä¹‰ç©ºé—´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;41-æ­£äº¤procrustesç®—æ³•&#34;&gt;4.1 æ­£äº¤Procrustesç®—æ³•&lt;/h3&gt;
&lt;p&gt;æ­£äº¤ProcrustesçŸ©é˜µå¯¹é½æ˜¯ä¸€ç§å°†ä¸¤ä¸ªé¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„è¯å‘é‡çŸ©é˜µå¯¹é½çš„æ–¹æ³•ï¼Œä½¿å¾—å®ƒä»¬åœ¨ç›¸åŒçš„è¯­ä¹‰ç©ºé—´ä¸­è¡¨ç¤ºã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒé€šè¿‡è®¡ç®—ä¸€ä¸ªæ­£äº¤çŸ©é˜µï¼Œå°†ä¸¤ä¸ªè¯å‘é‡çŸ©é˜µè¿›è¡Œçº¿æ€§å˜æ¢ï¼Œä½¿å¾—å®ƒä»¬çš„FrobeniusèŒƒæ•°ä¹‹å’Œæœ€å°ï¼Œä»è€Œå®ç°å¯¹é½ã€‚ åœ¨ cntext2.xä¸­å®ç°äº†Procrusteså¯¹é½å‡½æ•° &lt;em&gt;&lt;strong&gt;ct.procrustes_align()&lt;/strong&gt;&lt;/em&gt;ï¼Œå…·ä½“å¯é˜…è¯» &lt;a href=&#34;https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/&#34;&gt;æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;42-è¯­ä¹‰å˜è¿æµç¨‹å›¾&#34;&gt;4.2 è¯­ä¹‰å˜è¿æµç¨‹å›¾&lt;/h3&gt;
&lt;p&gt;è¯­ä¹‰å˜è¿ç±»ç ”ç©¶çš„æµç¨‹å›¾å¯å‚è€ƒ &lt;a href=&#34;https://github.com/Living-with-machines/DiachronicEmb-BigHistData&#34;&gt;DiachronicEmb-BigHistData&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/w2v-time-shifting-flowchart.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;å¤§é‚“åœ¨ &lt;a href=&#34;https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/&#34;&gt;å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜&lt;/a&gt; å®ç°äº†å†æ—¶è¯­ä¹‰å¯¹é½ï¼Œ å¯ä»¥çœ‹å‡º70 å¹´æ•´ä¸ªä¸­å›½ç¤¾ä¼šçš„è®¤çŸ¥å˜è¿ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;43-è¯†åˆ«è¯­ä¹‰å˜åŒ–æ—¶é—´ç‚¹&#34;&gt;4.3 è¯†åˆ«è¯­ä¹‰å˜åŒ–æ—¶é—´ç‚¹&lt;/h3&gt;
&lt;p&gt;è¯¥é¡¹ç›®ç ”ç©¶äº†1800-1910æœŸé—´ï¼Œ æ¯10å¹´ä¸ºä¸€ä¸ªå•ä½è®­ç»ƒè¯å‘é‡ï¼Œ æ¢ç©¶è¯è¯­å˜åŒ–ã€‚ä»¥ &lt;em&gt;&lt;strong&gt;railway&lt;/strong&gt;&lt;/em&gt; å’Œ  &lt;em&gt;&lt;strong&gt;traffic&lt;/strong&gt;&lt;/em&gt; ä¸ºä¾‹, å…ˆç”¨ ä½™å¼¦ç›¸ä¼¼åº¦(cosine-similarity)ç®—æ³•è¯†åˆ«è¯è¯­è¯­ä¹‰å˜åŒ–çš„æ—¶é—´ç‚¹ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/consine-sim-cpdetection.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;44-ç»˜åˆ¶è¯­ä¹‰å˜åŒ–è½¨è¿¹&#34;&gt;4.4 ç»˜åˆ¶è¯­ä¹‰å˜åŒ–è½¨è¿¹&lt;/h3&gt;
&lt;p&gt;è¯­ä¹‰å˜åŒ–è½¨è¿¹&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/railway-time-shifting.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äº”è·å–èµ„æº&#34;&gt;äº”ã€è·å–èµ„æº&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- å…è´¹  ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin  https://pan.baidu.com/s/1CgBjy96hDKM2GKQY4G6kYA?pwd=ba92

- å…è´¹  province_w2vs                https://pan.baidu.com/s/1eBFTIZcv2DWssLiaRnCqZQ?pwd=ikpu

- å…è´¹  year_w2vs                    https://pan.baidu.com/s/1lrVkML92cVJdHQa1HQyAwA?pwd=4gqa

- 100å…ƒ  cntext-2.1.5-py3-none-any.whl å¦‚æœ‰éœ€è¦ï¼Œè¯·åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>æƒ³ç”¨ <a href="https://textdata.cn/blog/2023-04-13-3571w-patent-dataset-in-china-mainland/">ä¸­å›½ä¸“åˆ©ç”³è¯·æ•°æ®é›†</a>ï¼ŒæŒ‰å¹´ä»½(æˆ–æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡çš„åŒå­¦ï¼Œå¯ä»¥å¥½å¥½çœ‹æœ¬æ–‡ï¼Œèƒ½èŠ‚çœä½ å‡ åä¸ªå°æ—¶æ—¶é—´ã€‚
<br><br></p>
<h2 id="ä¸€æ£€æŸ¥æ•°æ®">ä¸€ã€æ£€æŸ¥æ•°æ®</h2>
<p>è¿™ä¸ªæ•°æ®é›†å¾ˆå¤§ï¼Œ å¦‚å›¾æ‰€ç¤ºï¼Œæ–‡ä»¶åŠ¨è¾„å‡ G</p>
<p><img loading="lazy" src="img/01-data-screen.png" alt=""  />
</p>
<p>ä¹‹å‰åˆ†äº«è¿‡ <a href=""></a> , é¢å¯¹å·¨å¤§csvæ–‡ä»¶ï¼Œæˆ‘ä»¬è¦äº†è§£å†…éƒ¨æœ‰å“ªäº›å­—æ®µã€å­—æ®µçš„å«ä¹‰ï¼Œ åªè¯»å–éœ€è¦çš„å­—æ®µï¼Œå‡è½»ç”µè„‘å†…å­˜å‹åŠ›ï¼Œ è®©ä½ èƒ½è½»æ¾åº”å¯¹å‡ å€äºå†…å­˜çš„å·¨å¤§csvæ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># ä»¥å±±ä¸œçœ.csv ä¸ºä¾‹ï¼Œ åªè¯»ç¬¬ä¸€è¡Œ(å‰1è¡Œ)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;å±±ä¸œçœ.csv&#39;</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><p><img loading="lazy" src="img/02-shandong_df.png" alt=""  />
</p>
<br>
<p>å­—æ®µå±•ç¤ºçš„ä¸å…¨ï¼Œå®Œæ•´çš„å­—æ®µåº”è¯¥æœ‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Index([&#39;ä¸“åˆ©åç§°&#39;, &#39;ä¸“åˆ©ç±»å‹&#39;, &#39;ç”³è¯·äºº&#39;, &#39;ç”³è¯·äººç±»å‹&#39;, &#39;ç”³è¯·äººåœ°å€&#39;, &#39;ç”³è¯·äººå›½å®¶&#39;, &#39;ç”³è¯·äººçœä»½&#39;, &#39;ç”³è¯·äººåŸå¸‚&#39;,
       &#39;ç”³è¯·äººåŒºå¿&#39;, &#39;ç”³è¯·å·&#39;, &#39;ç”³è¯·æ—¥&#39;, &#39;ç”³è¯·å¹´ä»½&#39;, &#39;å…¬å¼€å…¬å‘Šå·&#39;, &#39;å…¬å¼€å…¬å‘Šæ—¥&#39;, &#39;å…¬å¼€å…¬å‘Šå¹´ä»½&#39;, &#39;æˆæƒå…¬å‘Šå·&#39;,
       &#39;æˆæƒå…¬å‘Šæ—¥&#39;, &#39;æˆæƒå…¬å‘Šå¹´ä»½&#39;, &#39;IPCåˆ†ç±»å·&#39;, &#39;IPCä¸»åˆ†ç±»å·&#39;, &#39;å‘æ˜äºº&#39;, &#39;æ‘˜è¦æ–‡æœ¬&#39;, &#39;ä¸»æƒé¡¹å†…å®¹&#39;, &#39;å½“å‰æƒåˆ©äºº&#39;,
       &#39;å½“å‰ä¸“åˆ©æƒäººåœ°å€&#39;, &#39;ä¸“åˆ©æƒäººç±»å‹&#39;, &#39;ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç &#39;, &#39;å¼•è¯æ¬¡æ•°&#39;, &#39;è¢«å¼•è¯æ¬¡æ•°&#39;, &#39;è‡ªå¼•æ¬¡æ•°&#39;, &#39;ä»–å¼•æ¬¡æ•°&#39;,
       &#39;è¢«è‡ªå¼•æ¬¡æ•°&#39;, &#39;è¢«ä»–å¼•æ¬¡æ•°&#39;, &#39;å®¶æ—å¼•è¯æ¬¡æ•°&#39;, &#39;å®¶æ—è¢«å¼•è¯æ¬¡æ•°&#39;],
      dtype=&#39;object&#39;)
</code></pre></div><br>
<p>è®­ç»ƒè¯å‘é‡ä¸»è¦ç”¨æ–‡æœ¬æ•°æ®ï¼Œ åœ¨æœ¬æ¡ˆä¾‹ä¸­ï¼Œ éœ€è¦çš„å­—æ®µ [<strong>ä¸“åˆ©æ‘˜è¦</strong>] ã€‚</p>
<p><br><br></p>
<h2 id="äºŒæ„é€ è¯­æ–™">äºŒã€æ„é€ è¯­æ–™</h2>
<p>åœ¨ [5000ä¸‡ä¸“åˆ©ç”³è¯·å…¨é‡æ•°æ®1985-2025å¹´] æ–‡ä»¶å¤¹ä¸­ï¼Œ</p>
<ol>
<li>æ–°å»º [province_corpus] å’Œ [year_corpus] ä¸¤ä¸ªæ–‡ä»¶å¤¹</li>
<li>æ–°å»º [code.ipynb]</li>
</ol>
<p>æ„é€ è¯­æ–™å¯¹ç”µè„‘çš„æ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œ ä¸è®ºä½ çš„ç”µè„‘æ˜¯ä»€ä¹ˆé…ç½®ï¼ŒåŸºæœ¬éƒ½èƒ½è¿è¡Œï¼Œ è€Œä¸”è€—æ—¶åœ¨èƒ½æ¥å—çš„èŒƒå›´ã€‚</p>
<br>
<h3 id="21-æ–‡ä»¶æ ‘ç»“æ„">2.1 æ–‡ä»¶æ ‘ç»“æ„</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">5000ä¸‡ä¸“åˆ©ç”³è¯·å…¨é‡æ•°æ®1985-2025å¹´
  |---ä¸­å›½ä¸“åˆ©æ•°æ®åº“.csv.gz
  |---code.ipynb
  |---province_corpus
     |---å®‰å¾½çœ.txt
     |---æµ™æ±Ÿçœ.txt
     |---...
  |---year_corpus
     |---2025.txt
     |---2024.txt
     |---...
  |---provin_w2vs
        |---å®‰å¾½çœ-Word2Vec.200.15.bin
        |---å±±ä¸œçœ-Word2Vec.200.15.bin
        |---...
  |---year_w2vs
        |---2025-Word2Vec.200.15.bin
        |---2022-Word2Vec.100.6.bin.syn1neg.npy
        |---2022-Word2Vec.100.6.bin.wv.vectors.npy
        |---...
</code></pre></div><br>
<h3 id="22-æ„é€ è¯­æ–™ä»£ç ">2.2 æ„é€ è¯­æ–™ä»£ç </h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="c1"># è¯»å–csvæ–‡ä»¶ï¼Œ åªè¯»å–éœ€è¦çš„å­—æ®µ</span>
<span class="c1"># æŒ‰ 100000 è¡Œåˆ†å—è¯»å–ï¼Œ é¿å…å†…å­˜æº¢å‡º</span>
<span class="n">chunk_dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;ä¸­å›½ä¸“åˆ©æ•°æ®åº“.csv.gz&#39;</span><span class="p">,</span> 
                 <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">,</span> 
                 <span class="n">usecols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ç”³è¯·äººçœä»½&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”³è¯·æ—¥&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸“åˆ©åç§°&#39;</span><span class="p">,</span> <span class="s1">&#39;æ‘˜è¦æ–‡æœ¬&#39;</span><span class="p">],</span>
                 <span class="n">chunksize</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>

<span class="k">for</span> <span class="n">chunk_df</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">chunk_dfs</span><span class="p">):</span>
    <span class="n">chunk_df</span><span class="p">[</span><span class="s1">&#39;ç”³è¯·æ—¥&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">chunk_df</span><span class="p">[</span><span class="s1">&#39;ç”³è¯·æ—¥&#39;</span><span class="p">])</span>

    <span class="c1"># æ–°å»º province_corpus å’Œ year_corpusæ–‡ä»¶å¤¹</span>
    <span class="n">province_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;province_corpus&#39;</span><span class="p">)</span>
    <span class="n">province_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">year_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;year_corpus&#39;</span><span class="p">)</span>
    <span class="n">year_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="c1"># æŒ‰çœä»½å’Œå¹´ä»½æ„é€ è¯­æ–™</span>
    <span class="k">for</span> <span class="n">date</span><span class="p">,</span> <span class="n">year_df</span> <span class="ow">in</span> <span class="n">chunk_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;ç”³è¯·æ—¥&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;YE&#39;</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
        <span class="n">year_file</span> <span class="o">=</span> <span class="n">year_dir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">.txt&#34;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">year_file</span><span class="p">,</span> <span class="s1">&#39;a+&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yf</span><span class="p">:</span>
            <span class="n">y_text_series</span> <span class="o">=</span> <span class="n">year_df</span><span class="p">[</span><span class="s1">&#39;ä¸“åˆ©åç§°&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">year_df</span><span class="p">[</span><span class="s1">&#39;æ‘˜è¦æ–‡æœ¬&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">y_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y_text_series</span><span class="p">)</span>
            <span class="n">yf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">y_text</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">prov</span><span class="p">,</span> <span class="n">prov_df</span> <span class="ow">in</span> <span class="n">chunk_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;ç”³è¯·äººçœä»½&#39;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">prov</span><span class="p">)</span>
        <span class="n">prov_file</span> <span class="o">=</span> <span class="n">province_dir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">prov</span><span class="si">}</span><span class="s2">.txt&#34;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">prov_file</span><span class="p">,</span> <span class="s1">&#39;a+&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pf</span><span class="p">:</span>
            <span class="n">prov_text_series</span> <span class="o">=</span> <span class="n">prov_df</span><span class="p">[</span><span class="s1">&#39;ä¸“åˆ©åç§°&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">prov_df</span><span class="p">[</span><span class="s1">&#39;æ‘˜è¦æ–‡æœ¬&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">prov_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prov_text_series</span><span class="p">)</span>
            <span class="n">pf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">prov_text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">2025
2024
...


ä¸Šæµ·å¸‚
äº‘å—çœ
...
å®‰å¾½çœ

CPU times: total: 27min 55s
Wall time: 39min 10s
</code></pre></div><p>æ„é€ è¯­æ–™ç”¨ 40 åˆ†é’Ÿæ—¶é—´ï¼Œå¾—åˆ°æ–‡ä»¶å¤¹province_corpuså’Œyear_corpusã€‚
<img loading="lazy" src="img/03-province-corpus.png" alt=""  />

<img loading="lazy" src="img/03-year-corpus.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="ä¸‰è®­ç»ƒword2vec">ä¸‰ã€è®­ç»ƒword2vec</h2>
<p>éœ€è¦æ³¨æ„ï¼Œ è®­ç»ƒword2vecéœ€è¦è€—è´¹å¾ˆå¤§çš„è®¡ç®—èƒ½åŠ›ï¼Œ è®­ç»ƒæ—¶é—´éœ€è¦ä¸€ä¸¤ä¸‰ã€‚ æœ¬æ–‡ä½¿ç”¨çš„ <em><strong>cntext2.1.5</strong></em> ç‰ˆæœ¬ï¼Œéœ€è¦ä»˜è´¹è·å– <em><strong>cntext-2.1.5-py3-none-any.whl</strong></em>ã€‚</p>
<h3 id="31-å®‰è£…cntext">3.1 å®‰è£…cntext</h3>
<p>å°† <em><strong>cntext-2.1.5-py3-none-any.whl</strong></em> æ”¾ç½®äºç”µè„‘æ¡Œé¢ï¼Œ æ‰“å¼€ <strong>å‘½ä»¤è¡Œcmd</strong> (Macæ‰“å¼€<strong>terminal</strong>)ï¼Œ è¾“å…¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
pip install cntext-2.1.5-py3-none-any.whl
</code></pre></div><p>æœ‰éƒ¨åˆ†ä½¿ç”¨winçš„åŒå­¦ï¼Œå¦‚æœæŒ‰ç…§æ“ä½œæ²¡æœ‰å®‰è£…æˆåŠŸï¼Œå†è¯•è¯•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd Desktop
pip install cntext-2.1.5-py3-none-any.whl
</code></pre></div><br>
<h3 id="32-å¼€å§‹è®­ç»ƒ">3.2 å¼€å§‹è®­ç»ƒ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>

<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># åˆ†å¹´ä»½è®­ç»ƒ</span>
<span class="k">for</span> <span class="n">year_f</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;year_corpus/*.txt&#39;</span><span class="p">):</span>
    <span class="c1"># è®­ç»ƒword2vecï¼Œè‡ªåŠ¨ä¿å­˜åˆ°outputæ–‡ä»¶å¤¹å†…</span>
    <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span> <span class="o">=</span> <span class="n">year_f</span><span class="p">,</span> 
                <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> 
                <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
                <span class="n">only_binary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># å°†outputæ–‡ä»¶å¤¹é‡å‘½åä¸ºyear_w2vs</span>
<span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="s1">&#39;year_w2vs&#39;</span><span class="p">)</span>


<span class="c1"># åˆ†çœä»½è®­ç»ƒ</span>
<span class="k">for</span> <span class="n">prov_f</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;province_corpus/*.txt&#39;</span><span class="p">):</span>
    <span class="c1"># è®­ç»ƒword2vecï¼Œè‡ªåŠ¨ä¿å­˜åˆ°outputæ–‡ä»¶å¤¹å†…</span>
    <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span> <span class="o">=</span> <span class="n">prov_f</span><span class="p">,</span> 
                <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> 
                <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
                <span class="n">only_binary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="c1"># å°†outputæ–‡ä»¶å¤¹é‡å‘½åä¸ºprovince_w2vs</span>
<span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="s1">&#39;province_w2vs&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Windows System, Unable Parallel Processing
Cache output\1985_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10009/10009 [00:13&lt;00:00, 734.66it/s]
Reading Preprocessed Corpus from output\1985_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 17 s. 
Output Saved To: output\1985-Word2Vec.200.15.bin

......
......

Windows System, Unable Parallel Processing
Cache output\2025_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10009/10009 [00:13&lt;00:00, 734.66it/s]
Reading Preprocessed Corpus from output\2025_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 17 s. 
Output Saved To: output\2025-Word2Vec.200.15.bin


Windows System, Unable Parallel Processing
Cache output\ä¸Šæµ·å¸‚_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2456943/2456943 [03:42&lt;00:00, 11048.35it/s]
Reading Preprocessed Corpus from output\ä¸Šæµ·å¸‚_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 1400 s. 
Output Saved To: output\ä¸Šæµ·å¸‚-Word2Vec.200.15.bin
......
......

Windows System, Unable Parallel Processing
Cache output\é»‘é¾™æ±Ÿçœ_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 544329/544329 [01:07&lt;00:00, 8114.12it/s]
Reading Preprocessed Corpus from output\é»‘é¾™æ±Ÿçœ_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 320 s. 
Output Saved To: output\é»‘é¾™æ±Ÿçœ-Word2Vec.200.15.bin


CPU times: total: 21354 s
Wall time: 21758 s
</code></pre></div><p>è®­ç»ƒçœä»½è¯å‘é‡å¤§æ¦‚ç”¨äº† 6 å°æ—¶ï¼Œæ¨¡å‹æ–‡ä»¶ä¿å­˜åœ¨ <em><strong>provin_w2vs</strong></em> å’Œ <em><strong>year_w2vs</strong></em> æ–‡ä»¶å¤¹å†…ã€‚
<img loading="lazy" src="img/05-province-w2vs.png" alt=""  />

<img loading="lazy" src="img/06-years-w2vs.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="ä¸‰ä½¿ç”¨word2vec">ä¸‰ã€ä½¿ç”¨word2vec</h2>
<h3 id="31-å¯¼å…¥æ¨¡å‹">3.1 å¯¼å…¥æ¨¡å‹</h3>
<p><code>output/provin_w2vs</code> å’Œ <code>output/year_w2vs</code> å†…æœ‰å¤šä¸ªæ¨¡å‹ï¼Œ å•ä¸ªçš„æ¨¡å‹æ–‡ä»¶å¤§çº¦å‡ åM ~ å‡ ç™¾Mï¼Œ <strong>ä½†ä¸å»ºè®®ä¸€æ¬¡æ€§å¯¼å…¥è¿›æ¥</strong>ã€‚å¤§é‚“çš„ç”µè„‘å†…å­˜96Gï¼Œä¸ºäº†çœäº‹ï¼Œå°±ä¸€æ¬¡æ€§å…¨å¯¼å…¥äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="c1"># å¯¼å…¥å„çœä»½è¯å‘é‡</span>
<span class="n">provin_w2vs_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">provin_w2v_fs</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;province_w2vs/*.bin&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">provin_w2v_f</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">provin_w2v_fs</span><span class="p">):</span>
    <span class="n">provin_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">provin_w2v_f</span><span class="p">)</span>
    <span class="n">provin_w2vs_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">provin_w2v</span><span class="p">)</span>


<span class="c1"># å¯¼å…¥å„å¹´ä»½è¯å‘é‡</span>
<span class="n">year_w2vs_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">year_w2v_fs</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;year_w2vs/*.bin&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">year_w2v_f</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">year_w2v_fs</span><span class="p">):</span>
    <span class="n">year_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">year_w2v_f</span><span class="p">)</span>
    <span class="n">year_w2vs_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">year_w2v</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">  3%|â–ˆâ–ˆâ–                                                                                | 1/34 [00:03&lt;01:57,  3.57s/it]
Loading province_w2vs\ä¸Šæµ·å¸‚-Word2Vec.200.15.bin...
  6%|â–ˆâ–ˆâ–ˆâ–ˆâ–‰                                                                              | 2/34 [00:04&lt;01:11,  2.23s/it]
Loading province_w2vs\äº‘å—çœ-Word2Vec.200.15.bin...
......
97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 33/34 [01:07&lt;00:01,  1.10s/it]
Loading province_w2vs\é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº-Word2Vec.200.15.bin...
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 34/34 [01:09&lt;00:00,  2.04s/it]
Loading province_w2vs\é»‘é¾™æ±Ÿçœ-Word2Vec.200.15.bin...


  2%|â–ˆâ–ˆ                                                                                 | 1/41 [00:00&lt;00:05,  7.10it/s]
Loading year_w2vs\1985-Word2Vec.200.15.bin...
Loading year_w2vs\1986-Word2Vec.200.15.bin...
 10%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                                                           | 4/41 [00:00&lt;00:05,  6.80it/s]
 ......
 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 41/41 [01:11&lt;00:00,  1.75s/it]
Loading year_w2vs\2025-Word2Vec.200.15.bin...

</code></pre></div><br>
<h3 id="32-æŸ¥çœ‹è¯æ±‡é‡">3.2 æŸ¥çœ‹è¯æ±‡é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;çœä»½Word2vecè¯æ±‡é‡&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">provin_w2v_f</span><span class="p">,</span> <span class="n">provin_w2v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">provin_w2v_fs</span><span class="p">,</span> <span class="n">provin_w2vs_</span><span class="p">):</span>
    <span class="n">province</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">provin_w2v_f</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">province</span><span class="si">}</span><span class="s1"> è¯æ±‡é‡: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">provin_w2v</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">çœä»½Word2vecè¯æ±‡é‡</span>
<span class="n">ä¸Šæµ·å¸‚</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">640941</span>
<span class="n">äº‘å—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">205193</span>
<span class="n">å†…è’™å¤è‡ªæ²»åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">138507</span>
<span class="n">åŒ—äº¬å¸‚</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">783162</span>
<span class="n">å°æ¹¾çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">242630</span>
<span class="n">å‰æ—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">185587</span>
<span class="n">å››å·çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">494241</span>
<span class="n">å¤©æ´¥å¸‚</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">373286</span>
<span class="n">å®å¤å›æ—è‡ªæ²»åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">91592</span>
<span class="n">å®‰å¾½çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">540111</span>
<span class="n">å±±ä¸œçœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">722886</span>
<span class="n">å±±è¥¿çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">188013</span>
<span class="n">å¹¿ä¸œçœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">1010230</span>
<span class="n">å¹¿è¥¿å£®æ—è‡ªæ²»åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">190128</span>
<span class="n">æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">110063</span>
<span class="n">æ±Ÿè‹çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">983871</span>
<span class="n">æ±Ÿè¥¿çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">256695</span>
<span class="n">æ²³åŒ—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">326042</span>
<span class="n">æ²³å—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">415905</span>
<span class="n">æµ™æ±Ÿçœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">795041</span>
<span class="n">æµ·å—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">74657</span>
<span class="n">æ¹–åŒ—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">412827</span>
<span class="n">æ¹–å—çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">400262</span>
<span class="n">æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">7806</span>
<span class="n">ç”˜è‚ƒçœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">148753</span>
<span class="n">ç¦å»ºçœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">480456</span>
<span class="n">è¥¿è—è‡ªæ²»åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">23115</span>
<span class="n">è´µå·çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">186345</span>
<span class="n">è¾½å®çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">347563</span>
<span class="n">é‡åº†å¸‚</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">358991</span>
<span class="n">é™•è¥¿çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">381781</span>
<span class="n">é’æµ·çœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">53325</span>
<span class="n">é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">71947</span>
<span class="n">é»‘é¾™æ±Ÿçœ</span> <span class="n">è¯æ±‡é‡</span><span class="p">:</span> <span class="mi">253129</span>
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;å¹´ä»½word2vecè¯æ±‡é‡&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">year_w2v_f</span><span class="p">,</span> <span class="n">year_w2v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">year_w2v_fs</span><span class="p">,</span> <span class="n">year_w2vs_</span><span class="p">):</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">year_w2v_f</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">year_w2v</span><span class="o">.</span><span class="n">index_to_key</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">å¹´ä»½word2vecè¯æ±‡é‡
1985: 15494
1986: 17945
1987: 23625
1988: 27740
1989: 27394
1990: 32920
1991: 37584
1992: 45393
1993: 48326
1994: 46725
1995: 46138
1996: 50117
1997: 53625
1998: 57187
1999: 65154
2000: 78368
2001: 95927
2002: 123513
2003: 145087
2004: 158694
2005: 185840
2006: 215856
2007: 240167
2008: 279364
2009: 334179
2010: 382888
2011: 449648
2012: 508506
2013: 621644
2014: 625248
2015: 685487
2016: 732443
2017: 760332
2018: 776968
2019: 789104
2020: 817553
2021: 799388
2022: 734045
2023: 596784
2024: 516263
2025: 21230
</code></pre></div><br>
<h3 id="33-è¯­ä¹‰æ£€æŸ¥-çœä»½">3.3 è¯­ä¹‰æ£€æŸ¥-çœä»½</h3>
<p>å…ˆæ£€æŸ¥çœä»½ï¼Œ æŸ¥çœ‹ä¸[&lsquo;åˆ›æ–°&rsquo;, &lsquo;æ–°é¢–&rsquo;]æœ€ç›¸ä¼¼çš„5ä¸ªè¯ï¼Œé€šè¿‡è¯­ä¹‰æ•æ‰å‡†ç¡®ä¸å¦ï¼Œç²—ç•¥åˆ¤æ–­Word2vecè®­ç»ƒæ•ˆæœçš„å¥½åã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">provin_w2v_f</span><span class="p">,</span> <span class="n">provin_w2v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">provin_w2v_fs</span><span class="p">,</span> <span class="n">provin_w2vs_</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">province</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">provin_w2v_f</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">wordweigths</span> <span class="o">=</span> <span class="n">provin_w2v</span><span class="o">.</span><span class="n">most_similar</span><span class="p">([</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;æ–°é¢–&#39;</span><span class="p">],</span> <span class="n">topn</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="n">wordweigths</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">province</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="s2">&#34; &#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">province</span><span class="si">}</span><span class="s1">: NA&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ä¸Šæµ·å¸‚: ç‹¬ç‰¹ å·§å¦™ åˆ›æ–°æ€§ ç†å¿µ æ–°é¢–ç»“æ„åˆç†
äº‘å—çœ: ç‹¬ç‰¹ å·§å¦™ ç²¾å·§ ç§‘å­¦åˆç† æ–°é¢–åˆç†
å†…è’™å¤è‡ªæ²»åŒº: ç†å¿µ ç‹¬ç‰¹ å·§å¦™ åˆç†ä½¿ç”¨æ–¹ä¾¿ å…¨æ–°
åŒ—äº¬å¸‚: å·§å¦™ ç‹¬ç‰¹ å…¨æ–° å€Ÿé‰´ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿
å°æ¹¾çœ: å…¨æ–° ç‹¬ç‰¹ ç²¾å·§ ç®€æ´ å·§å¦™
å‰æ—çœ: ç†å¿µ æ€è·¯ ç°ä»£ å…¨æ–° å·§å¦™
å››å·çœ: å·§å¦™ ç‹¬ç‰¹ å…¨æ–° ç†å¿µ åˆç†ä½¿ç”¨æ–¹ä¾¿
å¤©æ´¥å¸‚: ç‹¬ç‰¹ å·§å¦™ åˆç†ä½¿ç”¨æ–¹ä¾¿ å·§å¦™ä½¿ç”¨æ–¹ä¾¿ å…¨æ–°
å®å¤å›æ—è‡ªæ²»åŒº: æ›´å…· å¤šæ · ä¸°å¯Œ æ€§ä»·æ¯” å¸‚åœºå‰æ™¯
å®‰å¾½çœ: å·§å¦™ ç‹¬ç‰¹ å·§å¦™ä½¿ç”¨æ–¹ä¾¿ åˆç† åˆç†ç»“æ„ç´§å‡‘
å±±ä¸œçœ: å·§å¦™ ç²¾å·§ æ–°é¢–ç»“æ„åˆç† å·§å¦™ç»“æ„åˆç† å…¨æ–°
å±±è¥¿çœ: ç‹¬ç‰¹ å…¨æ–° ç§‘å­¦ ç°ä»£ å·²æœ‰
å¹¿ä¸œçœ: å·§å¦™ ç‹¬ç‰¹ åˆ›æ–°æ€§ åˆç† ç²¾å·§
å¹¿è¥¿å£®æ—è‡ªæ²»åŒº: ç‹¬ç‰¹ å·§å¦™ åˆç†ä½¿ç”¨æ–¹ä¾¿ ç²¾å·§ åˆç†å®ç”¨æ€§
æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº: åˆç†ä½¿ç”¨æ–¹ä¾¿ å·§å¦™ ç®€å•åˆç† ç§‘å­¦åˆç† åˆç†
æ±Ÿè‹çœ: å·§å¦™ ç‹¬ç‰¹ åˆç† å…¨æ–° ç§‘å­¦
æ±Ÿè¥¿çœ: ç‹¬ç‰¹ ç§‘å­¦åˆç† å·§å¦™ ç®€æ´ ç²¾å·§
æ²³åŒ—çœ: å·§å¦™ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿ ç²¾å·§ ç‹¬ç‰¹ ç†å¿µ
æ²³å—çœ: å·§å¦™ ç§‘å­¦åˆç† ç‹¬ç‰¹ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿ å·§å¦™ä½¿ç”¨æ–¹ä¾¿
æµ™æ±Ÿçœ: ç‹¬ç‰¹ å·§å¦™ ç§‘å­¦ ç²¾å·§ åˆç†
æµ·å—çœ: æ€è·¯ ç§‘å­¦åˆç† äººæ€§åŒ– ç§‘å­¦ ç‹¬ç‰¹
æ¹–åŒ—çœ: å·§å¦™ å·§å¦™åˆç† ç§‘å­¦åˆç† ç‹¬ç‰¹ æ–°é¢–ç»“æ„åˆç†
æ¹–å—çœ: å·§å¦™ ç²¾å·§ ç‹¬ç‰¹ æ–°é¢–ç‹¬ç‰¹ å·§å¦™ç»“æ„åˆç†
æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº: æ’å‡» è¾¹å¡ æºœæ§½ è€é«˜æ¸© ææ–™åˆ¶æˆ
ç”˜è‚ƒçœ: ç‹¬ç‰¹ å…¨æ–° ç†å¿µ ç°ä»£ æ™®åŠ
ç¦å»ºçœ: å·§å¦™ æ–°é¢–ä½¿ç”¨æ–¹ä¾¿ ç‹¬ç‰¹ å·§å¦™ç»“æ„åˆç† å…¨æ–°
è¥¿è—è‡ªæ²»åŒº: æ—¢èƒ½ ååˆ† ç–²åŠ³ èŒƒå›´å¹¿ æ›´åŠ äººæ€§åŒ–
è´µå·çœ: å·§å¦™ ç‹¬ç‰¹ ç§‘å­¦åˆç† åˆç†ä½¿ç”¨æ–¹ä¾¿ ç²¾å·§
è¾½å®çœ: å·§å¦™ å·§å¦™ç»“æ„åˆç† æ–°é¢–ç»“æ„åˆç† æ–°é¢–ç‹¬ç‰¹ ç‹¬åˆ›
é‡åº†å¸‚: åˆç†ä½¿ç”¨æ–¹ä¾¿ ç§‘å­¦åˆç† ç²¾å·§ å…¨æ–° æ–°é¢–ä½¿ç”¨æ–¹ä¾¿
é™•è¥¿çœ: å·§å¦™ ç‹¬ç‰¹ æ–°é¢–ç»“æ„åˆç† åˆç† åˆç†ä½¿ç”¨æ–¹ä¾¿
é’æµ·çœ: çªç ´ ç»‡æœº ç°è¡Œ ç»æµç¯ä¿ æ†ç»‡æœº
é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº: å…¨æ–° æ›´å…· ç¾æ„Ÿ å¸‚åœº ä¸°å¯Œ
é»‘é¾™æ±Ÿçœ: ç‹¬ç‰¹ ç²¾å·§ ç§‘å­¦åˆç† å·§å¦™ æ„æ€
</code></pre></div><p>ä»ä¸Šé¢çš„è¿è¡Œç»“æœçœ‹ï¼Œ é™¤é’æµ·çœï¼Œå‰©ä¸‹çš„ç»å¤§å¤šæ•°çš„çœä»½çš„Word2vecéƒ½å¾ˆå‡†ç¡®çš„æ•æ‰åˆ°äº†ä¸“åˆ©æ‘˜è¦çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p>
<br>
<h3 id="34-è¯­ä¹‰æ£€æŸ¥-å¹´ä»½">3.4 è¯­ä¹‰æ£€æŸ¥-å¹´ä»½</h3>
<p>æŸ¥çœ‹ä¸[&lsquo;åˆ›æ–°&rsquo;, &lsquo;æ–°é¢–&rsquo;]æœ€ç›¸ä¼¼çš„5ä¸ªè¯ï¼Œé€šè¿‡è¯­ä¹‰æ•æ‰å‡†ç¡®ä¸å¦ï¼Œç²—ç•¥åˆ¤æ–­Word2vecè®­ç»ƒæ•ˆæœçš„å¥½åã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">year_w2v_f</span><span class="p">,</span> <span class="n">year_w2v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">year_w2v_fs</span><span class="p">,</span> <span class="n">year_w2vs_</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">year</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">year_w2v_f</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">wordweigths</span> <span class="o">=</span> <span class="n">year_w2v</span><span class="o">.</span><span class="n">most_similar</span><span class="p">([</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;æ–°é¢–&#39;</span><span class="p">],</span> <span class="n">topn</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="n">wordweigths</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="s2">&#34; &#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">: NA&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">1985: å…¬çŸ¥ ä¸“é—¨ ç‰¹åˆ«é€‚ç”¨ æå‡ºä¸€ç§ æœºå™¨äºº
1986: æ¤å…¥ ç†å‘ 135 å©´å„¿è½¦ è¡—é“
1987: è½å å„¿ç«¥æ™ºåŠ›å¼€å‘ ä½æ¡£ èƒ¶é‹ æŒ‡ç”²
1988: ç›®å‰å¸‚åœº ä½æ¡£ æ•é±¼ è¯ä»¶ æ™®éä½¿ç”¨
1989: ä»·å»‰ç‰©ç¾ è¯¾å ‚æ•™å­¦ æ™®åŠå‹ å¤§ä¼— å¾—å¿ƒåº”æ‰‹
1990: å•çº¯ ç²¾ç®€ å¤šæ–¹é¢ æœºç­‰ åº”ç”¨é¢†åŸŸ
1991: æ™®åŠå‹ å‰é€” å¤§ä¼— ç°ä»£ ç°ä»£åŒ–
1992: æ„æ€ ä¿ç•™ä¼ ç»Ÿ ä¸å¤±ä¸º å…¨æ–° æœºä¹‹
1993: å®Œç¾ ç°ä»£ç§‘æŠ€ å´­æ–° å¼æ · è¾¹å¢™
1994: æ ·å¼ åˆ«è‡´ é€ å‹æ–°é¢– æ˜¾å¾— åè´µ
1995: å¤šæ · ç»“å®è€ç”¨ ç‹¬ç‰¹ åˆ«è‡´ é«˜æ¡£
1996: èŠ±æ · è€å†²å‡»æµ®æ ‡ æå…¶ å¼æ ·æ–°é¢– åº”ç”¨èŒƒå›´
1997: å®ç”¨ç¾è§‚ å®¤å†…å¤–è£…é¥° æ ‡å‡†åŒ– å¤šå˜ å½¢è±¡é€¼çœŸ
1998: ç°ä»£ æ”¹é© å¼€å‘ é«˜é›… åˆ›é€ 
1999: ç°ä»£ å¸‚åœº è¶Šæ¥è¶Š æ¬¾å¼ å¤§æ–¹
2000: å…¨æ–° å¨±ä¹æ€§è¶£å‘³æ€§ å¤šæ ·åŒ– å¤šæ–¹é¢ å„ç§å„æ ·
2001: å®Œç¾ ç°ä»£ æ–°é¢–åˆ«è‡´ å¤šæ ·åŒ– ä½“ç°
2002: å…¨æ–° ç°ä»£ å®ä¸º ç§‘å­¦ å¤§ä¼—
2003: å…¨æ–° çªç ´ä¼ ç»Ÿ å¤šæ ·åŒ– ä½“ç° ç§‘å­¦
2004: å…¨æ–° ç§‘æŠ€ ç°ä»£ å¸‚åœº ç§‘å­¦åˆç†
2005: åˆ›æ„ ç†å¿µ å…¨æ–° ç§‘å­¦ ç°ä»£
2006: å…¨æ–° æ„æ€ ç†å¿µ æ–°é¢–æ€§ ç‹¬ç‰¹
2007: å…¨æ–° çªç ´ä¼ ç»Ÿ å·§å¦™ ç‹¬ç‰¹ ç°ä»£
2008: ç‹¬ç‰¹ å·§å¦™ å…¨æ–° æ–°é¢–ç‹¬ç‰¹ è®¾è®¡ç†å¿µ
2009: ç‹¬ç‰¹ å·§å¦™ å…¨æ–° ç§‘å­¦ æ–°é¢–ç‹¬ç‰¹
2010: ç‹¬ç‰¹ æ–°é¢–ç‹¬ç‰¹ ç²¾å·§ å·§å¦™ ç§‘å­¦åˆç†
2011: ç‹¬ç‰¹ ç²¾å·§ æ–°é¢–ç‹¬ç‰¹ ç§‘å­¦åˆç† å·§å¦™
2012: ç‹¬ç‰¹ å·§å¦™ æ–°é¢–ç‹¬ç‰¹ ç²¾å·§ ç§‘å­¦åˆç†
2013: ç‹¬ç‰¹ æ–°é¢–ç‹¬ç‰¹ ç²¾å·§ ç§‘å­¦åˆç† å·§å¦™
2014: å·§å¦™ ç‹¬ç‰¹ ç§‘å­¦åˆç† å·§å¦™åˆç† ç²¾å·§
2015: å·§å¦™ ç‹¬ç‰¹ å·§å¦™åˆç† æ–°é¢–ç»“æ„åˆç† ç§‘å­¦åˆç†
2016: å·§å¦™ ç»“åˆç°åœ¨ å·§å¦™åˆç† ç‹¬ç‰¹ å…¨æ–°
2017: å·§å¦™ ç§‘å­¦åˆç† ç‹¬ç‰¹ ç§‘å­¦ åˆç†
2018: å·§å¦™ ç‹¬ç‰¹ åˆç† ç§‘å­¦ å…¨æ–°
2019: å·§å¦™ ç‹¬ç‰¹ åˆç† å…¨æ–° ç²¾å·§
2020: å·§å¦™ ç‹¬ç‰¹ åˆç† ç²¾å·§ è®¾è®¡
2021: å·§å¦™ ç²¾å·§ åˆç† æ–°é¢–ç»“æ„åˆç† å…¨æ–°
2022: å·§å¦™ å…¨æ–° ç‹¬ç‰¹ åˆ›æ–°æ€§ ç²¾å·§
2023: å·§å¦™ ç‹¬ç‰¹ å…¨æ–° åˆ›æ–°æ€§ ç²¾å·§
2024: å·§å¦™ åˆ›æ–°æ€§ ç‹¬ç‰¹ ç²¾å·§ å…¨æ–°
2025: ç›¸ç»“åˆ åŒé‡ ç‹¬ç‰¹ å¤šé‡ ä¼˜åŠ¿
</code></pre></div><p>ä¹Ÿè¯•äº†å…¶ä»–çš„è¯è¯­ï¼Œå¥½åƒ 1998 å¹´ä¹‹åçš„æ•æ‰çš„è¯­ä¹‰æ˜¯å‡†ç¡®çš„ã€‚</p>
<br>
<h2 id="å››ç ”ç©¶æ½œåŠ›-è¯­ä¹‰å˜è¿ç ”ç©¶æ–¹æ³•ä»‹ç»">å››ã€ç ”ç©¶æ½œåŠ›: è¯­ä¹‰å˜è¿ç ”ç©¶æ–¹æ³•ä»‹ç»</h2>
<p>å‡è®¾è¯­ä¹‰éƒ½å¾ˆå‡†çš„è¯ï¼Œ æ˜¯å¯ä»¥ç ”ç©¶ <strong>è¯­ä¹‰å˜è¿</strong> æˆ–è€… <strong>è¯­ä¹‰å·®å¼‚</strong> çš„ã€‚ ä½†éœ€è¦æ³¨æ„ï¼Œ ä¸èƒ½ç›´æ¥ä½¿ç”¨ä¸¤ä¸ªå¹´ä»½æˆ–è€…ä¸¤ä¸ªçœä»½çš„ä¸­word1å’Œword2çš„è·ç¦»æ¥ä½“ç°è¯­ä¹‰çš„å˜è¿æˆ–è€…è¯­ä¹‰çš„å·®å¼‚ã€‚ å¦‚æœæƒ³åšçœä»½é—´å·®å¼‚æˆ–è€…æŸçœä»½éšæ—¶é—´çš„å˜åŒ–ï¼Œ éœ€è¦ç”¨åˆ° <strong>å¯¹é½ç®—æ³•</strong>ï¼Œ å¸¸ç”¨çš„ç®—æ³•æ˜¯ <strong>æ­£äº¤ProcrustesçŸ©é˜µå¯¹é½</strong>ï¼Œ ä½¿å¾—åŒçœä»½ä¸åŒå¹´ä»½æˆ–è€…é€šå¹´ä»½ä¸åŒçœä»½çš„word2vecéƒ½æœ‰ç›¸åŒçš„è¯­ä¹‰ç©ºé—´ã€‚</p>
<h3 id="41-æ­£äº¤procrustesç®—æ³•">4.1 æ­£äº¤Procrustesç®—æ³•</h3>
<p>æ­£äº¤ProcrustesçŸ©é˜µå¯¹é½æ˜¯ä¸€ç§å°†ä¸¤ä¸ªé¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„è¯å‘é‡çŸ©é˜µå¯¹é½çš„æ–¹æ³•ï¼Œä½¿å¾—å®ƒä»¬åœ¨ç›¸åŒçš„è¯­ä¹‰ç©ºé—´ä¸­è¡¨ç¤ºã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒé€šè¿‡è®¡ç®—ä¸€ä¸ªæ­£äº¤çŸ©é˜µï¼Œå°†ä¸¤ä¸ªè¯å‘é‡çŸ©é˜µè¿›è¡Œçº¿æ€§å˜æ¢ï¼Œä½¿å¾—å®ƒä»¬çš„FrobeniusèŒƒæ•°ä¹‹å’Œæœ€å°ï¼Œä»è€Œå®ç°å¯¹é½ã€‚ åœ¨ cntext2.xä¸­å®ç°äº†Procrusteså¯¹é½å‡½æ•° <em><strong>ct.procrustes_align()</strong></em>ï¼Œå…·ä½“å¯é˜…è¯» <a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ</a></p>
<br>
<h3 id="42-è¯­ä¹‰å˜è¿æµç¨‹å›¾">4.2 è¯­ä¹‰å˜è¿æµç¨‹å›¾</h3>
<p>è¯­ä¹‰å˜è¿ç±»ç ”ç©¶çš„æµç¨‹å›¾å¯å‚è€ƒ <a href="https://github.com/Living-with-machines/DiachronicEmb-BigHistData">DiachronicEmb-BigHistData</a></p>
<p><img loading="lazy" src="img/w2v-time-shifting-flowchart.png" alt=""  />
</p>
<p>å¤§é‚“åœ¨ <a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</a> å®ç°äº†å†æ—¶è¯­ä¹‰å¯¹é½ï¼Œ å¯ä»¥çœ‹å‡º70 å¹´æ•´ä¸ªä¸­å›½ç¤¾ä¼šçš„è®¤çŸ¥å˜è¿ã€‚</p>
<br>
<h3 id="43-è¯†åˆ«è¯­ä¹‰å˜åŒ–æ—¶é—´ç‚¹">4.3 è¯†åˆ«è¯­ä¹‰å˜åŒ–æ—¶é—´ç‚¹</h3>
<p>è¯¥é¡¹ç›®ç ”ç©¶äº†1800-1910æœŸé—´ï¼Œ æ¯10å¹´ä¸ºä¸€ä¸ªå•ä½è®­ç»ƒè¯å‘é‡ï¼Œ æ¢ç©¶è¯è¯­å˜åŒ–ã€‚ä»¥ <em><strong>railway</strong></em> å’Œ  <em><strong>traffic</strong></em> ä¸ºä¾‹, å…ˆç”¨ ä½™å¼¦ç›¸ä¼¼åº¦(cosine-similarity)ç®—æ³•è¯†åˆ«è¯è¯­è¯­ä¹‰å˜åŒ–çš„æ—¶é—´ç‚¹ï¼Œå¦‚ä¸‹å›¾</p>
<p><img loading="lazy" src="img/consine-sim-cpdetection.png" alt=""  />
</p>
<br>
<h3 id="44-ç»˜åˆ¶è¯­ä¹‰å˜åŒ–è½¨è¿¹">4.4 ç»˜åˆ¶è¯­ä¹‰å˜åŒ–è½¨è¿¹</h3>
<p>è¯­ä¹‰å˜åŒ–è½¨è¿¹</p>
<p><img loading="lazy" src="img/railway-time-shifting.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="äº”è·å–èµ„æº">äº”ã€è·å–èµ„æº</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹  ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin  https://pan.baidu.com/s/1CgBjy96hDKM2GKQY4G6kYA?pwd=ba92

- å…è´¹  province_w2vs                https://pan.baidu.com/s/1eBFTIZcv2DWssLiaRnCqZQ?pwd=ikpu

- å…è´¹  year_w2vs                    https://pan.baidu.com/s/1lrVkML92cVJdHQa1HQyAwA?pwd=4gqa

- 100å…ƒ  cntext-2.1.5-py3-none-any.whl å¦‚æœ‰éœ€è¦ï¼Œè¯·åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</title>
      <link>https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/</link>
      <pubDate>Thu, 03 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/</guid>
      <description>ä½¿ç”¨äººæ°‘æ—¥æŠ¥1946-2023å¹´ä¹‹é—´çš„æ–°é—»æ•°æ®ï¼Œé€šè¿‡è¯­ä¹‰è·ç¦»åˆ»ç”»æ–‡åŒ–çš„å˜è¿ã€‚</description>
      <content:encoded><![CDATA[<h2 id="ä¸€å¼•è¨€">ä¸€ã€å¼•è¨€</h2>
<p>ç¤¾ä¼šæ–‡åŒ–æ˜¯ä¸€ä¸ªä¸æ–­æ¼”å˜çš„å¤æ‚ç³»ç»Ÿï¼Œå—åˆ°å†å²ã€ç§‘æŠ€ã€ç»æµå’Œç¤¾ä¼šå˜é©ç­‰å¤šç§å› ç´ çš„å½±å“ã€‚éšç€æ—¶ä»£çš„æ¨ç§»ï¼Œäººä»¬çš„è¯­è¨€ä½¿ç”¨å’Œæ–‡åŒ–è®¤çŸ¥ä¹Ÿç»å†ç€å˜è¿ï¼Œåæ˜ ç€ç¤¾ä¼šçš„å‘å±•è„‰ç»œã€‚åœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹ï¼Œä½¿ç”¨Word2Vecç­‰è¯åµŒå…¥æŠ€æœ¯æ¥ç ”ç©¶ç¤¾ä¼šæ–‡åŒ–å˜è¿å’Œåˆ»æ¿å°è±¡çš„é‡è¦æ€§æ—¥ç›Šå‡¸æ˜¾ã€‚</p>
<p>Word2Vecä½œä¸ºä¸€ç§è¯å‘é‡è¡¨ç¤ºæ–¹æ³•ï¼Œé€šè¿‡å°†è¯æ±‡æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ä¸­çš„å‘é‡ï¼Œæœ‰æ•ˆåœ°æ•æ‰äº†è¯è¯­ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ã€‚è¿™ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿä»¥å…¨æ–°çš„æ–¹å¼ç†è§£è¯­è¨€çš„æ¼”å˜å’Œæ–‡åŒ–è®¤çŸ¥çš„è½¬å˜ã€‚é€šè¿‡å¯¹æ¯”ä¸åŒæ—¶æœŸçš„Word2Vecæ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥æ·±å…¥æŒ–æ˜è¯­è¨€çš„æ—¶ä»£ç‰¹å¾ï¼Œæ•æ‰åˆ°æ–‡åŒ–è§‚å¿µã€ä»·å€¼è§‚å¿µä»¥åŠç¤¾ä¼šè§’è‰²çš„æ¼”å˜ã€‚</p>
<p>ç ”ç©¶ç¤¾ä¼šæ–‡åŒ–å˜è¿å’Œåˆ»æ¿å°è±¡ï¼Œä¸ä»…æœ‰åŠ©äºè§£æ„å†å²æ—¶åˆ»ä¸‹çš„ç¤¾ä¼šç»“æ„å’Œæ–‡åŒ–åŠ¨æ€ï¼Œè¿˜èƒ½ä¸ºæˆ‘ä»¬æä¾›æ·±åˆ»çš„æ´å¯ŸåŠ›ï¼Œæ­ç¤ºå‡ºç¤¾ä¼šå˜è¿ä¸­æ½œåœ¨çš„é©±åŠ¨åŠ›å’Œè¶‹åŠ¿ã€‚è¿™ç§ç ”ç©¶æœ‰åŠ©äºå»ºæ„æ›´ä¸ºå…¨é¢ã€å®¢è§‚çš„å†å²è®°å¿†ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£äººç±»è¡Œä¸ºèƒŒåçš„æ·±å±‚æ¬¡åŸå› ã€‚</p>
<p><br><br></p>
<h2 id="äºŒè®­ç»ƒæ¨¡å‹">äºŒã€è®­ç»ƒæ¨¡å‹</h2>
<h3 id="21-è·å–æ•°æ®">2.1 è·å–æ•°æ®</h3>
<ul>
<li><a href="https://textdata.cn/blog/2023-12-14-daily-news-dataset/">æ–°é—»æ•°æ®é›† | å« äººæ°‘æ—¥æŠ¥/ç»æµæ—¥æŠ¥/å…‰æ˜æ—¥æŠ¥ ç­‰æ•°åå®¶åª’ä½“(2024.05)</a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">æ–‡æœ¬åˆ†æåº“ cntext2.x è·å–æ–¹å¼&amp;ä½¿ç”¨æ‰‹å†Œ</a></li>
</ul>
<br>
<h3 id="22--æ„é€ è¯­æ–™">2.2  æ„é€ è¯­æ–™</h3>
<p>æœ¬ä½¿ç”¨çš„ <em><strong>rmrb.csv.gz</strong></em> å¯¹è¯¥æ•°æ®é›†æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå¯ç‚¹å‡»æŸ¥çœ‹  <a href="https://textdata.cn/blog/2023-12-14-daily-news-dataset/">æ–°é—»æ•°æ®é›† | å« äººæ°‘æ—¥æŠ¥/ç»æµæ—¥æŠ¥/å…‰æ˜æ—¥æŠ¥ ç­‰æ•°åå®¶åª’ä½“(2024.05)</a>  ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>

<span class="c1"># æ¯5å¹´æ„é€ ä¸€ä¸ªè¯­æ–™txtæ–‡ä»¶</span>
<span class="k">for</span> <span class="n">date</span><span class="p">,</span> <span class="n">freq_df</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;5YE&#39;</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
    <span class="n">corpus_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;corpus&#39;</span><span class="p">)</span>
    <span class="n">corpus_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">corpus_file</span> <span class="o">=</span> <span class="n">corpus_dir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">.txt&#34;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">corpus_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">text_series</span> <span class="o">=</span> <span class="n">freq_df</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">raw_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text_series</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">1946-12-31 00:00:00
1951-12-31 00:00:00
1956-12-31 00:00:00
1961-12-31 00:00:00
1966-12-31 00:00:00
1971-12-31 00:00:00
1976-12-31 00:00:00
1981-12-31 00:00:00
1986-12-31 00:00:00
1991-12-31 00:00:00
1996-12-31 00:00:00
2001-12-31 00:00:00
2006-12-31 00:00:00
2011-12-31 00:00:00
2016-12-31 00:00:00
2021-12-31 00:00:00
2026-12-31 00:00:00
CPU times: user 2.64 s, sys: 1.54 s, total: 4.18 s
Wall time: 5.29 s
</code></pre></div><p><img loading="lazy" src="img/01-corpus.jpg" alt=""  />
</p>
<p>è¯­æ–™txtå‘½åè§„åˆ™ï¼Œ å®é™…ä¸Šæ¯ä¸ª <em><strong>year.txt</strong></em> æ˜¯å­˜å‚¨äº† <em><strong>year-5</strong></em>  ~  <em><strong>year</strong></em> æœŸé—´çš„æ–°é—»æ•°æ®ã€‚</p>
<p><em><strong>1946.txt</strong></em> å†…å®é™…ä¸Šåªå­˜å‚¨äº† <em><strong>1946.5.15</strong></em> ~ <em><strong>1946.12.31</strong></em> ä¹‹é—´åŠå¹´å¤šçš„æ•°æ®ï¼Œ ç”±äºæ•°æ®é‡å¤ªå°ï¼Œåç»­è®­ç»ƒå‡ºçš„ <em><strong>word2vec</strong></em> æ¨¡å‹ï¼Œå…¶è¯­ä¹‰å¤§æ¦‚ç‡ä¸å‡†ã€‚</p>
<p><em><strong>2006.txt</strong></em> å­˜å‚¨äº† <em><strong>2002.1.1. ~ 2006.12.31</strong></em> ä¹‹é—´æ‰€æœ‰çš„æ•°æ®</p>
<p>è€Œ <em><strong>2026.txt</strong></em> åˆ™å­˜å‚¨äº† <em><strong>2022.1.1 ~ 2026.12.31</strong></em> ä¹‹é—´æ‰€æœ‰çš„æ•°æ®</p>
<br>
<h2 id="ä¸‰è®­ç»ƒword2vec">ä¸‰ã€è®­ç»ƒword2vec</h2>
<h3 id="31-é…ç½®ç¯å¢ƒ">3.1 é…ç½®ç¯å¢ƒ</h3>
<p>å®‰è£…æ–¹æ³•ï¼Œå°† <em><strong>cntext-2.1.5-py3-none-any.whl</strong></em> æ”¾ç½®äºæ¡Œé¢ï¼Œ æ‰“å¼€å‘½ä»¤è¡Œ <em><strong>cmd</strong></em> ï¼ˆmacæ˜¯terminal), ä¾æ¬¡æ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
pip3 install cntext-2.1.5-py3-none-any.whl
</code></pre></div><blockquote>
<p><em><strong>cntext-2.1.5-py3-none-any.whl</strong></em>ï¼Œ 100å…ƒ ï¼› å¦‚éœ€ cntext2.x å¯åŠ å¾®ä¿¡ 372335839 è·å–ã€‚</p>
</blockquote>
<br>
<h3 id="32-å¼€å§‹è®­ç»ƒ">3.2 å¼€å§‹è®­ç»ƒ</h3>
<p>è®­ç»ƒä»£ç æ¯”è¾ƒç®€å•ï¼Œå·²ç»å°è£…åˆ° <strong>cntext2.x</strong>ï¼Œ åªéœ€å‡ è¡Œä»£ç å³å¯ã€‚ä¸” cntext2.x å¯¹ä»£ç è¿›è¡Œäº†ä¼˜åŒ–ï¼Œ è®­ç»ƒé€Ÿåº¦æ›´å¿«ï¼Œ å†…å­˜å ç”¨æ›´å°ã€‚</p>
<p>è®­ç»ƒç¯å¢ƒ Mac å†…å­˜ 96Gï¼Œ å¤§å®¶å›å»å¯ä»¥è¯•è¯• 16Gã€32Gï¼Œåº”è¯¥ä¹Ÿèƒ½è·‘é€šã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">glob</span>


<span class="c1"># è·å–corpusæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰è¯­æ–™txtæ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„</span>
<span class="n">corpus_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;corpus/*.txt&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">corpus_file</span> <span class="ow">in</span> <span class="n">corpus_files</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">corpus_file</span><span class="p">)</span>
    <span class="c1"># ç»“æœè‡ªåŠ¨ä¿å­˜åˆ°outputæ–‡ä»¶å¤¹å†…</span>
    <span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="n">corpus_file</span><span class="p">,</span>
                 <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                 <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                 <span class="n">min_count</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-corpus/1946.txt" data-lang="corpus/1946.txt">Mac(Linux) System, Enable Parallel Processing
Cache output/1946_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5954/5954 [00:07&lt;00:00, 757.68it/s]
Reading Preprocessed Corpus from output/1946_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 16 s. 
Output Saved To: output/1946-Word2Vec.200.15.bin
......
......
......
corpus/2026.txt
Mac(Linux) System, Enable Parallel Processing
Cache output/2026_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 105037/105037 [00:34&lt;00:00, 3075.29it/s]
Reading Preprocessed Corpus from output/2026_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 194. 
Output Saved To: output/2026-Word2Vec.200.15.bin
CPU times: user 2h 38min 4s, sys: 4min 41s, total: 2h 42min 45s
Wall time: 1h 5min 39s
</code></pre></div><p><img loading="lazy" src="img/02-word2vec.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="å››æ£€æŸ¥æ¨¡å‹">å››ã€æ£€æŸ¥æ¨¡å‹</h2>
<p>ç°åœ¨æˆ‘ä»¬è¦æ£€æŸ¥æ¨¡å‹ï¼Œ ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘å°±éšæœºæŠ½æŸ¥ 1946/1981/2001/2026ï¼Œ æŸ¥çœ‹è¿™å››ä¸ªæ¨¡å‹å…³äºã€Œå·¥ä¸šã€çš„è¿‘ä¹‰è¯ï¼Œçœ‹æ¨¡å‹è¯­ä¹‰æ•æ‰çš„å‡†ä¸å‡†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">mfiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;output/1946-Word2Vec.200.15.bin&#39;</span><span class="p">,</span>
          <span class="s1">&#39;output/1981-Word2Vec.200.15.bin&#39;</span><span class="p">,</span>
          <span class="s1">&#39;output/2001-Word2Vec.200.15.bin&#39;</span><span class="p">,</span>
          <span class="s1">&#39;output/2026-Word2Vec.200.15.bin&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">mfile</span> <span class="ow">in</span> <span class="n">mfiles</span><span class="p">:</span>
    <span class="n">w2v_model</span>  <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">mfile</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">mfile</span><span class="p">)</span>
    <span class="n">word_scores</span> <span class="o">=</span> <span class="n">w2v_model</span><span class="o">.</span><span class="n">most_similar</span><span class="p">([</span><span class="s1">&#39;å·¥ä¸š&#39;</span><span class="p">],</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">word_scores</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">output/1946-Word2Vec.200.15.bin
å¸‚åœº 0.9601176381111145
é‡å·¥ä¸š 0.9589242935180664
å·¥ä¸šéƒ¨é—¨ 0.9484396576881409
ç‰©ä»· 0.9464751482009888
å•†ä¸š 0.9423016309738159
å·¥ä¸šåŸæ–™ 0.9378510117530823
ç„¦ç…¤ 0.9368941783905029
ç‰©ä»·æš´æ¶¨ 0.9348677396774292
ç¬¬ä¸€å¹´ 0.9331346154212952
å†œäº§å“ 0.9329909682273865
è¾“å…¥ 0.9329512119293213
å†œä¸š 0.9327669143676758
æ°´å¹³ 0.9323830008506775
é€šè´§ 0.9320995807647705
å›½æ°‘ç»æµ 0.9268764853477478
æŠ•èµ„ 0.9261932373046875
è¾“å‡º 0.9258642792701721
é’¢é“å·¥å‚ 0.925421953201294
å·¥ä¸šç”Ÿäº§ 0.9251945614814758
åä¸‰äº¿ 0.9251589775085449

Loading output/1981-Word2Vec.200.15.bin...
output/1981-Word2Vec.200.15.bin
å·¥ä¸šéƒ¨é—¨ 0.6696006655693054
é‡å·¥ä¸š 0.6490920782089233
å»ºç­‘ä¸š 0.6461381316184998
è½»å·¥ä¸š 0.6443966627120972
å·¥ä¸šç”Ÿäº§ 0.6364479064941406
æœºå™¨åˆ¶é€ ä¸š 0.6220380067825317
åŒ–å­¦å·¥ä¸š 0.6116607785224915
é’¢é“å·¥ä¸š 0.5941601991653442
åŠ å·¥å·¥ä¸š 0.5932750701904297
ç”µå­å·¥ä¸š 0.5880091190338135
è½»çººå·¥ä¸š 0.5786471366882324
é£Ÿå“å·¥ä¸š 0.5777474045753479
é‡å·¥ä¸šè½»å·¥ä¸š 0.5734774470329285
æ°‘ç”¨å·¥ä¸š 0.5729294419288635
æ¶ˆè´¹å“ç”Ÿäº§ 0.5721379518508911
çººç»‡ä¸š 0.56629878282547
å†œä¸šè½»å·¥ä¸š 0.5642068982124329
æœºå™¨åˆ¶é€  0.5622154474258423
åˆ¶é€ ä¸š 0.5620284676551819
åŒ–å·¥ 0.5588406324386597

Loading output/2001-Word2Vec.200.15.bin...
output/2001-Word2Vec.200.15.bin
é‡å·¥ä¸š 0.6766582727432251
å·¥ä¸šç”Ÿäº§ 0.6742461323738098
åˆ¶é€ ä¸š 0.641242504119873
è½»å·¥ä¸š 0.615958571434021
ä¼ ç»Ÿäº§ä¸š 0.6039909720420837
åŠ å·¥å·¥ä¸š 0.5936708450317383
æœºæ¢°ç”µå­ 0.5892737507820129
å·¥ä¸šéƒ¨é—¨ 0.5891364216804504
è½»å·¥ 0.5785651803016663
åŒ–å­¦å·¥ä¸š 0.5783289670944214
çººç»‡ 0.5708677172660828
æ”¯æŸ±è¡Œä¸š 0.5655868053436279
é’¢é“å·¥ä¸š 0.5648497939109802
åŒ–å·¥ 0.5617026686668396
æœºæ¢°å·¥ä¸š 0.5609593987464905
æŒ¯å…´å›½é˜²ç§‘æŠ€ 0.5588745474815369
çººç»‡ä¸š 0.5520373582839966
å·¥ä¸šä½“ç³» 0.5505329370498657
å·¥ä¸šæ€»äº§å€¼ 0.5477191805839539
å†¶é‡‘çººç»‡ 0.5463222861289978

Loading output/2026-Word2Vec.200.15.bin...
output/2026-Word2Vec.200.15.bin
åˆ¶é€ ä¸š 0.6705414056777954
å·¥ä¸šç”Ÿäº§ 0.6067013144493103
æ™ºèƒ½åˆ¶é€  0.5936543941497803
è½»å·¥ä¸š 0.5885797142982483
é’¢é“è¡Œä¸š 0.5884692072868347
åŒ–å·¥ 0.5675483345985413
é’¢é“ä¼ä¸š 0.5637045502662659
å·¥ä¸šäº’è”ç½‘ 0.559167742729187
è£…å¤‡åˆ¶é€ ä¸š 0.5545477271080017
åˆ¶é€  0.5482359528541565
å»ºç­‘ä¸š 0.5467448234558105
å†¶é‡‘ 0.5400071740150452
è§„æ¨¡å·¥ä¸š 0.5395020246505737
é‡å·¥ä¸š 0.537196695804596
é’¢é“ 0.5245063304901123
å·¥ä¸šé—äº§ 0.5208563804626465
é’¢é“å·¥ä¸š 0.5142995715141296
æ”¹æ•° 0.512413740158081
çººç»‡ä¸š 0.5109716653823853
è§„ä¸Šå·¥ä¸š 0.5082385540008545
</code></pre></div><p>ä»å››ä¸ªå¹´ä»£ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸­å›½äººæ°‘å¯¹äº ã€Œ<strong>å·¥ä¸š</strong>ã€çš„è®¤è¯†å‘ç”Ÿäº†å˜åŒ–ï¼Œ ç›¸æ¯”å»ºå›½åˆæœŸçš„ä¸€ç©·äºŒç™½ï¼Œå·¥å†œä¸šç­‰é¢†åŸŸç»æµå‡‹æ•ï¼› è€Œ2026å¹´çš„ã€Œ<strong>å·¥ä¸š</strong>ã€å·²å®ç°å·¥ä¸šç°ä»£åŒ–ï¼Œæ›´åŠ æ³¨åˆ¶é€ ä¸šã€æ™ºèƒ½åˆ¶é€ ã€å·¥ä¸šäº’è”ç½‘ã€è£…å¤‡åˆ¶é€ ä¸šç­‰æ¦‚å¿µã€‚</p>
<p><br><br></p>
<h2 id="äº”å¯¹é½æ¨¡å‹">äº”ã€å¯¹é½æ¨¡å‹</h2>
<h3 id="51--ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¯¹é½">5.1  ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¯¹é½?</h3>
<p>Word2Vecæ˜¯ä¸€ç§è¯åµŒå…¥ï¼ˆword embeddingï¼‰ç®—æ³•ï¼Œå®ƒå°†è¯è¯­æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ä¸­çš„å‘é‡ï¼Œä½¿å¾—è¯­ä¹‰ç›¸è¿‘çš„è¯åœ¨è¯¥ç©ºé—´ä¸­è·ç¦»è¾ƒè¿‘ã€‚ç„¶è€Œï¼Œä¸åŒå¹´ä»½çš„Word2Vecæ¨¡å‹åœ¨è®­ç»ƒæ—¶å¯èƒ½å—åˆ°ä¸åŒçš„è¯­æ–™åº“ã€è®­ç»ƒå‚æ•°ç­‰å› ç´ çš„å½±å“ï¼Œå¯¼è‡´å®ƒä»¬çš„å‘é‡ç©ºé—´ä¹‹é—´å­˜åœ¨ä¸€å®šçš„å·®å¼‚ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥æ‹¿ä¸åŒå¹´å¹´ä»½æ¨¡å‹ç›´æ¥è¿›è¡Œè¯­ä¹‰æ¯”è¾ƒã€‚</p>
<p><strong>Procrusteså¯¹é½ç®—æ³•ç›®çš„æ˜¯é€šè¿‡çº¿æ€§å˜æ¢æ¥ä½¿ä¸¤ä¸ªå‘é‡ç©ºé—´å°½å¯èƒ½åœ°å¯¹é½ï¼Œä»¥ä¾¿è¿›è¡Œæ¯”è¾ƒ</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°å¯¹ä¸¤ä¸ªå‘é‡ç©ºé—´è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾å’Œå¹³ç§»ç­‰å˜æ¢ï¼Œä½¿å®ƒä»¬åœ¨æŸç§æ„ä¹‰ä¸Šå°½é‡ä¸€è‡´ã€‚</p>
<p>å…·ä½“åŸå› åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>è¯æ±‡æ¼‚ç§»ï¼ˆLexical Driftï¼‰ï¼š</strong> éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¯æ±‡çš„å«ä¹‰å’Œä½¿ç”¨å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´ä¸åŒå¹´ä»½çš„è¯­æ–™åº“ä¸­çš„è¯è¯­å­˜åœ¨ä¸€å®šçš„æ¼‚ç§»ã€‚Procrustesåˆ†æå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯¹é½è¿™ç§æ¼‚ç§»ã€‚</li>
<li><strong>è®­ç»ƒå‚æ•°ä¸åŒï¼š</strong> Word2Vecæ¨¡å‹çš„è®­ç»ƒå‚æ•°ï¼Œå¦‚çª—å£å¤§å°ã€è¿­ä»£æ¬¡æ•°ç­‰ï¼Œå¯èƒ½åœ¨ä¸åŒå¹´ä»½æœ‰æ‰€ä¸åŒï¼Œå¯¼è‡´ç”Ÿæˆçš„å‘é‡ç©ºé—´å·®å¼‚è¾ƒå¤§ã€‚</li>
<li><strong>è¯­æ–™åº“çš„å·®å¼‚ï¼š</strong> ä¸åŒå¹´ä»½çš„è¯­æ–™åº“å¯èƒ½è¦†ç›–çš„ä¸»é¢˜ã€æ–‡ä½“ç­‰å­˜åœ¨å·®å¼‚ï¼Œè¿™ä¹Ÿä¼šå½±å“è¯å‘é‡çš„å­¦ä¹ ç»“æœã€‚</li>
</ol>
<p>é€šè¿‡Procrusteså¯¹é½ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³è¿™äº›é—®é¢˜ï¼Œä½¿å¾—ä¸åŒå¹´ä»½çš„Word2Vecæ¨¡å‹åœ¨è¯­ä¹‰ä¸Šæ›´å…·å¯æ¯”æ€§ã€‚è¿™æœ‰åŠ©äºåœ¨è·¨æ—¶é—´çš„è¯­æ–™åº“ä¸­è¿›è¡Œä¸€è‡´çš„è¯­ä¹‰åˆ†æã€‚</p>
<br>
<h3 id="52-å¯¹é½ä¹‹å">5.2 å¯¹é½ä¹‹å</h3>
<p>å¯¹é½åçš„Word2Vecæ¨¡å‹è¿›è¡Œçš„è¯­ä¹‰å˜è¿ç ”ç©¶ï¼š</p>
<ol>
<li><strong>è¯ä¹‰æ¼”å˜ï¼š</strong> æ¯”è¾ƒä¸åŒå¹´ä»½ç›¸åŒè¯æ±‡çš„è¯å‘é‡ï¼Œè§‚å¯Ÿå…¶åœ¨å‘é‡ç©ºé—´ä¸­çš„ä½ç½®å˜åŒ–ï¼Œåˆ†æè¯ä¹‰åœ¨è¯­ä¹‰ç©ºé—´ä¸­çš„æ¼”å˜è¶‹åŠ¿ã€‚</li>
<li><strong>è¯­å¢ƒå˜è¿ï¼š</strong> è€ƒå¯ŸåŒä¸€è¯è¯­åœ¨ä¸åŒå¹´ä»½çš„ä¸Šä¸‹æ–‡ä¸­çš„å˜åŒ–ï¼Œäº†è§£è¯è¯­åœ¨ä¸åŒè¯­å¢ƒä¸‹çš„è¯­ä¹‰æ¼”å˜æƒ…å†µã€‚</li>
<li><strong>ä¸»é¢˜å˜è¿ï¼š</strong> é€šè¿‡å¯¹é½åçš„å‘é‡ç©ºé—´ï¼Œåˆ†æä¸åŒå¹´ä»½è¯­æ–™åº“ä¸­è¯è¯­çš„ä¸»é¢˜åˆ†å¸ƒå˜åŒ–ï¼Œæ¢è®¨ç¤¾ä¼šã€æ–‡åŒ–å› ç´ å¯¹è¯­è¨€ä½¿ç”¨çš„å½±å“ã€‚</li>
<li><strong>æ—¶ä»£ç‰¹å¾åˆ†æï¼š</strong> é€šè¿‡å¯¹æ¯”ä¸åŒå¹´ä»½çš„æ¨¡å‹ï¼Œè¯†åˆ«å‡ºæ¯ä¸ªæ—¶æœŸåœ¨è¯å‘é‡ç©ºé—´ä¸­çš„ç‹¬ç‰¹ç‰¹å¾ï¼Œä»è€Œæ­ç¤ºæ—¶ä»£èƒŒæ™¯å¯¹è¯­ä¹‰çš„å½±å“ã€‚</li>
<li><strong>æ¢ç´¢æ–°å…´è¯æ±‡ï¼š</strong> é€šè¿‡å¯¹æ¯”ä¸åŒå¹´ä»½çš„æ¨¡å‹ï¼Œå‘ç°åœ¨è¯­ä¹‰ç©ºé—´ä¸­æ–°å…´è¯æ±‡çš„å‡ºç°å’Œæ¼”å˜ï¼Œäº†è§£æ–°å…´æ¦‚å¿µå’Œæ–‡åŒ–è¶‹åŠ¿ã€‚</li>
</ol>
<p>æ€»çš„æ¥è¯´ï¼Œé€šè¿‡å¯¹é½Word2Vecæ¨¡å‹ï¼Œä½ å¯ä»¥æ›´å‡†ç¡®åœ°æ¯”è¾ƒä¸åŒå¹´ä»½çš„è¯­æ–™åº“ï¼Œæ·±å…¥ç ”ç©¶è¯­ä¹‰çš„æ¼”å˜å’Œè¯­è¨€ä½¿ç”¨çš„å˜è¿ã€‚è¿™æœ‰åŠ©äºæ­ç¤ºç¤¾ä¼šã€æ–‡åŒ–ã€ç§‘æŠ€ç­‰æ–¹é¢çš„å‘å±•å¯¹è¯­è¨€è¡¨è¾¾çš„å½±å“ã€‚</p>
<br>
<h3 id="53-å¯¹é½ä»£ç ">5.3 å¯¹é½ä»£ç </h3>
<p>ä½¿ç”¨ <strong>cntext2.1.5</strong>ï¼Œæœªå…¬å¼€ï¼Œéœ€å¾®ä¿¡å¤§é‚“ 372335839 è´­ä¹°è·å–ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">glob</span>

<span class="c1"># åŸºå‡†æ¨¡å‹</span>
<span class="n">base_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/2026-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>

<span class="c1">#å°†å…¶ä»–æ¨¡å‹ä¸åŸºå‡†æ¨¡å‹å¯¹é½</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;output/*.bin&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">other_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">procrusted_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">procrustes_align</span><span class="p">(</span><span class="n">base_wv</span><span class="o">=</span><span class="n">base_wv</span><span class="p">,</span>
                                         <span class="n">other_wv</span><span class="o">=</span><span class="n">other_wv</span><span class="p">)</span>
    <span class="c1"># win</span>
    <span class="c1">#year = file.split(&#39;\\&#39;)[-1][:4]</span>
    
    <span class="c1"># mac</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="mi">4</span><span class="p">]</span>
    
    <span class="n">output_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;Aligned_Word2Vec&#39;</span><span class="p">)</span>
    <span class="n">output_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">procrusted_w2v</span><span class="o">.</span><span class="n">save_word2vec_format</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Aligned_Word2Vec/</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">.200.15.bin&#39;</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Loading output/2026-Word2Vec.200.15.bin...
output/1956-Word2Vec.200.15.bin
Loading output/1956-Word2Vec.200.15.bin...

output/2026-Word2Vec.200.15.bin
Loading output/2026-Word2Vec.200.15.bin...

output/2021-Word2Vec.200.15.bin
Loading output/2021-Word2Vec.200.15.bin...

output/1951-Word2Vec.200.15.bin
Loading output/1951-Word2Vec.200.15.bin...

output/1946-Word2Vec.200.15.bin
Loading output/1946-Word2Vec.200.15.bin...

output/2001-Word2Vec.200.15.bin
Loading output/2001-Word2Vec.200.15.bin...

output/1981-Word2Vec.200.15.bin
Loading output/1981-Word2Vec.200.15.bin...

output/1971-Word2Vec.200.15.bin
Loading output/1971-Word2Vec.200.15.bin...

output/1976-Word2Vec.200.15.bin
Loading output/1976-Word2Vec.200.15.bin...

output/2006-Word2Vec.200.15.bin
Loading output/2006-Word2Vec.200.15.bin...

output/1986-Word2Vec.200.15.bin
Loading output/1986-Word2Vec.200.15.bin...

output/1961-Word2Vec.200.15.bin
Loading output/1961-Word2Vec.200.15.bin...

output/2011-Word2Vec.200.15.bin
Loading output/2011-Word2Vec.200.15.bin...

output/1991-Word2Vec.200.15.bin
Loading output/1991-Word2Vec.200.15.bin...

output/2016-Word2Vec.200.15.bin
Loading output/2016-Word2Vec.200.15.bin...

output/1996-Word2Vec.200.15.bin
Loading output/1996-Word2Vec.200.15.bin...

output/1966-Word2Vec.200.15.bin
Loading output/1966-Word2Vec.200.15.bin...

CPU times: user 1min 8s, sys: 49.7 s, total: 1min 58s
Wall time: 46.3 s
</code></pre></div><p><img loading="lazy" src="img/03-align.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="å…­å®éªŒ-æ–‡åŒ–å˜è¿">å…­ã€å®éªŒ-æ–‡åŒ–å˜è¿</h2>
<p>æ—¶ä»£çš„å®£ä¼ å¿…ç„¶åœ¨è¯­ä¹‰ä¸­æ·±åˆ»çš„å½±å“ç¤¾ä¼šè®¤çŸ¥ï¼Œä¸åŒæ—¶ä»£è¯­æ–™ä¸­å¿…ç„¶è•´å«ç€ä¸åŒçš„æ–‡åŒ–ç‰¹å¾ï¼Œå¦‚è¯­ä¹‰è·ç¦»çš„å˜åŒ–ã€‚è¿™é‡Œæˆ‘æ¼”ç¤º ä¸¤ä¸ªå¯¹ç«‹è¯ç»„åˆ†åˆ«ä¸ç›®æ ‡è¯ç»„è¿›è¡Œè¯­ä¹‰è·ç¦»è®¡ç®—ï¼Œ æ ¹æ®è¯­ä¹‰è·ç¦»ååº”åˆ»æ¿å°è±¡æ€åº¦åè§ï¼Œå…¶å®è¿™ä¹Ÿåæ˜ äº†æ–‡åŒ–å˜è¿ã€‚</p>
<h3 id="61-æ€§åˆ«ä¸æˆåŠŸ">6.1 æ€§åˆ«ä¸æˆåŠŸ</h3>
<p>ç”·æ€§ã€å¥³æ€§ä¸æˆåŠŸä¹‹é—´çš„è¯­ä¹‰è·ç¦»</p>
<p><strong>cntext2.1.5</strong> å†…ç½®äº†ä¸¤ç§ç®—æ³•ï¼Œ è¯­ä¹‰æŠ•å½±å’Œè¯­ä¹‰è·ç¦»ï¼Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">distance = distance(å¥³, æˆåŠŸ) - distance(ç”·, æˆåŠŸ)
</code></pre></div><p>å¦‚æœdistanceè¶‹è¿‘äº0ï¼Œ ç”·å¥³åœ¨æˆåŠŸæ¦‚å¿µä¸Šè¯­ä¹‰æ¥è¿‘ï¼Œ æ— æ˜æ˜¾åˆ»æ¿å°è±¡ã€‚</p>
<p>ä½†æ˜¯å½“distanceæ˜æ˜¾å¤§äº0ï¼Œ å½“äººä»¬èŠåˆ°æˆåŠŸæ¦‚å¿µæ—¶ï¼Œæ›´å®¹æ˜“è”æƒ³åˆ°ç”·æ€§ï¼Œè€Œä¸æ˜¯å¥³æ€§ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">import pandas as pd
import glob

gender_suceess_data = []

words = [&#39;æˆåŠŸ&#39;, &#39;æˆå°±&#39;, &#39;èƒœåˆ©&#39;]
c_words1 = [&#39;å¥³&#39;, &#39;å¥³äºº&#39;, &#39;å¥¹&#39;, &#39;æ¯äº²&#39;, &#39;å¥³å„¿&#39;, &#39;å¥¶å¥¶&#39;]
c_words2 = [&#39;ç”·&#39;, &#39;ç”·äºº&#39;, &#39;ä»–&#39;, &#39;çˆ¶äº²&#39;, &#39;å„¿å­&#39;, &#39;çˆ·çˆ·&#39;]

# å½“å‰ä»£ç æ‰€å¤„æ–‡ä»¶ ä¸ Aligned_Word2Vec å¤„äºåŒä¸€æ–‡ä»¶å¤¹å†…
mfiles = sorted(glob.glob(&#39;Aligned_Word2Vec/*.bin&#39;))
for file in mfiles:
    distance = ct.sematic_distance(wv=ct.load_w2v(file),
                                   words=words, 
                                   c_words1=c_words1, 
                                   c_words2=c_words2)
    data = dict()
    data[&#39;year&#39;] = file.split(&#39;/&#39;)[-1][:4]
    data[&#39;distance&#39;] = distance
    gender_suceess_data.append(data)
    

gender_success_df = pd.DataFrame(gender_suceess_data)
gender_success_df
</code></pre></div><p><img loading="lazy" src="img/04-df.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib_inline</span>
<span class="n">matplotlib_inline</span><span class="o">.</span><span class="n">backend_inline</span><span class="o">.</span><span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;svg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">scienceplots</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;no-latex&#39;</span><span class="p">,</span> <span class="s1">&#39;cjk-sc-font&#39;</span><span class="p">])</span>
<span class="n">ct</span><span class="o">.</span><span class="n">matplotlib_chinese</span><span class="p">()</span> <span class="c1">#ä¸ºæ­£å¸¸æ˜¾ç¤ºä¸­æ–‡</span>

<span class="n">gender_suceess_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;æˆåŠŸ&#39;</span><span class="p">,</span> <span class="s1">&#39;æˆå°±&#39;</span><span class="p">,</span> <span class="s1">&#39;èƒœåˆ©&#39;</span><span class="p">]</span>
<span class="n">c_words1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¹&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¯äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³å„¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¶å¥¶&#39;</span><span class="p">]</span>
<span class="n">c_words2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ç”·&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;ä»–&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¶äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å„¿å­&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ·çˆ·&#39;</span><span class="p">]</span>

<span class="n">mfiles</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;Aligned_Word2Vec/*.bin&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">mfiles</span><span class="p">:</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">sematic_distance</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">file</span><span class="p">),</span>
                                   <span class="n">words</span><span class="o">=</span><span class="n">words</span><span class="p">,</span> 
                                   <span class="n">c_words1</span><span class="o">=</span><span class="n">c_words1</span><span class="p">,</span> 
                                   <span class="n">c_words2</span><span class="o">=</span><span class="n">c_words2</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance</span>
    <span class="n">gender_suceess_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    
<span class="n">gender_success_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">gender_suceess_data</span><span class="p">)</span>
<span class="n">gender_success_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;äººæ°‘æ—¥æŠ¥åœ¨ã€Œæˆå°±ã€æ¦‚å¿µçš„æ–‡åŒ–å˜è¿&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;å¤§äº0è¡¨ç¤ºç¤¾ä¼šæ›´å®¹æ˜“å°†æˆåŠŸä¸ç”·æ€§è”ç³»èµ·æ¥&#39;</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/04-gender.png" alt=""  />
</p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ æ–°ä¸­å›½åˆæœŸï¼Œ æˆ‘å›½çš„å¥³æ€§è§£æ”¾è¿åŠ¨åœ¨å…¨ä¸–ç•Œéƒ½æ˜¯é¢†å…ˆçš„ï¼Œæˆæœååˆ†å“è‘—ã€‚è€Œä»Šè€³ç†Ÿèƒ½è¯¦çš„å£å·æ°å¥½è¯´æ˜å½“æ—¶çš„å®£ä¼ å·²ç»åˆ»å…¥æ¯ä¸ªä¸­å›½äººçš„è®¤çŸ¥ä¸­ï¼Œå¦‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- è°è¯´å¥³å­ä¸å¦‚ç”·
- ä¸çˆ±çº¢è£…çˆ±æ­¦è£…
- å¥³äººæ’‘èµ·åŠè¾¹å¤©
...
</code></pre></div><br>
<p>æåˆ°ã€ŒæˆåŠŸæ¦‚å¿µã€æ—¶ï¼Œåœ¨æ–°ä¸­å›½åˆæœŸï¼Œç”±äºç ´é™¤æ€§åˆ«åˆ»æ¿å°è±¡ï¼Œå®£ä¼ æ›´åŠ ä¸­æ€§ï¼Œ ç«‹æ¦œæ ·è€ƒè™‘äº†æ€§åˆ«çš„å¹³è¡¡ã€‚è€Œéšç€æ—¶é—´æ¨ç§»ï¼Œå£å·å¼çš„å®£ä¼ è¿åŠ¨æ²‰å¯‚åï¼Œ å†å²çš„æƒ¯æ€§(ä¼ ç»Ÿæ–‡åŒ–çš„åŸºå› )å¯èƒ½ä¼šé‡æ–°å¤æ´»ï¼Œ æåˆ°ã€ŒæˆåŠŸæ¦‚å¿µã€æ—¶ï¼Œç¤¾ä¼šæ›´å®¹æ˜“å°†ã€ŒæˆåŠŸã€ä¸ã€Œç”·æ€§ã€è”ç³»èµ·æ¥ã€‚</p>
<br>
<h3 id="52-æ€§åˆ«ä¸è´£ä»»">5.2 æ€§åˆ«ä¸è´£ä»»</h3>
<p>æˆå°±ä¸ç”·æ€§æœ‰æ›´é«˜çš„å…³è”ï¼Œ èƒŒåæ˜¯å¦æ„å‘³ç€ä¼ ç»Ÿæ–‡åŒ–å»ºæ„çš„ç¤¾ä¼šè¦æ±‚ç”·æ€§æ‰¿æ‹…è¿œå¤šäºå¥³æ€§çš„è´£ä»»ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib_inline</span>
<span class="n">matplotlib_inline</span><span class="o">.</span><span class="n">backend_inline</span><span class="o">.</span><span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;svg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">scienceplots</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;no-latex&#39;</span><span class="p">,</span> <span class="s1">&#39;cjk-sc-font&#39;</span><span class="p">])</span>
<span class="n">ct</span><span class="o">.</span><span class="n">matplotlib_chinese</span><span class="p">()</span> <span class="c1">#ä¸ºæ­£å¸¸æ˜¾ç¤ºä¸­æ–‡</span>

<span class="n">gender_responsibility_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">words</span> <span class="o">=</span>   <span class="p">[</span><span class="s1">&#39;è´£ä»»&#39;</span><span class="p">,</span> <span class="s1">&#39;é‡æ‹…&#39;</span><span class="p">,</span> <span class="s1">&#39;æ‹…å½“&#39;</span><span class="p">]</span>
<span class="n">c_words1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¹&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¯äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³å„¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¶å¥¶&#39;</span><span class="p">]</span>
<span class="n">c_words2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ç”·&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;ä»–&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¶äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å„¿å­&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ·çˆ·&#39;</span><span class="p">]</span>

<span class="n">mfiles</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;Aligned_Word2Vec/*.bin&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">mfiles</span><span class="p">:</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">sematic_distance</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">file</span><span class="p">),</span>
                                   <span class="n">words</span><span class="o">=</span><span class="n">words</span><span class="p">,</span> 
                                   <span class="n">c_words1</span><span class="o">=</span><span class="n">c_words1</span><span class="p">,</span> 
                                   <span class="n">c_words2</span><span class="o">=</span><span class="n">c_words2</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance</span>
    <span class="n">gender_responsibility_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    
<span class="n">gender_responsibility_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">gender_responsibility_data</span><span class="p">)</span>
<span class="n">gender_responsibility_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;äººæ°‘æ—¥æŠ¥åœ¨ã€Œè´£ä»»ã€è¯­ä¹‰çš„æ–‡åŒ–å˜è¿&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;å¤§äº0è¡¨ç¤ºç¤¾ä¼šæ›´å®¹æ˜“å°†ã€Œè´£ä»»ã€ä¸ç”·æ€§è”ç³»èµ·æ¥&#39;</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/05-responsibility.png" alt=""  />
</p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤§å¤šæ•°å¹´ä»½ï¼Œ distanceæ˜¯å¤§äº0çš„ï¼Œå³ æåˆ°ã€Œè´£ä»»ã€æ¦‚å¿µæ—¶ï¼Œç¤¾ä¼šæ›´å®¹æ˜“è”æƒ³åˆ°ã€Œç”·æ€§ã€ï¼Œè€Œä¸æ˜¯ã€Œå¥³æ€§ã€ã€‚</p>
<p><br><br></p>
<h2 id="ä¸ƒè·å–èµ„æº">ä¸ƒã€è·å–èµ„æº</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹   Word2Vec          https://pan.baidu.com/s/1Ru_wxu9egsmhM7lATjSlgQ?pwd=bcea

- å…è´¹   Aligned_Word2Vec  https://pan.baidu.com/s/1IVgP0MyQpez0hpoJyEyFdA?pwd=7qsu

- 100å…ƒ  cntext-2.1.5-py3-none-any.whl  å¦‚æœ‰éœ€è¦ï¼ŒåŠ å¾®ä¿¡ 372335839 ï¼Œå¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div><br>
<br>
<h2 id="å…«ç›¸å…³å†…å®¹">å…«ã€ç›¸å…³å†…å®¹</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[1]å†‰é›…ç’‡,æå¿—å¼º,åˆ˜ä½³å¦®,å¼ é€¸çŸ³.å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨[J].å—å¼€ç®¡ç†è¯„è®º:1-27.
[2]Hamilton, William L., Jure Leskovec, and Dan Jurafsky. &#34;Diachronic word embeddings reveal statistical laws of semantic change.&#34; arXiv preprint arXiv:1605.09096 (2016).
[3]Garg, Nikhil, Londa Schiebinger, Dan Jurafsky, and James Zou. &#34;Word embeddings quantify 100 years of gender and ethnic stereotypes.&#34; Proceedings of the National Academy of Sciences 115, no. 16 (2018): E3635-E3644.
[3]Aceves, Pedro, and James A. Evans. â€œMobilizing conceptual spaces: How word embedding models can inform measurement and theory within organization science.â€ Organization Science (2023).
[4]Kozlowski, A.C., Taddy, M. and Evans, J.A., 2019. The geometry of culture: Analyzing the meanings of class through word embeddings. American Sociological Review, 84(5), pp.905-949.
</code></pre></div><br>
<ul>
<li><a href="https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/">OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯</a></li>
<li><a href="https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/">è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§39ä¸ªFAQæ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2022-04-09-literature-about-embeddings/">æ–‡çŒ®æ±‡æ€» | è¯åµŒå…¥ ä¸ ç¤¾ä¼šç§‘å­¦ä¸­çš„åè§(æ€åº¦)</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">è¯å‘é‡  | ä½¿ç”¨<strong>äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿</strong>è¯­æ–™è®­ç»ƒWord2Vecæ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ GloVe æ¨¡å‹</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>è¯å‘é‡ | ä½¿ç”¨1985å¹´-2025å¹´ä¸“åˆ©ç”³è¯·æ‘˜è¦è®­ç»ƒ Word2Vec æ¨¡å‹</title>
      <link>https://textdata.cn/blog/2023-11-10-training-word2vec-model-using-china-3751w-patent-application-dataset/</link>
      <pubDate>Thu, 03 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-11-10-training-word2vec-model-using-china-3751w-patent-application-dataset/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-04-13-3571w-patent-dataset-in-china-mainland/&#34;&gt;&lt;strong&gt;5112ä¸‡æ¡ä¸“åˆ©ç”³è¯·æ•°æ®é›†(1985-2025å¹´)&lt;/strong&gt;&lt;/a&gt; ä¸­éšæœºæŠ½å–äº†30%çš„ ã€Œ&lt;strong&gt;ä¸“åˆ©æ‘˜è¦&lt;/strong&gt;ã€ï¼Œæ„æˆ6.14Gçš„è®­ç»ƒè¯­æ–™(åƒä¸‡çº§åˆ«)ï¼Œ è€—æ—¶6å°æ—¶ï¼Œè®­ç»ƒå¾—åˆ°word2vecæ¨¡å‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„ï¼Œ 100%å…¨éƒ¨è¯­æ–™æœ‰30+Gï¼Œ è®­ç»ƒæ—¶é—´éå¸¸é•¿ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•ï¼Œæˆ‘ä¸ä¼šä¼˜åŒ–ä»£ç æ€§èƒ½ï¼Œæ‰€ä»¥åªèƒ½æŠ½å– 30% çš„æ–‡æœ¬æ•°æ®æ¥è®­ç»ƒword2vec ï¼Œè¯­æ–™ä½“ç§¯å¤§æ¦‚10Gã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;p&gt;æœ¬æ–‡éœ€è¦ç”¨åˆ°æ–°cntextï¼Œå› ä¸ºbugè¾ƒå¤šï¼Œ ç›´æ¥ä¸Šä¼ åˆ°PyPiï¼Œå°†å¯¼è‡´ä¹‹å‰åˆ¶ä½œçš„è¯¾ç¨‹å’Œå…¬ä¼—å·æ¨æ–‡ç›¸å…³å†…å®¹å…¨éƒ¨é‡æ–°ä¸€éã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸€è¯­æ–™æ„å»º&#34;&gt;ä¸€ã€è¯­æ–™æ„å»º&lt;/h2&gt;
&lt;p&gt;éšæœºæŠ½å–20%çš„è®°å½•ï¼Œæ„æˆåƒä¸‡ä¸“åˆ©æ–‡æœ¬æ‘˜è¦è®­ç»ƒè¯­æ–™ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢ç”µè„‘å†…å­˜çˆ†ç‚¸ï¼Œ å¯¹ä»»æ„å•ä¸ªå¤§csvæ–‡ä»¶ï¼Œåˆ†æ‰¹æ¬¡è¯»å–ï¼Œæ¯æ¬¡è¯»10wè¡Œã€‚æœ€ç»ˆå°†ä¸“åˆ©æ‘˜è¦æ–‡æœ¬ä¿å­˜åˆ°txtæ–‡ä»¶ä¸­ï¼Œç¼–ç æ–¹å¼ä¸ºutf-8ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæƒ³å¼€å‘ä¸€äº›è¯å…¸ï¼Œå¯ä»¥è·³è¿‡æ­¤éƒ¨åˆ†å†…å®¹ï¼Œå¹¶ä¸å½±å“ä»£ç è¿è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/screen-datasets.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å°†ä»£ç æ”¾åœ¨csvæ•°æ®æ–‡ä»¶å¤¹å†…&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;re&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸“åˆ©æ‘˜è¦.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# è·å¾—å½“å‰æ–‡ä»¶å¤¹å†…æ‰€æœ‰çš„csvæ–‡ä»¶è·¯å¾„&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;chunk_dfs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸­å›½ä¸“åˆ©æ•°æ®åº“.csv.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;usecols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸“åˆ©åç§°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ‘˜è¦æ–‡æœ¬&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;chunksize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;# å‰”é™¤ä¸“åˆ©æ‘˜è¦ä¸ºç©ºçš„è®°å½•&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;sample_df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chunk_df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frac&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;raw_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample_df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ‘˜è¦æ–‡æœ¬&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;))&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;raw_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€ç»ˆå¾—åˆ°çš„ &lt;strong&gt;ä¸“åˆ©æ‘˜è¦.txt&lt;/strong&gt;  æ–‡ä»¶æœ‰ 10G&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒè®­ç»ƒword2vec&#34;&gt;äºŒã€è®­ç»ƒword2vec&lt;/h2&gt;
&lt;h3 id=&#34;21-å®‰è£…&#34;&gt;2.1 å®‰è£…&lt;/h3&gt;
&lt;p&gt;å°† &lt;em&gt;&lt;strong&gt;cntext-2.1.6-py3-none-any.whl&lt;/strong&gt;&lt;/em&gt; æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ &lt;em&gt;&lt;strong&gt;cmd&lt;/strong&gt;&lt;/em&gt;  (è‹¹æœç”µè„‘æ‰“å¼€terminal)ï¼Œ è¾“å…¥cd desktop&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹ååœ¨ &lt;em&gt;&lt;strong&gt;cmd&lt;/strong&gt;&lt;/em&gt;  (è‹¹æœç”µè„‘æ‰“å¼€terminal) ä¸­ä½¿ç”¨ &lt;em&gt;&lt;strong&gt;pip3&lt;/strong&gt;&lt;/em&gt; å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install cntext-2.1.6-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡æœ«æœ‰ &lt;em&gt;&lt;strong&gt;cntext-2.1.6-py3-none-any.whl&lt;/strong&gt;&lt;/em&gt; è·å–æ–¹å¼&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;22-è®­ç»ƒ-word2vec&#34;&gt;2.2 è®­ç»ƒ Word2Vec&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cntextä¸º2.1.6&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Word2Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸“åˆ©æ‘˜è¦.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# è¯å‘é‡ç»´åº¦&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# çª—å£å¤§å°&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;chunksize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# æ¯æ¬¡è¯»å–10000è¡Œ&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Mac(Linux) System, Enable Parallel Processing
Cache output/ä¸“åˆ©æ‘˜è¦_cache.txt Not Found or Empty, Preprocessing Corpus

Reading Preprocessed Corpus from output/ä¸“åˆ©æ‘˜è¦_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 8816 s. 
Output Saved To: output/ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ•´ç†è®­ç»ƒè¿‡ç¨‹ 2.5 å°æ—¶ï¼Œ è®­ç»ƒç»“æŸåå¾—åˆ° &lt;em&gt;&lt;strong&gt;output&lt;/strong&gt;&lt;/em&gt; æ–‡ä»¶å¤¹ï¼Œ é‡Œé¢æœ‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;output/ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin&lt;/strong&gt;&lt;/em&gt;  æ¨¡å‹æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;ä¸“åˆ©æ‘˜è¦_cache.txt&lt;/strong&gt;&lt;/em&gt;                   è®­ç»ƒç¼“å­˜æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;h3 id=&#34;23-è¯„ä¼°æ¨¡å‹&#34;&gt;2.3 è¯„ä¼°æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹&lt;a href=&#34;https://cntext.readthedocs.io/zh-cn/latest/model.html&#34;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_similarity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_analogy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&amp;#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   427    |    110     |            0.46            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&amp;lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   238    |    439     |    3.78    |   5.67   |
|   CityInProvince   |   175    |     0      |   25.14    |   4.48   |
| FamilyRelationship |   156    |    116     |   33.33    |   2.29   |
|   SocialScience    |    8     |     62     |   37.50    |   2.33   |
+--------------------+----------+------------+------------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è¿‘ä¹‰æµ‹è¯•&lt;/strong&gt;: Spearman&amp;rsquo;s Rank Coeficientç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;strong&gt;ç±»æ¯”æµ‹è¯•&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CapitalOfCountries   ä¸“åˆ©è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¾ˆå·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§å›½å®¶é¦–åº¦çš„æåŠè¾ƒå°‘ã€‚&lt;/li&gt;
&lt;li&gt;CityInProvince       ä¸“åˆ©è¯­æ–™åœ¨æ­¤é¡¹å¥½äºCapitalOfCountriesï¼Œ æ¯•ç«Ÿåœ¨ä¸­å›½å¤§åœ°è¿›è¡Œç§‘åˆ›ã€‚&lt;/li&gt;
&lt;li&gt;FamilyRelationship   ä¸“åˆ©è¯­æ–™ä¸­æ²¡æƒ³åˆ°åœ¨æ­¤é¡¹å‡†ç¡®ç‡ä¸­æ˜¾è‘—å¤§äº0ï¼Œ æˆ‘åŸæœ¬ä»¥ä¸ºå‡†ç¡®ç‡ä¸º0ï¼Œæ¯•ç«Ÿä¸“åˆ©æ‘˜è¦ä¸­å‡ºç°å®¶äººç®¡ç†ä¸å¤ªæŠ€æœ¯ã€‚æ²¡æƒ³åˆ°æ²¡æƒ³åˆ°å•Šã€‚ å‘æ˜å¯èƒ½ç±»ä¼¼äºç”µå½±éè¯šå‹¿æ‰°é‡Œè§£å†³äººç±»é—®é¢˜çš„ä¾‹å­ï¼Œå‘æ˜å¾ˆé›·äººã€‚&lt;/li&gt;
&lt;li&gt;SocialScience        ä¸“åˆ©è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•´ä½“è€Œè¨€ï¼Œåœ¨å››ä¸ªç»´åº¦å‡†ç¡®ç‡è¾ƒä½ã€‚ ä½†æ˜¯éœ€è¦è¯´æ˜ï¼Œ è¿™å››ä¸ªç»´åº¦æ˜¯å¤§é‚“è‡ªå·±æ”¶é›†çš„ï¼Œè¯„åˆ¤æ¨¡å‹ç±»æ¯”è¡¨ç°ç»´åº¦æœ‰å¾ˆå¤šï¼Œ æœ‰å¯èƒ½ä¸“åˆ©æ‘˜è¦åœ¨åˆ«çš„ç±»æ¯”ç»´åº¦ä¸Šè¡¨ç°ä¼šå¾ˆå¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä½¿ç”¨è¯å‘é‡&#34;&gt;ä¸‰ã€ä½¿ç”¨è¯å‘é‡&lt;/h2&gt;
&lt;h3 id=&#34;31-å½•å…¥æ¨¡å‹&#34;&gt;3.1 å½•å…¥æ¨¡å‹&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Loading ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin...
&amp;lt;gensim.models.keyedvectors.KeyedVectors at 0x32b079340&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-keyedvectorsçš„æ“ä½œæ–¹æ³•æˆ–å±æ€§&#34;&gt;3.2 KeyedVectorsçš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.index_to_key&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.key_to_index&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.vector_size&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–GloVeæ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.get_vector(word)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.most_similar(words, topn=10)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–æŸç±»è¯(list)æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.similar_by_word(word, topn=10)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.similar_by_vector(vector, topn=10)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;h3 id=&#34;33-è¯æ±‡é‡ç»´åº¦æ•°&#34;&gt;3.3 è¯æ±‡é‡&amp;amp;ç»´åº¦æ•°&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹æ¨¡å‹ä¸­çš„è¯æ±‡é‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;print(f&amp;#39;è¯æ±‡é‡: {len(w2v)}&amp;#39;)
print(f&amp;#39;ç»´åº¦æ•°: {w2v.vector_size}&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¯æ±‡é‡: 1059801
ç»´åº¦æ•°: 200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;34-æŸ¥çœ‹è¯å‘é‡&#34;&gt;3.4 æŸ¥çœ‹è¯å‘é‡&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹ä»»æ„è¯çš„è¯å‘é‡ï¼Œä¾‹å¦‚â€œ&lt;strong&gt;â€äººå·¥æ™ºèƒ½â€&lt;/strong&gt;â€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹ â€äººå·¥æ™ºèƒ½â€ çš„è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;äººå·¥æ™ºèƒ½&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([-1.1817173 , -2.1371903 , -3.0181015 ,  1.7000161 , -3.081852  ,
        3.554449  , -0.22385244,  3.6647737 , -3.7086377 , -1.4868759 ,
       -0.7706527 ,  5.9335155 ,  2.8328223 , -1.7995875 , -6.051175  ,
       -0.91756725, -4.15509   , -1.6975762 , -4.5753274 , -3.022245  ,
       ......
       -2.0807118 , -3.4522808 ,  4.29429   , -1.712142  , -1.6512033 ,
        2.625037  , -3.4015207 ,  1.3526493 , -0.7858534 , -1.6782432 ,
       -3.1669524 , -2.6371615 , -1.5394825 ,  3.101744  ,  0.44502366,
       -1.4104489 , -0.01298253, -4.217453  , -0.92512876,  0.10754411],
      dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;35-æœ€ç›¸ä¼¼è¯&#34;&gt;3.5 æœ€ç›¸ä¼¼è¯&lt;/h3&gt;
&lt;p&gt;ä¸&amp;rsquo;åˆ›æ–°&#39;, &amp;lsquo;é¢ è¦†&amp;rsquo;æœ€ç›¸ä¼¼çš„20ä¸ªè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;# è¯è¯­åˆ—è¡¨ä¸­å¯ä¼ å…¥ä»»æ„å¤šä¸ªè¯ï¼Œ
# å¤§é‚“è¯ç©·ï¼Œåªæƒ³åˆ°è¿™ä¸¤ä¸ªç›¸ä¼¼çš„ç§å­è¯
w2v.most_similar([&amp;#39;åˆ›æ–°&amp;#39;, &amp;#39;é¢ è¦†&amp;#39;], topn=20)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;é©æ–°&amp;#39;, 0.7983665466308594),
 (&amp;#39;æ”¹é©&amp;#39;, 0.7454208731651306),
 (&amp;#39;å˜é©&amp;#39;, 0.7136300206184387),
 (&amp;#39;å…¨æ–°&amp;#39;, 0.707391619682312),
 (&amp;#39;å½»åº•æ”¹å˜&amp;#39;, 0.7064372301101685),
 (&amp;#39;åˆ›é€ æ€§&amp;#39;, 0.6960274577140808),
 (&amp;#39;é¢ è¦†æ€§&amp;#39;, 0.6874485611915588),
 (&amp;#39;æœ‰åˆ«äº&amp;#39;, 0.6775000095367432),
 (&amp;#39;åŠ ä»¥æ”¹è¿›&amp;#39;, 0.6736693978309631),
 (&amp;#39;æ‘’å¼ƒ&amp;#39;, 0.6716011762619019),
 (&amp;#39;ç‹¬åˆ›&amp;#39;, 0.6609643697738647),
 (&amp;#39;é¢ è¦†ä¼ ç»Ÿ&amp;#39;, 0.6604534983634949),
 (&amp;#39;å¼€åˆ›&amp;#39;, 0.6531570553779602),
 (&amp;#39;æ ¸å¿ƒæŠ€æœ¯&amp;#39;, 0.6419240236282349),
 (&amp;#39;å½»åº•é¢ è¦†&amp;#39;, 0.6397384405136108),
 (&amp;#39;æŠ€æœ¯åˆ›æ–°&amp;#39;, 0.6390863060951233),
 (&amp;#39;çªç ´æ€§&amp;#39;, 0.6368305087089539),
 (&amp;#39;å¤§èƒ†&amp;#39;, 0.6357517242431641),
 (&amp;#39;æŠ€æœ¯é©æ–°&amp;#39;, 0.6347700357437134),
 (&amp;#39;æ²¿ç”¨&amp;#39;, 0.6328355669975281)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;åˆšåˆšçš„è¿è¡Œï¼Œä½“ç°æ¨¡å‹å¾ˆå¥½çš„å­¦ä¹ åˆ°äº†ä¸“åˆ©æ‘˜è¦ä¸­çš„è¯­ä¹‰å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘æƒ³å¼€å‘ä¸‰ä¸ªè¯å…¸ï¼Œåˆ†åˆ«æ˜¯ &lt;strong&gt;åˆ›æ–°&lt;/strong&gt;ã€&lt;strong&gt;æˆæœ¬&lt;/strong&gt;ã€&lt;strong&gt;è´¨é‡&lt;/strong&gt; ï¼Œæƒ³ç›´æ¥å°†ç»“æœä¿å­˜åˆ°txtä¸­ï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹ä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;seeds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°æ¦‚å¿µ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åˆ›æ–°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é¢ è¦†&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
         &lt;span class=&#34;s1&#34;&gt;&amp;#39;æˆæœ¬æ¦‚å¿µ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æˆæœ¬&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
         &lt;span class=&#34;s1&#34;&gt;&amp;#39;è´¨é‡æ¦‚å¿µ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;è´¨é‡&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;expand_dictionary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;          &lt;span class=&#34;c1&#34;&gt;# word2vecè¯å‘é‡&lt;/span&gt;
                     &lt;span class=&#34;n&#34;&gt;seeddict&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;seeds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# ç§å­è¯å­—å…¸&lt;/span&gt;
                     &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;# ä¿ç•™20ä¸ªæœ€ç›¸ä¼¼çš„è¯&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Finish! åˆ›æ–°æ¦‚å¿µ candidates saved to output/åˆ›æ–°æ¦‚å¿µ.txt
Finish! æˆæœ¬æ¦‚å¿µ candidates saved to output/æˆæœ¬æ¦‚å¿µ.txt
Finish! è´¨é‡æ¦‚å¿µ candidates saved to output/è´¨é‡æ¦‚å¿µ.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/similar-words.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››è·å–èµ„æº&#34;&gt;å››ã€è·å–èµ„æº&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- å…è´¹     ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin é“¾æ¥: https://pan.baidu.com/s/1LKebAWL5fzjUVo_MR7dVug?pwd=a56c æå–ç : a56c

- 100å…ƒ   cntext-2.1.6-py3-none-any.whl   å¦‚æœ‰éœ€è¦ï¼ŒåŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p><a href="https://textdata.cn/blog/2023-04-13-3571w-patent-dataset-in-china-mainland/"><strong>5112ä¸‡æ¡ä¸“åˆ©ç”³è¯·æ•°æ®é›†(1985-2025å¹´)</strong></a> ä¸­éšæœºæŠ½å–äº†30%çš„ ã€Œ<strong>ä¸“åˆ©æ‘˜è¦</strong>ã€ï¼Œæ„æˆ6.14Gçš„è®­ç»ƒè¯­æ–™(åƒä¸‡çº§åˆ«)ï¼Œ è€—æ—¶6å°æ—¶ï¼Œè®­ç»ƒå¾—åˆ°word2vecæ¨¡å‹ã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„ï¼Œ 100%å…¨éƒ¨è¯­æ–™æœ‰30+Gï¼Œ è®­ç»ƒæ—¶é—´éå¸¸é•¿ã€‚</p>
<p>æ²¡åŠæ³•ï¼Œæˆ‘ä¸ä¼šä¼˜åŒ–ä»£ç æ€§èƒ½ï¼Œæ‰€ä»¥åªèƒ½æŠ½å– 30% çš„æ–‡æœ¬æ•°æ®æ¥è®­ç»ƒword2vec ï¼Œè¯­æ–™ä½“ç§¯å¤§æ¦‚10Gã€‚</p>
</blockquote>
<br>
<p>æœ¬æ–‡éœ€è¦ç”¨åˆ°æ–°cntextï¼Œå› ä¸ºbugè¾ƒå¤šï¼Œ ç›´æ¥ä¸Šä¼ åˆ°PyPiï¼Œå°†å¯¼è‡´ä¹‹å‰åˆ¶ä½œçš„è¯¾ç¨‹å’Œå…¬ä¼—å·æ¨æ–‡ç›¸å…³å†…å®¹å…¨éƒ¨é‡æ–°ä¸€éã€‚</p>
<p><br><br></p>
<h2 id="ä¸€è¯­æ–™æ„å»º">ä¸€ã€è¯­æ–™æ„å»º</h2>
<p>éšæœºæŠ½å–20%çš„è®°å½•ï¼Œæ„æˆåƒä¸‡ä¸“åˆ©æ–‡æœ¬æ‘˜è¦è®­ç»ƒè¯­æ–™ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢ç”µè„‘å†…å­˜çˆ†ç‚¸ï¼Œ å¯¹ä»»æ„å•ä¸ªå¤§csvæ–‡ä»¶ï¼Œåˆ†æ‰¹æ¬¡è¯»å–ï¼Œæ¯æ¬¡è¯»10wè¡Œã€‚æœ€ç»ˆå°†ä¸“åˆ©æ‘˜è¦æ–‡æœ¬ä¿å­˜åˆ°txtæ–‡ä»¶ä¸­ï¼Œç¼–ç æ–¹å¼ä¸ºutf-8ã€‚</p>
<blockquote>
<p>å¦‚æœæƒ³å¼€å‘ä¸€äº›è¯å…¸ï¼Œå¯ä»¥è·³è¿‡æ­¤éƒ¨åˆ†å†…å®¹ï¼Œå¹¶ä¸å½±å“ä»£ç è¿è¡Œã€‚</p>
</blockquote>
<p><img loading="lazy" src="img/screen-datasets.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># å°†ä»£ç æ”¾åœ¨csvæ•°æ®æ–‡ä»¶å¤¹å†…</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸“åˆ©æ‘˜è¦.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">corpus_file</span><span class="p">:</span>
    <span class="c1"># è·å¾—å½“å‰æ–‡ä»¶å¤¹å†…æ‰€æœ‰çš„csvæ–‡ä»¶è·¯å¾„</span>
    <span class="n">chunk_dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;ä¸­å›½ä¸“åˆ©æ•°æ®åº“.csv.gz&#39;</span><span class="p">,</span> 
                            <span class="n">usecols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ä¸“åˆ©åç§°&#39;</span><span class="p">,</span> <span class="s1">&#39;æ‘˜è¦æ–‡æœ¬&#39;</span><span class="p">],</span> 
                            <span class="n">chunksize</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">chunk_df</span> <span class="ow">in</span> <span class="n">chunk_dfs</span><span class="p">:</span>
        <span class="c1"># å‰”é™¤ä¸“åˆ©æ‘˜è¦ä¸ºç©ºçš„è®°å½•</span>
        <span class="n">sample_df</span> <span class="o">=</span> <span class="n">chunk_df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
        <span class="n">raw_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sample_df</span><span class="p">[</span><span class="s1">&#39;æ‘˜è¦æ–‡æœ¬&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;))</span>
        <span class="n">corpus_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>
</code></pre></div><p>æœ€ç»ˆå¾—åˆ°çš„ <strong>ä¸“åˆ©æ‘˜è¦.txt</strong>  æ–‡ä»¶æœ‰ 10G<br><br></p>
<h2 id="äºŒè®­ç»ƒword2vec">äºŒã€è®­ç»ƒword2vec</h2>
<h3 id="21-å®‰è£…">2.1 å®‰è£…</h3>
<p>å°† <em><strong>cntext-2.1.6-py3-none-any.whl</strong></em> æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ <em><strong>cmd</strong></em>  (è‹¹æœç”µè„‘æ‰“å¼€terminal)ï¼Œ è¾“å…¥cd desktop</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¹‹ååœ¨ <em><strong>cmd</strong></em>  (è‹¹æœç”µè„‘æ‰“å¼€terminal) ä¸­ä½¿ç”¨ <em><strong>pip3</strong></em> å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext-2.1.6-py3-none-any.whl
</code></pre></div><p>æ–‡æœ«æœ‰ <em><strong>cntext-2.1.6-py3-none-any.whl</strong></em> è·å–æ–¹å¼</p>
<br>
<h3 id="22-è®­ç»ƒ-word2vec">2.2 è®­ç»ƒ Word2Vec</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># cntextä¸º2.1.6</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">w2v_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;ä¸“åˆ©æ‘˜è¦.txt&#39;</span><span class="p">,</span>
                        <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                        <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="c1"># è¯å‘é‡ç»´åº¦</span>
                        <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="c1"># çª—å£å¤§å°</span>
                        <span class="n">chunksize</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span> <span class="c1"># æ¯æ¬¡è¯»å–10000è¡Œ</span>

</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/ä¸“åˆ©æ‘˜è¦_cache.txt Not Found or Empty, Preprocessing Corpus

Reading Preprocessed Corpus from output/ä¸“åˆ©æ‘˜è¦_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 8816 s. 
Output Saved To: output/ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin
</code></pre></div><p>æ•´ç†è®­ç»ƒè¿‡ç¨‹ 2.5 å°æ—¶ï¼Œ è®­ç»ƒç»“æŸåå¾—åˆ° <em><strong>output</strong></em> æ–‡ä»¶å¤¹ï¼Œ é‡Œé¢æœ‰</p>
<ul>
<li><em><strong>output/ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin</strong></em>  æ¨¡å‹æ–‡ä»¶</li>
<li><em><strong>ä¸“åˆ©æ‘˜è¦_cache.txt</strong></em>                   è®­ç»ƒç¼“å­˜æ–‡ä»¶</li>
</ul>
<br>
<h3 id="23-è¯„ä¼°æ¨¡å‹">2.3 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>

<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   427    |    110     |            0.46            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   238    |    439     |    3.78    |   5.67   |
|   CityInProvince   |   175    |     0      |   25.14    |   4.48   |
| FamilyRelationship |   156    |    116     |   33.33    |   2.29   |
|   SocialScience    |    8     |     62     |   37.50    |   2.33   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p><strong>è¿‘ä¹‰æµ‹è¯•</strong>: Spearman&rsquo;s Rank Coeficientç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚</p>
<br>
<p><strong>ç±»æ¯”æµ‹è¯•</strong>:</p>
<ul>
<li>CapitalOfCountries   ä¸“åˆ©è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¾ˆå·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§å›½å®¶é¦–åº¦çš„æåŠè¾ƒå°‘ã€‚</li>
<li>CityInProvince       ä¸“åˆ©è¯­æ–™åœ¨æ­¤é¡¹å¥½äºCapitalOfCountriesï¼Œ æ¯•ç«Ÿåœ¨ä¸­å›½å¤§åœ°è¿›è¡Œç§‘åˆ›ã€‚</li>
<li>FamilyRelationship   ä¸“åˆ©è¯­æ–™ä¸­æ²¡æƒ³åˆ°åœ¨æ­¤é¡¹å‡†ç¡®ç‡ä¸­æ˜¾è‘—å¤§äº0ï¼Œ æˆ‘åŸæœ¬ä»¥ä¸ºå‡†ç¡®ç‡ä¸º0ï¼Œæ¯•ç«Ÿä¸“åˆ©æ‘˜è¦ä¸­å‡ºç°å®¶äººç®¡ç†ä¸å¤ªæŠ€æœ¯ã€‚æ²¡æƒ³åˆ°æ²¡æƒ³åˆ°å•Šã€‚ å‘æ˜å¯èƒ½ç±»ä¼¼äºç”µå½±éè¯šå‹¿æ‰°é‡Œè§£å†³äººç±»é—®é¢˜çš„ä¾‹å­ï¼Œå‘æ˜å¾ˆé›·äººã€‚</li>
<li>SocialScience        ä¸“åˆ©è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œåœ¨å››ä¸ªç»´åº¦å‡†ç¡®ç‡è¾ƒä½ã€‚ ä½†æ˜¯éœ€è¦è¯´æ˜ï¼Œ è¿™å››ä¸ªç»´åº¦æ˜¯å¤§é‚“è‡ªå·±æ”¶é›†çš„ï¼Œè¯„åˆ¤æ¨¡å‹ç±»æ¯”è¡¨ç°ç»´åº¦æœ‰å¾ˆå¤šï¼Œ æœ‰å¯èƒ½ä¸“åˆ©æ‘˜è¦åœ¨åˆ«çš„ç±»æ¯”ç»´åº¦ä¸Šè¡¨ç°ä¼šå¾ˆå¥½ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰ä½¿ç”¨è¯å‘é‡">ä¸‰ã€ä½¿ç”¨è¯å‘é‡</h2>
<h3 id="31-å½•å…¥æ¨¡å‹">3.1 å½•å…¥æ¨¡å‹</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="n">w2v</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Loading ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin...
&lt;gensim.models.keyedvectors.KeyedVectors at 0x32b079340&gt;
</code></pre></div><br>
<h3 id="32-keyedvectorsçš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">3.2 KeyedVectorsçš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><em><strong>KeyedVectors.index_to_key</strong></em></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.key_to_index</strong></em></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.vector_size</strong></em></td>
<td>è·å–GloVeæ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.get_vector(word)</strong></em></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.most_similar(words, topn=10)</strong></em></td>
<td>è·å–æŸç±»è¯(list)æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.similar_by_word(word, topn=10)</strong></em></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.similar_by_vector(vector, topn=10)</strong></em></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
</tbody>
</table>
<br>
<h3 id="33-è¯æ±‡é‡ç»´åº¦æ•°">3.3 è¯æ±‡é‡&amp;ç»´åº¦æ•°</h3>
<p>æŸ¥çœ‹æ¨¡å‹ä¸­çš„è¯æ±‡é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">print(f&#39;è¯æ±‡é‡: {len(w2v)}&#39;)
print(f&#39;ç»´åº¦æ•°: {w2v.vector_size}&#39;)
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¯æ±‡é‡: 1059801
ç»´åº¦æ•°: 200
</code></pre></div><br>
<h3 id="34-æŸ¥çœ‹è¯å‘é‡">3.4 æŸ¥çœ‹è¯å‘é‡</h3>
<p>æŸ¥çœ‹ä»»æ„è¯çš„è¯å‘é‡ï¼Œä¾‹å¦‚â€œ<strong>â€äººå·¥æ™ºèƒ½â€</strong>â€</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æŸ¥çœ‹ â€äººå·¥æ™ºèƒ½â€ çš„è¯å‘é‡</span>
<span class="n">w2v</span><span class="p">[</span><span class="s1">&#39;äººå·¥æ™ºèƒ½&#39;</span><span class="p">]</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([-1.1817173 , -2.1371903 , -3.0181015 ,  1.7000161 , -3.081852  ,
        3.554449  , -0.22385244,  3.6647737 , -3.7086377 , -1.4868759 ,
       -0.7706527 ,  5.9335155 ,  2.8328223 , -1.7995875 , -6.051175  ,
       -0.91756725, -4.15509   , -1.6975762 , -4.5753274 , -3.022245  ,
       ......
       -2.0807118 , -3.4522808 ,  4.29429   , -1.712142  , -1.6512033 ,
        2.625037  , -3.4015207 ,  1.3526493 , -0.7858534 , -1.6782432 ,
       -3.1669524 , -2.6371615 , -1.5394825 ,  3.101744  ,  0.44502366,
       -1.4104489 , -0.01298253, -4.217453  , -0.92512876,  0.10754411],
      dtype=float32)
</code></pre></div><br>
<h3 id="35-æœ€ç›¸ä¼¼è¯">3.5 æœ€ç›¸ä¼¼è¯</h3>
<p>ä¸&rsquo;åˆ›æ–°', &lsquo;é¢ è¦†&rsquo;æœ€ç›¸ä¼¼çš„20ä¸ªè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"># è¯è¯­åˆ—è¡¨ä¸­å¯ä¼ å…¥ä»»æ„å¤šä¸ªè¯ï¼Œ
# å¤§é‚“è¯ç©·ï¼Œåªæƒ³åˆ°è¿™ä¸¤ä¸ªç›¸ä¼¼çš„ç§å­è¯
w2v.most_similar([&#39;åˆ›æ–°&#39;, &#39;é¢ è¦†&#39;], topn=20)
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;é©æ–°&#39;, 0.7983665466308594),
 (&#39;æ”¹é©&#39;, 0.7454208731651306),
 (&#39;å˜é©&#39;, 0.7136300206184387),
 (&#39;å…¨æ–°&#39;, 0.707391619682312),
 (&#39;å½»åº•æ”¹å˜&#39;, 0.7064372301101685),
 (&#39;åˆ›é€ æ€§&#39;, 0.6960274577140808),
 (&#39;é¢ è¦†æ€§&#39;, 0.6874485611915588),
 (&#39;æœ‰åˆ«äº&#39;, 0.6775000095367432),
 (&#39;åŠ ä»¥æ”¹è¿›&#39;, 0.6736693978309631),
 (&#39;æ‘’å¼ƒ&#39;, 0.6716011762619019),
 (&#39;ç‹¬åˆ›&#39;, 0.6609643697738647),
 (&#39;é¢ è¦†ä¼ ç»Ÿ&#39;, 0.6604534983634949),
 (&#39;å¼€åˆ›&#39;, 0.6531570553779602),
 (&#39;æ ¸å¿ƒæŠ€æœ¯&#39;, 0.6419240236282349),
 (&#39;å½»åº•é¢ è¦†&#39;, 0.6397384405136108),
 (&#39;æŠ€æœ¯åˆ›æ–°&#39;, 0.6390863060951233),
 (&#39;çªç ´æ€§&#39;, 0.6368305087089539),
 (&#39;å¤§èƒ†&#39;, 0.6357517242431641),
 (&#39;æŠ€æœ¯é©æ–°&#39;, 0.6347700357437134),
 (&#39;æ²¿ç”¨&#39;, 0.6328355669975281)]
</code></pre></div><br>
<p>åˆšåˆšçš„è¿è¡Œï¼Œä½“ç°æ¨¡å‹å¾ˆå¥½çš„å­¦ä¹ åˆ°äº†ä¸“åˆ©æ‘˜è¦ä¸­çš„è¯­ä¹‰å…³ç³»ã€‚</p>
<p>å¦‚æœæˆ‘æƒ³å¼€å‘ä¸‰ä¸ªè¯å…¸ï¼Œåˆ†åˆ«æ˜¯ <strong>åˆ›æ–°</strong>ã€<strong>æˆæœ¬</strong>ã€<strong>è´¨é‡</strong> ï¼Œæƒ³ç›´æ¥å°†ç»“æœä¿å­˜åˆ°txtä¸­ï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹ä»£ç </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">seeds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;åˆ›æ–°æ¦‚å¿µ&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;é¢ è¦†&#39;</span><span class="p">],</span>
         <span class="s1">&#39;æˆæœ¬æ¦‚å¿µ&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;æˆæœ¬&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
         <span class="s1">&#39;è´¨é‡æ¦‚å¿µ&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;è´¨é‡&#39;</span><span class="p">]}</span>

<span class="n">ct</span><span class="o">.</span><span class="n">expand_dictionary</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">w2v</span><span class="p">,</span>          <span class="c1"># word2vecè¯å‘é‡</span>
                     <span class="n">seeddict</span><span class="o">=</span><span class="n">seeds</span><span class="p">,</span>  <span class="c1"># ç§å­è¯å­—å…¸</span>
                     <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>         <span class="c1"># ä¿ç•™20ä¸ªæœ€ç›¸ä¼¼çš„è¯</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Finish! åˆ›æ–°æ¦‚å¿µ candidates saved to output/åˆ›æ–°æ¦‚å¿µ.txt
Finish! æˆæœ¬æ¦‚å¿µ candidates saved to output/æˆæœ¬æ¦‚å¿µ.txt
Finish! è´¨é‡æ¦‚å¿µ candidates saved to output/è´¨é‡æ¦‚å¿µ.txt
</code></pre></div><p><img loading="lazy" src="img/similar-words.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="å››è·å–èµ„æº">å››ã€è·å–èµ„æº</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹     ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin é“¾æ¥: https://pan.baidu.com/s/1LKebAWL5fzjUVo_MR7dVug?pwd=a56c æå–ç : a56c

- 100å…ƒ   cntext-2.1.6-py3-none-any.whl   å¦‚æœ‰éœ€è¦ï¼ŒåŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>è¯å‘é‡ | ä½¿ç”¨1äº¿Bç«™ç”¨æˆ·ç­¾åè®­ç»ƒword2vecè¯å‘é‡</title>
      <link>https://textdata.cn/blog/2023-11-12-using-100m-bilibili-user-sign-data-to-training-word2vec/</link>
      <pubDate>Thu, 03 Apr 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-11-12-using-100m-bilibili-user-sign-data-to-training-word2vec/</guid>
      <description>&lt;h2 id=&#34;ä¸€ç”¨æˆ·ç­¾å&#34;&gt;ä¸€ã€ç”¨æˆ·ç­¾å&lt;/h2&gt;
&lt;p&gt;1 äº¿ B ç«™ç”¨æˆ·ç¾¤ä½“ååˆ†åºå¤§ï¼Œæ–‡æœ¬ä¸­è•´å«ç€è¿™ä¸ªç¾¤ä½“çš„è®¤çŸ¥ä¿¡æ¯(å¦‚å…´è¶£ã€èº«ä»½ã€åº§å³é“­ç­‰)ï¼Œå¦‚æœèƒ½ç”¨ç­¾åè®­ç»ƒ word2vec è¯å‘é‡æ¨¡å‹ï¼Œè¯´ä¸å®šå°±æœ‰åˆ©ç”¨è¿™ä¸ªæ¨¡å‹ï¼Œå¯¹æ¯ä¸ªç”¨æˆ·ç­¾åè¿›è¡Œé‡åŒ–, å¯¹ç”¨æˆ·è¿›è¡Œåˆ†ç±»ã€‚ æœ¬æ–‡è¦è§£å†³&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»ºè¯­æ–™è®­ç»ƒå‡ºæ¨¡å‹&lt;/li&gt;
&lt;li&gt;ç®€å•çœ‹çœ‹æ¨¡å‹è®­ç»ƒæ•ˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒå‡†å¤‡è¯­æ–™&#34;&gt;äºŒã€å‡†å¤‡è¯­æ–™&lt;/h2&gt;
&lt;p&gt;Kaggle ç½‘æœ‰ 1 äº¿ B ç«™ç”¨æˆ·æ•°æ®é›†ï¼Œä¸‹è½½åœ°å€&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.kaggle.com/datasets/beats0/bilibili-user&#34;&gt;https://www.kaggle.com/datasets/beats0/bilibili-user&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹‹å‰åˆ†äº«è¿‡ &lt;a href=&#34;https://textdata.cn/blog/2023-05-10-100m-bilibili-user-info-dataset/&#34;&gt;æ•°æ®é›† | å“”å“©å“”å“© 1 äº¿ç”¨æˆ·æ•°æ®&lt;/a&gt; ï¼Œ é˜…è¯»æ­¤æ–‡å¯ä»¥ç†Ÿæ‚‰ pandas çš„ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚æ•°æ®è¯»å–ã€æ–‡æœ¬æ“ä½œç­‰ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä»kaggleä¸‹è½½Bç«™1äº¿ç”¨æˆ·æ•°æ®&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹å‰5è¡Œ&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;User.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nrows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/df2.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;å°† 9093092 ä¸ªéç©ºç­¾åæ±‡æ€»åˆ° &lt;strong&gt;&lt;em&gt;B ç«™ç”¨æˆ·ç­¾åè¯­æ–™.txt&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Bç«™ç­¾å.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;raw_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sign&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;raw_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»£ç è¿è¡Œåï¼Œå¾—åˆ° 320M çš„ &lt;strong&gt;&lt;em&gt;B ç«™ç­¾å.txt&lt;/em&gt;&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰è®­ç»ƒ-word2vec&#34;&gt;ä¸‰ã€è®­ç»ƒ Word2Vec&lt;/h2&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨çš„è‡ªå·± &lt;strong&gt;æœªå…¬å¼€&lt;/strong&gt; çš„ cntext 2.1.6 ç‰ˆæœ¬ï¼Œ Bug é¢‘å‡ºï¼Œç­‰è°ƒæ•´å¥½äº†å†å…¬å¼€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;31-å®‰è£…-cntext&#34;&gt;3.1 å®‰è£… cntext&lt;/h3&gt;
&lt;p&gt;å°† cntext-2.1.6-py3-none-any.whl æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ &lt;strong&gt;cmd&lt;/strong&gt; (è‹¹æœç”µè„‘æ‰“å¼€ terminal)ï¼Œ è¾“å…¥ cd desktop&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹ååœ¨ &lt;strong&gt;cmd&lt;/strong&gt; (è‹¹æœç”µè„‘æ‰“å¼€ terminal) ä¸­ä½¿ç”¨ pip3 å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install cntext-2.1.6-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡æœ«æœ‰ **_cntext-2.1.6-py3-none-any.whl _**è·å–æ–¹å¼&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;32-è®­ç»ƒ-word2vec&#34;&gt;3.2 è®­ç»ƒ word2vec&lt;/h3&gt;
&lt;p&gt;cntext è®­ç»ƒæ—¶å€™ Word2Vec æ¨¡å‹å‚æ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;corpus_file&lt;/em&gt;&lt;/strong&gt; è¯­æ–™ txt æ–‡ä»¶è·¯å¾„ï¼› åˆšåˆšå‡†å¤‡çš„ &lt;strong&gt;&lt;em&gt;B ç«™ç”¨æˆ·ç­¾åè¯­æ–™.txt&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;window_size&lt;/em&gt;&lt;/strong&gt; ä¸Šä¸‹æ–‡çª—å£å¤§å°(ä¸Šä¸‹æ–‡è¯­ä¹‰)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;vector_size&lt;/em&gt;&lt;/strong&gt; å‘é‡ç»´åº¦æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;chunksize&lt;/em&gt;&lt;/strong&gt; æ¯æ¬¡è¯­æ–™ txt æ–‡ä»¶ä¸­è¯»å–çš„è¡Œæ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;lang&lt;/em&gt;&lt;/strong&gt; è¯­è¨€çš„è¯­è¨€&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cntext2.1.6æœªå…¬å¼€ï¼Œè·å–2.1.6è¯·é˜…è¯»æ–‡æœ«è·å–æ–¹å¼&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Word2Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Bç«™ç”¨æˆ·ç­¾åè¯­æ–™.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;window&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Mac(Linux) System, Enable Parallel Processing
Cache output/Bç«™ç­¾å_cache.txt Not Found or Empty, Preprocessing Corpus

Reading Preprocessed Corpus from output/Bç«™ç­¾å_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 275 s.
Output Saved To: output/Bç«™ç­¾å-Word2Vec.200.15.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è€—æ—¶ 275sï¼Œ æ¨¡å‹è®­ç»ƒå®Œæˆï¼éœ€è¦æ³¨æ„ï¼Œ output æ–‡ä»¶å¤¹å†…æœ‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;B ç«™ç­¾å-Word2Vec.200.15.bin&lt;/em&gt;&lt;/strong&gt; æ¨¡å‹æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;B ç«™ç­¾å_cache.txt&lt;/em&gt;&lt;/strong&gt; è®­ç»ƒç¼“å­˜æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;h3 id=&#34;33-è¯„ä¼°æ¨¡å‹&#34;&gt;3.3 è¯„ä¼°æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹&lt;a href=&#34;https://cntext.readthedocs.io/zh-cn/latest/model.html&#34;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_similarity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_analogy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&amp;#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   434    |    103     |            0.34            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&amp;lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   360    |    317     |   25.56    |   4.02   |
|   CityInProvince   |   175    |     0      |   33.71    |   4.64   |
| FamilyRelationship |   240    |     32     |   44.17    |   1.93   |
|   SocialScience    |    2     |     68     |    0.00    |   NaN    |
+--------------------+----------+------------+------------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è¿‘ä¹‰æµ‹è¯•&lt;/strong&gt;: Spearman&amp;rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;strong&gt;ç±»æ¯”æµ‹è¯•&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CapitalOfCountries B ç«™ç”¨æˆ·ç­¾åè¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¤§äº 0ï¼Œè¯´æ˜å¾ˆå¤šç­¾åé‡Œä¼šå‡ºç°å›½å®¶é¦–éƒ½è¿™ç±»ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;CityInProvince B ç«™ç”¨æˆ·ç­¾åè¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¤§äº 0ï¼Œè¯´æ˜å¾ˆå¤šç­¾åé‡Œä¼šå‡ºç°çœä»½çœä¼šè¿™ç±»ä¿¡æ¯ã€‚è€ƒè™‘åˆ°ç”¨æˆ·å‡ ä¹å…¨ä¸ºä¸­å›½äººï¼Œæ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡é«˜äº CapitalOfCountriesã€‚&lt;/li&gt;
&lt;li&gt;FamilyRelationship B ç«™ç”¨æˆ·ç­¾åè¯­æ–™ä½“ç°çš„æ˜¯ä¸€ä¸ªä¸ªé²œæ´»çš„ä¸­å›½äººï¼Œç­¾åä¸­å¿…ç„¶å«æœ‰æ›´å¤šçš„äººé™…å…³ç³»ï¼Œ æ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡æ˜¯å››ä¸ªé¡¹ç›®ä¸­æœ€é«˜çš„ã€‚&lt;/li&gt;
&lt;li&gt;SocialScience B ç«™ç”¨æˆ·ç­¾åè¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°æœ€å·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠå¾ˆå°‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•´ä½“è€Œè¨€ï¼Œæ¨¡å‹æ•ˆæœä¸€èˆ¬ï¼Œä½†æ˜¯ä¸æ˜¯ç®—æ³•ä»£ç é—®é¢˜ï¼Œè€Œæ˜¯è¯­æ–™å‡ºçš„é—®é¢˜ã€‚æ¯•ç«Ÿæ¯ä¸ªç”¨æˆ·çš„ç­¾åä¸€èˆ¬éƒ½æ˜¯ä¸€å¥è¯ï¼Œå¤ªçŸ­ï¼Œä¿¡æ¯å¤ªå°‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››ä½¿ç”¨-word2vec&#34;&gt;å››ã€ä½¿ç”¨ word2vec&lt;/h2&gt;
&lt;h3 id=&#34;41-è¯»å–æ¨¡å‹&#34;&gt;4.1 è¯»å–æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ gensim å½•å…¥æ¨¡å‹ &lt;strong&gt;&lt;em&gt;B ç«™ç”¨æˆ·ç­¾åè¯­æ–™-Word2Vec.100.15.bin&lt;/em&gt;&lt;/strong&gt; ,&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;gensim.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;KeyedVectors&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/Bç«™ç­¾å-Word2Vec.200.15.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¨¡å‹è¯æ±‡é‡: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;æ¨¡å‹è¯æ±‡é‡:  244491
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;42-æŸ¥è¯¢æŸè¯çš„è¯å‘é‡&#34;&gt;4.2 æŸ¥è¯¢æŸè¯çš„è¯å‘é‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;w2v[&amp;#39;é«˜å†·&amp;#39;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([ 1.05914783e+00,  4.51383203e-01, -1.34764791e+00, -9.42894161e-01,
        5.28594255e-01,  8.05936933e-01, -1.59555584e-01,  2.42719814e-01,
       -6.04722261e-01, -9.25606042e-02,  9.69056904e-01,  8.85407850e-02,
       -1.67851341e+00,  3.26303959e-01,  6.52321458e-01,  5.77043407e-02,
       -4.24268842e-02, -2.64299393e-01,  5.24512887e-01,  2.15208486e-01,
       -2.09263057e-01, -4.55661058e-01,  8.78976703e-01, -1.24363959e+00,
       -1.71196852e-02, -9.03965294e-01, -6.52690083e-02,  2.47650072e-02,
       -2.82155067e-01,  9.09134224e-02,  9.13890541e-01, -1.40862179e+00,
       -1.31956196e+00, -5.29659569e-01,  1.23605825e-01, -4.00647372e-01,
        4.94630456e-01,  2.81695575e-01,  1.71391249e-01,  1.23341233e-01,
       -7.70617545e-01,  5.81079908e-02, -4.89788234e-01,  2.14924827e-01,
       -7.73121595e-01, -6.66803181e-01, -1.31617844e+00,  1.18301921e-01,
        6.22543573e-01, -8.07524860e-01, -4.36694354e-01,  2.95946062e-01,
        3.10503364e-01, -4.93252903e-01,  1.27962172e-01,  1.97043195e-01,
        6.61175609e-01, -1.80842638e-01,  1.13270843e+00, -5.34760773e-01,
        9.13145125e-01,  5.48191011e-01,  7.68198539e-03,  1.17955339e+00,
       -1.96015276e-02,  9.14144278e-01, -9.06695664e-01,  4.39731702e-02,
       -3.87832075e-01,  4.72544342e-01,  4.95476156e-01, -1.21628530e-01,
       -4.41256445e-03,  1.82375580e-01, -7.00045705e-01,  4.34259921e-01,
        2.00862193e+00, -5.61490715e-01, -7.67120644e-02,  5.78972995e-01,
       -7.80492842e-01, -5.01321375e-01, -5.50926566e-01, -8.99926543e-01,
       -1.66289490e-02,  1.77679747e-01,  4.23889339e-01,  1.40111005e+00,
       -7.63866380e-02, -8.86032939e-01, -1.08106744e+00,  3.31989765e-01,
        3.78885448e-01, -1.23718023e+00,  2.09680721e-01,  2.39727721e-01,
        2.46049106e-01,  2.32866824e-01, -6.65583909e-02,  1.09542537e+00,
       -5.44713318e-01,  7.68220305e-01, -1.56612769e-02,  3.48719925e-01,
        2.91741371e-01,  1.88722059e-01, -2.12467611e-01,  8.20825279e-01,
       -1.74725935e-01, -8.05535197e-01, -1.41250715e-01, -7.84179568e-01,
       -8.00660312e-01, -1.12991728e-01, -2.16052849e-02, -1.07448053e+00,
        2.53552765e-01, -1.28611282e-01, -1.16868567e+00, -6.08788371e-01,
        4.30017859e-02, -5.11076570e-01,  6.43583059e-01,  3.11966389e-01,
       -1.63116843e-01,  3.58751595e-01,  5.16831456e-03,  5.09353161e-01,
        1.61675465e+00,  6.42039478e-01, -1.07160270e+00, -2.34255135e-01,
       -7.27983773e-01,  1.20267116e-01, -1.11912894e+00,  1.49096262e+00,
       -1.48015752e-01,  6.85670376e-02, -1.70197403e+00,  2.16349974e-01,
        1.32302952e+00,  5.39037228e-01, -8.35760951e-01, -7.43441284e-01,
        6.55625939e-01, -5.07541537e-01, -5.40877655e-02, -5.38533449e-01,
       -2.57937461e-01,  8.67499232e-01, -6.53150141e-01, -1.32043970e+00,
       -5.84588587e-01,  1.24599323e-01, -8.35753500e-01, -2.68954426e-01,
        3.67542468e-02,  1.61010170e+00,  7.27127492e-01,  1.35515738e+00,
       -2.76694775e-01,  2.69006938e-01,  4.81265247e-01, -6.30314708e-01,
       -3.66074532e-01,  3.03934813e-01,  1.92417920e+00,  4.67498928e-01,
       -1.83004290e-01,  1.01947844e+00, -5.52489638e-01,  1.59275869e-03,
        4.84914184e-01,  1.33545566e+00, -9.75372076e-01,  2.25273356e-01,
        6.02540433e-01,  7.07564950e-01,  1.36330187e-01, -4.34346311e-02,
        4.53452200e-01,  1.58401883e+00, -6.68083191e-01, -1.30876124e+00,
       -1.19713686e-01, -9.80615169e-02, -2.04207993e+00,  8.29822361e-01,
       -4.08902228e-01, -4.70339246e-02,  1.00982547e+00,  1.64084151e-01,
        4.62104648e-01, -2.28677273e-01, -5.95047355e-01, -2.71069705e-01,
        6.27930462e-01, -8.85554433e-01, -1.79520398e-01, -3.44800770e-01],
      dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;43-æŸ¥çœ‹è¿‘ä¹‰è¯&#34;&gt;4.3 æŸ¥çœ‹è¿‘ä¹‰è¯&lt;/h3&gt;
&lt;p&gt;é€šè¿‡ç»™å®šè¯è¯­ï¼ŒæŸ¥çœ‹å…¶è¿‘ä¹‰è¯ï¼Œå¯ä»¥äº†è§£æ¨¡å‹è®­ç»ƒçš„å¥½åã€‚è¯­ä¹‰æ•æ‰çš„åˆç†ï¼Œè¯´æ˜è¯­æ–™åˆç†ï¼Œæ¨¡å‹è®­ç»ƒçš„å¥½ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ—è¡¨ä¸­å¯ä»¥ä¼ å…¥ä»»æ„å¤šä¸ªè¯ï¼Œè¿™é‡Œå¤§é‚“å·æ‡’ï¼Œéƒ½åªä¼ å…¥äº†ä¸€ä¸¤ä¸ªè¯&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most_similar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥³æ±‰çº¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;æ±‰çº¸&amp;#39;, 0.8672055602073669),
 (&amp;#39;è…¹é»‘&amp;#39;, 0.8662189841270447),
 (&amp;#39;æ–‡è‰ºæ¸…æ–°&amp;#39;, 0.849425733089447),
 (&amp;#39;é—·éªš&amp;#39;, 0.8427557945251465),
 (&amp;#39;ç¥ç»å¤§æ¡&amp;#39;, 0.8329920768737793),
 (&amp;#39;æ±‰å­&amp;#39;, 0.8232208490371704),
 (&amp;#39;å®…åŸº&amp;#39;, 0.8224843144416809),
 (&amp;#39;çŒ¥çå¤§å”&amp;#39;, 0.8214939832687378),
 (&amp;#39;å¶æ˜¯&amp;#39;, 0.8164061307907104),
 (&amp;#39;è…å®…&amp;#39;, 0.8117423057556152),
 (&amp;#39;å®…å¥³è…å¥³&amp;#39;, 0.8073472380638123),
 (&amp;#39;è½¯å¦¹&amp;#39;, 0.7999386787414551),
 (&amp;#39;èŒå¦¹&amp;#39;, 0.7999064326286316),
 (&amp;#39;å°å¥³ç”Ÿ&amp;#39;, 0.7998836040496826),
 (&amp;#39;å¤©èå¥³&amp;#39;, 0.7971166372299194),
 (&amp;#39;å‚²å¨‡å—&amp;#39;, 0.7964810132980347),
 (&amp;#39;å¤©è&amp;#39;, 0.7957624197006226),
 (&amp;#39;å¤©èåº§&amp;#39;, 0.7915034890174866),
 (&amp;#39;å¥³çº¸&amp;#39;, 0.7912994623184204),
 (&amp;#39;åŒé±¼åº§&amp;#39;, 0.7900263667106628)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most_similar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;çŠ¯äºŒ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;è„±çº¿&amp;#39;, 0.8355404734611511),
 (&amp;#39;ç¥ç»è´¨&amp;#39;, 0.8035165667533875),
 (&amp;#39;ç¥ç»å¤§æ¡&amp;#39;, 0.7816897630691528),
 (&amp;#39;å‘ç¥ç»&amp;#39;, 0.780509352684021),
 (&amp;#39;äººæ¥ç–¯&amp;#39;, 0.7794896960258484),
 (&amp;#39;ç²¾åˆ†&amp;#39;, 0.7705598473548889),
 (&amp;#39;æ¯’èˆŒ&amp;#39;, 0.7692195773124695),
 (&amp;#39;çŠ¯ç—…&amp;#39;, 0.7659722566604614),
 (&amp;#39;é—·éªš&amp;#39;, 0.7620697617530823),
 (&amp;#39;è¿·ç³Š&amp;#39;, 0.7608135342597961),
 (&amp;#39;æ™ºå•†åœ¨çº¿&amp;#39;, 0.7525709867477417),
 (&amp;#39;æŠ½ç–¯&amp;#39;, 0.7491970658302307),
 (&amp;#39;æ¬¢è„±&amp;#39;, 0.7444456219673157),
 (&amp;#39;æ·±äº•&amp;#39;, 0.7416326403617859),
 (&amp;#39;æŠ½é£&amp;#39;, 0.7321327924728394),
 (&amp;#39;ç²¾åˆ†æ‚£è€…&amp;#39;, 0.7319940328598022),
 (&amp;#39;è£…å«©&amp;#39;, 0.7267141342163086),
 (&amp;#39;è’™åœˆ&amp;#39;, 0.7262043952941895),
 (&amp;#39;ç¥ç»&amp;#39;, 0.7257982492446899),
 (&amp;#39;å‡æ­£ç»&amp;#39;, 0.7215201258659363)]

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most_similar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å†…å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;å¤–å‘&amp;#39;, 0.8474423885345459),
 (&amp;#39;æ…¢çƒ­&amp;#39;, 0.8272333741188049),
 (&amp;#39;ä¸çˆ±è¯´è¯&amp;#39;, 0.8249834775924683),
 (&amp;#39;ä¸å–„è¨€è¾&amp;#39;, 0.80635666847229),
 (&amp;#39;è…¼è…†&amp;#39;, 0.7940059304237366),
 (&amp;#39;å­¤åƒ»&amp;#39;, 0.7929618954658508),
 (&amp;#39;å¼€æœ—&amp;#39;, 0.7585728168487549),
 (&amp;#39;é—·éªš&amp;#39;, 0.745791494846344),
 (&amp;#39;ç¥ç»è´¨&amp;#39;, 0.7454176545143127),
 (&amp;#39;å¤šæ„å–„æ„Ÿ&amp;#39;, 0.7348753809928894),
 (&amp;#39;èƒ†å°&amp;#39;, 0.7213962078094482),
 (&amp;#39;æ²‰é»˜å¯¡è¨€&amp;#39;, 0.7145323157310486),
 (&amp;#39;éšå’Œ&amp;#39;, 0.7115553617477417),
 (&amp;#39;æ•æ„Ÿ&amp;#39;, 0.7103193402290344),
 (&amp;#39;æ°´ç“¶åº§&amp;#39;, 0.7092751264572144),
 (&amp;#39;å¤§å¤§å’§å’§&amp;#39;, 0.7085798382759094),
 (&amp;#39;é«˜å†·&amp;#39;, 0.7084994912147522),
 (&amp;#39;æ€§æ ¼å¼€æœ—&amp;#39;, 0.7064590454101562),
 (&amp;#39;è€¿ç›´&amp;#39;, 0.7048951983451843),
 (&amp;#39;åšä½œ&amp;#39;, 0.704330325126648)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;äº”è·å–èµ„æº&#34;&gt;äº”ã€è·å–èµ„æº&lt;/h2&gt;
&lt;p&gt;å†…å®¹æ•´ç†ä¸æ˜“ï¼Œ æœ¬æ–‡å†…å®¹åˆ†å…è´¹å’Œä»˜è´¹éƒ¨åˆ†ã€‚ å…è´¹éƒ¨åˆ†å¯ä»¥ç›´æ¥ä¸‹è½½æ•°æ®ã€æ„å»ºè¯­æ–™ã€ä½¿ç”¨ word2vec æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;ä»˜è´¹éƒ¨åˆ†ä¸»è¦æ˜¯ cntextï¼Œç”¨äºè®­ç»ƒ word2vec æ¨¡å‹ã€‚ å¦‚æœå¯¹æœ¬æ–‡æ„Ÿå…´è¶£ï¼Œå¯åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- å…è´¹     1äº¿ç”¨æˆ·æ•°æ®é›† https://www.kaggle.com/datasets/beats0/bilibili-user

- å…è´¹     Bç«™ç­¾å-Word2Vec.200.15.bin  é“¾æ¥: https://pan.baidu.com/s/1ILVwu6gGGGP0IHv-vsjgvw?pwd=em99 æå–ç : em99

- 100å…ƒ   è·å¾—cntext-2.1.6-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³å†…å®¹&#34;&gt;ç›¸å…³å†…å®¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://cntext.readthedocs.io/&#34;&gt;æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ https://cntext.readthedocs.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/&#34;&gt;å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/&#34;&gt;è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/&#34;&gt;ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/&#34;&gt;ä½¿ç”¨ 1000w æ¡è±†ç“£å½±è¯„è®­ç»ƒ Word2Vec&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/&#34;&gt;è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§ 39 ä¸ª FAQ æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/&#34;&gt;è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/&#34;&gt;OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€ç”¨æˆ·ç­¾å">ä¸€ã€ç”¨æˆ·ç­¾å</h2>
<p>1 äº¿ B ç«™ç”¨æˆ·ç¾¤ä½“ååˆ†åºå¤§ï¼Œæ–‡æœ¬ä¸­è•´å«ç€è¿™ä¸ªç¾¤ä½“çš„è®¤çŸ¥ä¿¡æ¯(å¦‚å…´è¶£ã€èº«ä»½ã€åº§å³é“­ç­‰)ï¼Œå¦‚æœèƒ½ç”¨ç­¾åè®­ç»ƒ word2vec è¯å‘é‡æ¨¡å‹ï¼Œè¯´ä¸å®šå°±æœ‰åˆ©ç”¨è¿™ä¸ªæ¨¡å‹ï¼Œå¯¹æ¯ä¸ªç”¨æˆ·ç­¾åè¿›è¡Œé‡åŒ–, å¯¹ç”¨æˆ·è¿›è¡Œåˆ†ç±»ã€‚ æœ¬æ–‡è¦è§£å†³</p>
<ul>
<li>æ„å»ºè¯­æ–™è®­ç»ƒå‡ºæ¨¡å‹</li>
<li>ç®€å•çœ‹çœ‹æ¨¡å‹è®­ç»ƒæ•ˆæœ</li>
</ul>
<p><br><br></p>
<h2 id="äºŒå‡†å¤‡è¯­æ–™">äºŒã€å‡†å¤‡è¯­æ–™</h2>
<p>Kaggle ç½‘æœ‰ 1 äº¿ B ç«™ç”¨æˆ·æ•°æ®é›†ï¼Œä¸‹è½½åœ°å€</p>
<blockquote>
<p><a href="https://www.kaggle.com/datasets/beats0/bilibili-user">https://www.kaggle.com/datasets/beats0/bilibili-user</a></p>
</blockquote>
<p>ä¹‹å‰åˆ†äº«è¿‡ <a href="https://textdata.cn/blog/2023-05-10-100m-bilibili-user-info-dataset/">æ•°æ®é›† | å“”å“©å“”å“© 1 äº¿ç”¨æˆ·æ•°æ®</a> ï¼Œ é˜…è¯»æ­¤æ–‡å¯ä»¥ç†Ÿæ‚‰ pandas çš„ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚æ•°æ®è¯»å–ã€æ–‡æœ¬æ“ä½œç­‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># ä»kaggleä¸‹è½½Bç«™1äº¿ç”¨æˆ·æ•°æ®</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># æŸ¥çœ‹å‰5è¡Œ</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;User.csv&#39;</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><p>Run</p>
<p><img loading="lazy" src="img/df2.png" alt=""  />
</p>
<br>
<p>å°† 9093092 ä¸ªéç©ºç­¾åæ±‡æ€»åˆ° <strong><em>B ç«™ç”¨æˆ·ç­¾åè¯­æ–™.txt</em></strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;Bç«™ç­¾å.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">raw_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sign&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>
</code></pre></div><p>ä»£ç è¿è¡Œåï¼Œå¾—åˆ° 320M çš„ <strong><em>B ç«™ç­¾å.txt</em></strong> ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰è®­ç»ƒ-word2vec">ä¸‰ã€è®­ç»ƒ Word2Vec</h2>
<p>æˆ‘ä½¿ç”¨çš„è‡ªå·± <strong>æœªå…¬å¼€</strong> çš„ cntext 2.1.6 ç‰ˆæœ¬ï¼Œ Bug é¢‘å‡ºï¼Œç­‰è°ƒæ•´å¥½äº†å†å…¬å¼€ã€‚</p>
<h3 id="31-å®‰è£…-cntext">3.1 å®‰è£… cntext</h3>
<p>å°† cntext-2.1.6-py3-none-any.whl æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ <strong>cmd</strong> (è‹¹æœç”µè„‘æ‰“å¼€ terminal)ï¼Œ è¾“å…¥ cd desktop</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¹‹ååœ¨ <strong>cmd</strong> (è‹¹æœç”µè„‘æ‰“å¼€ terminal) ä¸­ä½¿ç”¨ pip3 å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext-2.1.6-py3-none-any.whl
</code></pre></div><p>æ–‡æœ«æœ‰ **_cntext-2.1.6-py3-none-any.whl _**è·å–æ–¹å¼</p>
<br>
<h3 id="32-è®­ç»ƒ-word2vec">3.2 è®­ç»ƒ word2vec</h3>
<p>cntext è®­ç»ƒæ—¶å€™ Word2Vec æ¨¡å‹å‚æ•°</p>
<ul>
<li><strong><em>corpus_file</em></strong> è¯­æ–™ txt æ–‡ä»¶è·¯å¾„ï¼› åˆšåˆšå‡†å¤‡çš„ <strong><em>B ç«™ç”¨æˆ·ç­¾åè¯­æ–™.txt</em></strong></li>
<li><strong><em>window_size</em></strong> ä¸Šä¸‹æ–‡çª—å£å¤§å°(ä¸Šä¸‹æ–‡è¯­ä¹‰)</li>
<li><strong><em>vector_size</em></strong> å‘é‡ç»´åº¦æ•°</li>
<li><strong><em>chunksize</em></strong> æ¯æ¬¡è¯­æ–™ txt æ–‡ä»¶ä¸­è¯»å–çš„è¡Œæ•°</li>
<li><strong><em>lang</em></strong> è¯­è¨€çš„è¯­è¨€</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># cntext2.1.6æœªå…¬å¼€ï¼Œè·å–2.1.6è¯·é˜…è¯»æ–‡æœ«è·å–æ–¹å¼</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;Bç«™ç”¨æˆ·ç­¾åè¯­æ–™.txt&#39;</span><span class="p">,</span>
                    <span class="n">window</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
                    <span class="n">vector_size</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
                    <span class="n">window_size</span> <span class="o">=</span> <span class="mi">15</span>
                    <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/Bç«™ç­¾å_cache.txt Not Found or Empty, Preprocessing Corpus

Reading Preprocessed Corpus from output/Bç«™ç­¾å_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 275 s.
Output Saved To: output/Bç«™ç­¾å-Word2Vec.200.15.bin
</code></pre></div><p>è€—æ—¶ 275sï¼Œ æ¨¡å‹è®­ç»ƒå®Œæˆï¼éœ€è¦æ³¨æ„ï¼Œ output æ–‡ä»¶å¤¹å†…æœ‰</p>
<ul>
<li><strong><em>B ç«™ç­¾å-Word2Vec.200.15.bin</em></strong> æ¨¡å‹æ–‡ä»¶</li>
<li><strong><em>B ç«™ç­¾å_cache.txt</em></strong> è®­ç»ƒç¼“å­˜æ–‡ä»¶</li>
</ul>
<br>
<h3 id="33-è¯„ä¼°æ¨¡å‹">3.3 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   434    |    103     |            0.34            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   360    |    317     |   25.56    |   4.02   |
|   CityInProvince   |   175    |     0      |   33.71    |   4.64   |
| FamilyRelationship |   240    |     32     |   44.17    |   1.93   |
|   SocialScience    |    2     |     68     |    0.00    |   NaN    |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p><strong>è¿‘ä¹‰æµ‹è¯•</strong>: Spearman&rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚</p>
<br>
<p><strong>ç±»æ¯”æµ‹è¯•</strong>:</p>
<ul>
<li>CapitalOfCountries B ç«™ç”¨æˆ·ç­¾åè¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¤§äº 0ï¼Œè¯´æ˜å¾ˆå¤šç­¾åé‡Œä¼šå‡ºç°å›½å®¶é¦–éƒ½è¿™ç±»ä¿¡æ¯ã€‚</li>
<li>CityInProvince B ç«™ç”¨æˆ·ç­¾åè¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å¤§äº 0ï¼Œè¯´æ˜å¾ˆå¤šç­¾åé‡Œä¼šå‡ºç°çœä»½çœä¼šè¿™ç±»ä¿¡æ¯ã€‚è€ƒè™‘åˆ°ç”¨æˆ·å‡ ä¹å…¨ä¸ºä¸­å›½äººï¼Œæ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡é«˜äº CapitalOfCountriesã€‚</li>
<li>FamilyRelationship B ç«™ç”¨æˆ·ç­¾åè¯­æ–™ä½“ç°çš„æ˜¯ä¸€ä¸ªä¸ªé²œæ´»çš„ä¸­å›½äººï¼Œç­¾åä¸­å¿…ç„¶å«æœ‰æ›´å¤šçš„äººé™…å…³ç³»ï¼Œ æ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡æ˜¯å››ä¸ªé¡¹ç›®ä¸­æœ€é«˜çš„ã€‚</li>
<li>SocialScience B ç«™ç”¨æˆ·ç­¾åè¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°æœ€å·®ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠå¾ˆå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œæ¨¡å‹æ•ˆæœä¸€èˆ¬ï¼Œä½†æ˜¯ä¸æ˜¯ç®—æ³•ä»£ç é—®é¢˜ï¼Œè€Œæ˜¯è¯­æ–™å‡ºçš„é—®é¢˜ã€‚æ¯•ç«Ÿæ¯ä¸ªç”¨æˆ·çš„ç­¾åä¸€èˆ¬éƒ½æ˜¯ä¸€å¥è¯ï¼Œå¤ªçŸ­ï¼Œä¿¡æ¯å¤ªå°‘ã€‚</p>
<p><br><br></p>
<h2 id="å››ä½¿ç”¨-word2vec">å››ã€ä½¿ç”¨ word2vec</h2>
<h3 id="41-è¯»å–æ¨¡å‹">4.1 è¯»å–æ¨¡å‹</h3>
<p>ä½¿ç”¨ gensim å½•å…¥æ¨¡å‹ <strong><em>B ç«™ç”¨æˆ·ç­¾åè¯­æ–™-Word2Vec.100.15.bin</em></strong> ,</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">gensim.models</span> <span class="kn">import</span> <span class="n">KeyedVectors</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/Bç«™ç­¾å-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;æ¨¡å‹è¯æ±‡é‡: &#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">w2v</span><span class="p">))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">æ¨¡å‹è¯æ±‡é‡:  244491
</code></pre></div><br>
<h3 id="42-æŸ¥è¯¢æŸè¯çš„è¯å‘é‡">4.2 æŸ¥è¯¢æŸè¯çš„è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">w2v[&#39;é«˜å†·&#39;]
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 1.05914783e+00,  4.51383203e-01, -1.34764791e+00, -9.42894161e-01,
        5.28594255e-01,  8.05936933e-01, -1.59555584e-01,  2.42719814e-01,
       -6.04722261e-01, -9.25606042e-02,  9.69056904e-01,  8.85407850e-02,
       -1.67851341e+00,  3.26303959e-01,  6.52321458e-01,  5.77043407e-02,
       -4.24268842e-02, -2.64299393e-01,  5.24512887e-01,  2.15208486e-01,
       -2.09263057e-01, -4.55661058e-01,  8.78976703e-01, -1.24363959e+00,
       -1.71196852e-02, -9.03965294e-01, -6.52690083e-02,  2.47650072e-02,
       -2.82155067e-01,  9.09134224e-02,  9.13890541e-01, -1.40862179e+00,
       -1.31956196e+00, -5.29659569e-01,  1.23605825e-01, -4.00647372e-01,
        4.94630456e-01,  2.81695575e-01,  1.71391249e-01,  1.23341233e-01,
       -7.70617545e-01,  5.81079908e-02, -4.89788234e-01,  2.14924827e-01,
       -7.73121595e-01, -6.66803181e-01, -1.31617844e+00,  1.18301921e-01,
        6.22543573e-01, -8.07524860e-01, -4.36694354e-01,  2.95946062e-01,
        3.10503364e-01, -4.93252903e-01,  1.27962172e-01,  1.97043195e-01,
        6.61175609e-01, -1.80842638e-01,  1.13270843e+00, -5.34760773e-01,
        9.13145125e-01,  5.48191011e-01,  7.68198539e-03,  1.17955339e+00,
       -1.96015276e-02,  9.14144278e-01, -9.06695664e-01,  4.39731702e-02,
       -3.87832075e-01,  4.72544342e-01,  4.95476156e-01, -1.21628530e-01,
       -4.41256445e-03,  1.82375580e-01, -7.00045705e-01,  4.34259921e-01,
        2.00862193e+00, -5.61490715e-01, -7.67120644e-02,  5.78972995e-01,
       -7.80492842e-01, -5.01321375e-01, -5.50926566e-01, -8.99926543e-01,
       -1.66289490e-02,  1.77679747e-01,  4.23889339e-01,  1.40111005e+00,
       -7.63866380e-02, -8.86032939e-01, -1.08106744e+00,  3.31989765e-01,
        3.78885448e-01, -1.23718023e+00,  2.09680721e-01,  2.39727721e-01,
        2.46049106e-01,  2.32866824e-01, -6.65583909e-02,  1.09542537e+00,
       -5.44713318e-01,  7.68220305e-01, -1.56612769e-02,  3.48719925e-01,
        2.91741371e-01,  1.88722059e-01, -2.12467611e-01,  8.20825279e-01,
       -1.74725935e-01, -8.05535197e-01, -1.41250715e-01, -7.84179568e-01,
       -8.00660312e-01, -1.12991728e-01, -2.16052849e-02, -1.07448053e+00,
        2.53552765e-01, -1.28611282e-01, -1.16868567e+00, -6.08788371e-01,
        4.30017859e-02, -5.11076570e-01,  6.43583059e-01,  3.11966389e-01,
       -1.63116843e-01,  3.58751595e-01,  5.16831456e-03,  5.09353161e-01,
        1.61675465e+00,  6.42039478e-01, -1.07160270e+00, -2.34255135e-01,
       -7.27983773e-01,  1.20267116e-01, -1.11912894e+00,  1.49096262e+00,
       -1.48015752e-01,  6.85670376e-02, -1.70197403e+00,  2.16349974e-01,
        1.32302952e+00,  5.39037228e-01, -8.35760951e-01, -7.43441284e-01,
        6.55625939e-01, -5.07541537e-01, -5.40877655e-02, -5.38533449e-01,
       -2.57937461e-01,  8.67499232e-01, -6.53150141e-01, -1.32043970e+00,
       -5.84588587e-01,  1.24599323e-01, -8.35753500e-01, -2.68954426e-01,
        3.67542468e-02,  1.61010170e+00,  7.27127492e-01,  1.35515738e+00,
       -2.76694775e-01,  2.69006938e-01,  4.81265247e-01, -6.30314708e-01,
       -3.66074532e-01,  3.03934813e-01,  1.92417920e+00,  4.67498928e-01,
       -1.83004290e-01,  1.01947844e+00, -5.52489638e-01,  1.59275869e-03,
        4.84914184e-01,  1.33545566e+00, -9.75372076e-01,  2.25273356e-01,
        6.02540433e-01,  7.07564950e-01,  1.36330187e-01, -4.34346311e-02,
        4.53452200e-01,  1.58401883e+00, -6.68083191e-01, -1.30876124e+00,
       -1.19713686e-01, -9.80615169e-02, -2.04207993e+00,  8.29822361e-01,
       -4.08902228e-01, -4.70339246e-02,  1.00982547e+00,  1.64084151e-01,
        4.62104648e-01, -2.28677273e-01, -5.95047355e-01, -2.71069705e-01,
        6.27930462e-01, -8.85554433e-01, -1.79520398e-01, -3.44800770e-01],
      dtype=float32)
</code></pre></div><br>
<h3 id="43-æŸ¥çœ‹è¿‘ä¹‰è¯">4.3 æŸ¥çœ‹è¿‘ä¹‰è¯</h3>
<p>é€šè¿‡ç»™å®šè¯è¯­ï¼ŒæŸ¥çœ‹å…¶è¿‘ä¹‰è¯ï¼Œå¯ä»¥äº†è§£æ¨¡å‹è®­ç»ƒçš„å¥½åã€‚è¯­ä¹‰æ•æ‰çš„åˆç†ï¼Œè¯´æ˜è¯­æ–™åˆç†ï¼Œæ¨¡å‹è®­ç»ƒçš„å¥½ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># åˆ—è¡¨ä¸­å¯ä»¥ä¼ å…¥ä»»æ„å¤šä¸ªè¯ï¼Œè¿™é‡Œå¤§é‚“å·æ‡’ï¼Œéƒ½åªä¼ å…¥äº†ä¸€ä¸¤ä¸ªè¯</span>
<span class="n">w2v</span><span class="o">.</span><span class="n">most_similar</span><span class="p">([</span><span class="s1">&#39;å¥³æ±‰çº¸&#39;</span><span class="p">],</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;æ±‰çº¸&#39;, 0.8672055602073669),
 (&#39;è…¹é»‘&#39;, 0.8662189841270447),
 (&#39;æ–‡è‰ºæ¸…æ–°&#39;, 0.849425733089447),
 (&#39;é—·éªš&#39;, 0.8427557945251465),
 (&#39;ç¥ç»å¤§æ¡&#39;, 0.8329920768737793),
 (&#39;æ±‰å­&#39;, 0.8232208490371704),
 (&#39;å®…åŸº&#39;, 0.8224843144416809),
 (&#39;çŒ¥çå¤§å”&#39;, 0.8214939832687378),
 (&#39;å¶æ˜¯&#39;, 0.8164061307907104),
 (&#39;è…å®…&#39;, 0.8117423057556152),
 (&#39;å®…å¥³è…å¥³&#39;, 0.8073472380638123),
 (&#39;è½¯å¦¹&#39;, 0.7999386787414551),
 (&#39;èŒå¦¹&#39;, 0.7999064326286316),
 (&#39;å°å¥³ç”Ÿ&#39;, 0.7998836040496826),
 (&#39;å¤©èå¥³&#39;, 0.7971166372299194),
 (&#39;å‚²å¨‡å—&#39;, 0.7964810132980347),
 (&#39;å¤©è&#39;, 0.7957624197006226),
 (&#39;å¤©èåº§&#39;, 0.7915034890174866),
 (&#39;å¥³çº¸&#39;, 0.7912994623184204),
 (&#39;åŒé±¼åº§&#39;, 0.7900263667106628)]
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">w2v</span><span class="o">.</span><span class="n">most_similar</span><span class="p">([</span><span class="s1">&#39;çŠ¯äºŒ&#39;</span><span class="p">],</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;è„±çº¿&#39;, 0.8355404734611511),
 (&#39;ç¥ç»è´¨&#39;, 0.8035165667533875),
 (&#39;ç¥ç»å¤§æ¡&#39;, 0.7816897630691528),
 (&#39;å‘ç¥ç»&#39;, 0.780509352684021),
 (&#39;äººæ¥ç–¯&#39;, 0.7794896960258484),
 (&#39;ç²¾åˆ†&#39;, 0.7705598473548889),
 (&#39;æ¯’èˆŒ&#39;, 0.7692195773124695),
 (&#39;çŠ¯ç—…&#39;, 0.7659722566604614),
 (&#39;é—·éªš&#39;, 0.7620697617530823),
 (&#39;è¿·ç³Š&#39;, 0.7608135342597961),
 (&#39;æ™ºå•†åœ¨çº¿&#39;, 0.7525709867477417),
 (&#39;æŠ½ç–¯&#39;, 0.7491970658302307),
 (&#39;æ¬¢è„±&#39;, 0.7444456219673157),
 (&#39;æ·±äº•&#39;, 0.7416326403617859),
 (&#39;æŠ½é£&#39;, 0.7321327924728394),
 (&#39;ç²¾åˆ†æ‚£è€…&#39;, 0.7319940328598022),
 (&#39;è£…å«©&#39;, 0.7267141342163086),
 (&#39;è’™åœˆ&#39;, 0.7262043952941895),
 (&#39;ç¥ç»&#39;, 0.7257982492446899),
 (&#39;å‡æ­£ç»&#39;, 0.7215201258659363)]

</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">w2v</span><span class="o">.</span><span class="n">most_similar</span><span class="p">([</span><span class="s1">&#39;å†…å‘&#39;</span><span class="p">],</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å¤–å‘&#39;, 0.8474423885345459),
 (&#39;æ…¢çƒ­&#39;, 0.8272333741188049),
 (&#39;ä¸çˆ±è¯´è¯&#39;, 0.8249834775924683),
 (&#39;ä¸å–„è¨€è¾&#39;, 0.80635666847229),
 (&#39;è…¼è…†&#39;, 0.7940059304237366),
 (&#39;å­¤åƒ»&#39;, 0.7929618954658508),
 (&#39;å¼€æœ—&#39;, 0.7585728168487549),
 (&#39;é—·éªš&#39;, 0.745791494846344),
 (&#39;ç¥ç»è´¨&#39;, 0.7454176545143127),
 (&#39;å¤šæ„å–„æ„Ÿ&#39;, 0.7348753809928894),
 (&#39;èƒ†å°&#39;, 0.7213962078094482),
 (&#39;æ²‰é»˜å¯¡è¨€&#39;, 0.7145323157310486),
 (&#39;éšå’Œ&#39;, 0.7115553617477417),
 (&#39;æ•æ„Ÿ&#39;, 0.7103193402290344),
 (&#39;æ°´ç“¶åº§&#39;, 0.7092751264572144),
 (&#39;å¤§å¤§å’§å’§&#39;, 0.7085798382759094),
 (&#39;é«˜å†·&#39;, 0.7084994912147522),
 (&#39;æ€§æ ¼å¼€æœ—&#39;, 0.7064590454101562),
 (&#39;è€¿ç›´&#39;, 0.7048951983451843),
 (&#39;åšä½œ&#39;, 0.704330325126648)]
</code></pre></div><br>
<br>
<h2 id="äº”è·å–èµ„æº">äº”ã€è·å–èµ„æº</h2>
<p>å†…å®¹æ•´ç†ä¸æ˜“ï¼Œ æœ¬æ–‡å†…å®¹åˆ†å…è´¹å’Œä»˜è´¹éƒ¨åˆ†ã€‚ å…è´¹éƒ¨åˆ†å¯ä»¥ç›´æ¥ä¸‹è½½æ•°æ®ã€æ„å»ºè¯­æ–™ã€ä½¿ç”¨ word2vec æ¨¡å‹ã€‚</p>
<p>ä»˜è´¹éƒ¨åˆ†ä¸»è¦æ˜¯ cntextï¼Œç”¨äºè®­ç»ƒ word2vec æ¨¡å‹ã€‚ å¦‚æœå¯¹æœ¬æ–‡æ„Ÿå…´è¶£ï¼Œå¯åŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹     1äº¿ç”¨æˆ·æ•°æ®é›† https://www.kaggle.com/datasets/beats0/bilibili-user

- å…è´¹     Bç«™ç­¾å-Word2Vec.200.15.bin  é“¾æ¥: https://pan.baidu.com/s/1ILVwu6gGGGP0IHv-vsjgvw?pwd=em99 æå–ç : em99

- 100å…ƒ   è·å¾—cntext-2.1.6-py3-none-any.whl
</code></pre></div><p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<ul>
<li><a href="https://cntext.readthedocs.io/">æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ https://cntext.readthedocs.io/</a></li>
<li><a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/">ä½¿ç”¨ 1000w æ¡è±†ç“£å½±è¯„è®­ç»ƒ Word2Vec</a></li>
<li><a href="https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/">è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§ 39 ä¸ª FAQ æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/">è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨</a></li>
<li><a href="https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/">OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>å®éªŒ | ä½¿ç”¨Stanford Gloveä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„Gloveæ¨¡å‹</title>
      <link>https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/</link>
      <pubDate>Fri, 28 Mar 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/</guid>
      <description>&lt;h2 id=&#34;ä¸€ç®€ä»‹&#34;&gt;ä¸€ã€ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://nlp.stanford.edu/projects/glove/&#34;&gt;Stanford GloVe&lt;/a&gt;ï¼ˆGlobal Vectors for Word Representationï¼‰ç®—æ³•ä½œä¸ºä¸€ç§èåˆå…¨å±€ç»Ÿè®¡ä¿¡æ¯ä¸å±€éƒ¨ä¸Šä¸‹æ–‡çª—å£çš„è¯åµŒå…¥æ¨¡å‹ï¼Œç›¸è¾ƒäºWord2Vecä»…ä¾èµ–å±€éƒ¨ä¸Šä¸‹æ–‡ï¼ŒGloVeåˆ©ç”¨å…¨å±€ç»Ÿè®¡ä¿¡æ¯ï¼Œèƒ½æ›´ç²¾å‡†åœ°åæ˜ è¯é¢‘åˆ†å¸ƒç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œåœ¨é«˜ç»´è¯å‘é‡ï¼ˆå¦‚200Dï¼‰ä¸­ï¼ŒGloVeåœ¨è¯è¯­ç±»æ¯”ä»»åŠ¡ä¸­å‡†ç¡®ç‡è¾¾75%ï¼Œå¹¶åœ¨å‘½åå®ä½“è¯†åˆ«ä»»åŠ¡ä¸­ä¼˜äºå…¶ä»–è¯åµŒå…¥æ¨¡å‹ã€‚å› å…¶é«˜æ•ˆçš„è¯­ä¹‰è¡¨å¾èƒ½åŠ›ï¼Œåœ¨ç¤¾ä¼šå­¦ã€ç®¡ç†å­¦ç­‰é¢†åŸŸå±•ç°å‡ºå¹¿æ³›çš„åº”ç”¨ä»·å€¼ã€‚ ç›¸å…³è¯åµŒå…¥æ–‡çŒ®èµ„æ–™å¯é˜…è¯»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/&#34;&gt;OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/&#34;&gt;è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/&#34;&gt;è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§39ä¸ªFAQæ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2022-04-09-literature-about-embeddings/&#34;&gt;æ–‡çŒ®æ±‡æ€» | è¯åµŒå…¥ ä¸ ç¤¾ä¼šç§‘å­¦ä¸­çš„åè§(æ€åº¦)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2022-04-01-embeddings-and-attitude/&#34;&gt;è¯åµŒå…¥æµ‹é‡ä¸åŒç¾¤ä½“å¯¹æŸæ¦‚å¿µçš„æ€åº¦(åè§)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒç¯å¢ƒå‡†å¤‡&#34;&gt;äºŒã€ç¯å¢ƒå‡†å¤‡&lt;/h2&gt;
&lt;p&gt;cntext2.x å†…ç½®äº† GloVe è®­ç»ƒæ‰€éœ€çš„ç¯å¢ƒï¼Œæ”¯æŒ win å’Œ macã€‚&lt;/p&gt;
&lt;p&gt;è·å–&lt;a href=&#34;https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/&#34;&gt;cntext2.x&lt;/a&gt; çš„å®‰è£…æ–‡ä»¶ &lt;em&gt;&lt;strong&gt;cntext-2.1.5-py3-none-any.whl&lt;/strong&gt;&lt;/em&gt;ï¼Œå¹¶å°†è¯¥whlæ–‡ä»¶æ”¾ç½®äºæ¡Œé¢ã€‚æ‰§è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
pip install cntext-2.1.5-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GloVe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dict_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stopwords_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min_count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_memory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;4.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_iter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x_max&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;corpus_file&lt;/strong&gt;&lt;/em&gt;: è¾“å…¥è¯­æ–™æ–‡ä»¶è·¯å¾„ï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰ã€‚è¯¥æ–‡ä»¶ä¸ºåˆ†è¯åçš„è¯­æ–™æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;lang&lt;/strong&gt;&lt;/em&gt;: è¯­æ–™æ–‡ä»¶çš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤ä¸º &amp;lsquo;chinese&amp;rsquo;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;dict_file&lt;/strong&gt;&lt;/em&gt;: è‡ªå®šä¹‰è¯å…¸txtæ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸ºNoneã€‚utf-8ç¼–ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;stopwords_file&lt;/strong&gt;&lt;/em&gt;: åœç”¨è¯æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º Noneã€‚utf-8ç¼–ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;vector_size&lt;/strong&gt;&lt;/em&gt;: è¯å‘é‡ç»´åº¦ï¼Œé»˜è®¤ 100ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;window_size&lt;/strong&gt;&lt;/em&gt;: ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼Œé»˜è®¤ 15ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;min_count&lt;/strong&gt;&lt;/em&gt;: å¿½ç•¥å‡ºç°æ¬¡æ•°ä½äºæ­¤å€¼çš„å•è¯ï¼Œé»˜è®¤ 5ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;max_memory&lt;/strong&gt;&lt;/em&gt;: å¯ä¾›ä½¿ç”¨çš„æœ€å¤§å†…å­˜å¤§å°ï¼Œå•ä½ä¸ºGBï¼Œé»˜è®¤ 4;  è¯¥å‚æ•°è¶Šå¤§ï¼Œè®­ç»ƒè¶Šå¿«ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;max_iter&lt;/strong&gt;&lt;/em&gt;: è®­ç»ƒçš„æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤ 15ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;x_max&lt;/strong&gt;&lt;/em&gt;: å…±ç°çŸ©é˜µä¸­å…ƒç´ çš„æœ€å¤§è®¡æ•°å€¼ï¼Œé»˜è®¤ 10ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰è®­ç»ƒä¸­æ–‡glove&#34;&gt;ä¸‰ã€è®­ç»ƒä¸­æ–‡GloVe&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å…¶å®åªéœ€è¦è®¾ç½® &lt;em&gt;&lt;strong&gt;corpus_file&lt;/strong&gt;&lt;/em&gt; å’Œ &lt;em&gt;&lt;strong&gt;lang&lt;/strong&gt;&lt;/em&gt;ï¼Œ ä½†ä¸ºäº†è®©å¤§å®¶çŸ¥é“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šä¸‹æ–‡çš„çª—å£å¤§å° &lt;em&gt;&lt;strong&gt;window_size&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;è®­ç»ƒå‡ºæ¨¡å‹è¯è¯­çš„ç»´åº¦æ•° &lt;em&gt;&lt;strong&gt;vector_size&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# ç®€åŒ–ç‰ˆè°ƒç”¨ã€‚è®­ç»ƒwindow_size=100ç»´ï¼Œ vector_size=15&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# glove_wv = ct.GloVe(corpus_file=&amp;#39;data/ä¸‰ä½“.txt&amp;#39;, lang=&amp;#39;chinese&amp;#39;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# æ­£å¸¸è°ƒç”¨ã€‚è®­ç»ƒwindow_size=15ç»´ï¼Œ vector_size=50&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;glove_wv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GloVe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data/ä¸‰ä½“.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                    &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;only_binary&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒæ—¶ä¿å­˜txtå’Œbinä¸¤ç§æ ¼å¼çš„æ¨¡å‹æ–‡ä»¶&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;glove_wv&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Mac(Linux) System, Enable Parallel Processing
Cache output/ä¸‰ä½“_cache.txt Not Found or Empty, Preprocessing Corpus
Start Training GloVe
BUILDING VOCABULARY
Using vocabulary of size 6975.

COUNTING COOCCURRENCES
Merging cooccurrence files: processed 2106999 lines.

Using random seed 1743474106
SHUFFLING COOCCURRENCES
Merging temp files: processed 2106999 lines.

TRAINING MODEL
Read 2106999 lines.
Using random seed 1743474106
04/01/25 - 10:21.46AM, iter: 001, cost: 0.055981
04/01/25 - 10:21.46AM, iter: 002, cost: 0.050632
......
04/01/25 - 10:21.48AM, iter: 014, cost: 0.030047
04/01/25 - 10:21.48AM, iter: 015, cost: 0.029100

GloVe Training Cost 9 s. 
Output Saved To: output/ä¸‰ä½“-GloVe.50.15.txt
Output Saved To: output/ä¸‰ä½“-GloVe.50.15.bin
&amp;lt;gensim.models.keyedvectors.KeyedVectors at 0x331517440&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/05-glove.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;å››ä½¿ç”¨ä¸­æ–‡gloveæ¨¡å‹&#34;&gt;å››ã€ä½¿ç”¨ä¸­æ–‡GloVeæ¨¡å‹&lt;/h2&gt;
&lt;h3 id=&#34;41-åŠ è½½æ¨¡å‹&#34;&gt;4.1 åŠ è½½æ¨¡å‹&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# åŠ è½½word2vecæ¨¡å‹.txtæ–‡ä»¶&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;wv_model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/ä¸‰ä½“-GloVe.50.15.bin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;wv_model&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;gensim.models.keyedvectors.KeyedVectors at 0x336ff8dd0&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;42-keyedvectorsçš„æ“ä½œæ–¹æ³•æˆ–å±æ€§&#34;&gt;4.2 KeyedVectorsçš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.index_to_key&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.key_to_index&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.vector_size&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–GloVeæ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.get_vector(word)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.similar_by_word(word, topn=10)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;KeyedVectors.similar_by_vector(vector, topn=10)&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;421-è¯è¡¨&#34;&gt;4.2.1 è¯è¡¨&lt;/h3&gt;
&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;wv_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index_to_key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[&amp;#39;çš„&amp;#39;,
 &amp;#39;äº†&amp;#39;,
 &amp;#39;åœ¨&amp;#39;,
...
 &amp;#39;å¼•åŠ›&amp;#39;,
 &amp;#39;æ‰€è¯´&amp;#39;,
 &amp;#39;æ˜Ÿé™…&amp;#39;,
 ...]

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;422-è¯è¡¨æ˜ å°„&#34;&gt;4.2.2 è¯è¡¨æ˜ å°„&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;wv_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_to_index&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;{&amp;#39;çš„&amp;#39;: 0,
 &amp;#39;äº†&amp;#39;: 1,
 &amp;#39;åœ¨&amp;#39;: 2,
...
 &amp;#39;å¼•åŠ›&amp;#39;: 997,
 &amp;#39;æ‰€è¯´&amp;#39;: 998,
 &amp;#39;æ˜Ÿé™…&amp;#39;: 999,
 ...}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;423-å‘é‡ç»´åº¦æ•°&#34;&gt;4.2.3 å‘é‡ç»´åº¦æ•°&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;è¯è¡¨æœ‰ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_to_index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt; ä¸ªè¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å‘é‡æ˜¯ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt; ç»´&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¯è¡¨æœ‰ 4365 ä¸ªè¯
å‘é‡æ˜¯ 50 ç»´
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;424-è·å–è¯å‘é‡&#34;&gt;4.2.4 è·å–è¯å‘é‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹ã€Œé™ä¸´ã€çš„è¯å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;é™ä¸´&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([ 0.672314,  0.020081,  0.653733,  0.598732, -0.680517, -0.049689,
       -0.16845 , -0.06759 , -0.147955,  0.024006,  0.264551, -0.050127,
        0.252063, -0.475633,  0.103722, -0.012481,  0.040755,  1.154912,
        0.742695,  0.048619, -0.514424, -1.184054,  0.515892, -0.1034  ,
        0.368755, -0.690357, -0.784287, -0.505814,  0.035807, -0.166354,
       -0.26149 ,  0.015089,  0.10626 , -0.215666, -0.374001, -0.123558,
        0.422617, -0.075277, -0.316387, -0.484295,  0.059687,  0.132621,
        0.192094, -0.591919,  0.236281,  0.164198, -0.058724,  1.285457,
        0.905606, -0.52032 ], dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;425-è¿‘ä¹‰è¯&#34;&gt;4.2.5 è¿‘ä¹‰è¯&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_word&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸‰ä½“&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;å›å†›&amp;#39;, 0.7699569463729858),
 (&amp;#39;æ›´æ–°&amp;#39;, 0.7687217593193054),
 (&amp;#39;åœ°çƒ&amp;#39;, 0.760529100894928),
 (&amp;#39;å…¨é›†&amp;#39;, 0.7575182914733887),
 (&amp;#39;æœ€å¿«&amp;#39;, 0.7426372170448303),
 (&amp;#39;ä¸–ç•Œ&amp;#39;, 0.7262137532234192),
 (&amp;#39;æœ€æ–°&amp;#39;, 0.7219281792640686),
 (&amp;#39;æ¸¸æˆ&amp;#39;, 0.7180070877075195),
 (&amp;#39;å±æœº&amp;#39;, 0.7020451426506042),
 (&amp;#39;æ•™&amp;#39;, 0.7012627720832825)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;426-è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡&#34;&gt;4.2.6 è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥è®¡ç®—ã€Œä¸‰ä½“ã€ã€ã€Œé™ä¸´ã€ã€ã€Œç»„ç»‡ã€ã€ã€Œæ‹¯æ•‘ã€çš„ä¸­å¿ƒå‘é‡eto_vectorã€‚ å¹¶è¯•å›¾å¯»æ‰¾ä¸­å¿ƒå‘é‡eto_vectorçš„æœ€ç›¸ä¼¼çš„10ä¸ªè¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;eto_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;semantic_centroid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸‰ä½“&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é™ä¸´&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»„ç»‡&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ‹¯æ•‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eto_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# å¯»æ‰¾ eto_vector è¯­ä¹‰æœ€ç›¸ä¼¼çš„10ä¸ªè¯&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eto_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[ 0.6267875   0.08975425  0.48438451  0.405128   -0.49928901  0.11347825
 -0.90057975  0.11877625 -0.27053049  0.344603    0.4368495  -0.3839495
  0.02633176 -0.138534    0.2531555  -0.0060905  -0.48776849  0.75548999
  0.72575876 -0.446079   -0.30361701 -1.039792    0.457687   -0.4286315
  0.44577325 -0.39119426 -0.4783935  -0.2596135  -0.32513325 -0.10315975
 -0.42880575 -0.48328425  0.129438   -0.17085625 -0.13454625 -0.070053
  0.68060375  0.16736924 -0.15664874 -0.20528575  0.385481    0.206432
  0.18913225 -0.93453825  0.58597099  0.60727924  0.009064    0.87661726
  0.65814423 -0.356567  ]

[(&amp;#39;é™ä¸´&amp;#39;, 0.8707027435302734),
 (&amp;#39;ç»„ç»‡&amp;#39;, 0.8625670671463013),
 (&amp;#39;ä¸‰ä½“&amp;#39;, 0.8621653914451599),
 (&amp;#39;æ´¾&amp;#39;, 0.8343338966369629),
 (&amp;#39;æ‹¯æ•‘&amp;#39;, 0.8301094174385071),
 (&amp;#39;å›å†›&amp;#39;, 0.784512460231781),
 (&amp;#39;åœ°çƒ&amp;#39;, 0.7536635398864746),
 (&amp;#39;ä¸–ç•Œ&amp;#39;, 0.7245718836784363),
 (&amp;#39;å¤–éƒ¨&amp;#39;, 0.7078365087509155),
 (&amp;#39;å…¥ä¾µ&amp;#39;, 0.6962169408798218)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;ç†Ÿæ‚‰ä¸‰ä½“çš„æœ‹å‹åº”è¯¥èƒ½è”æƒ³åˆ°èƒŒå›äººç±»çš„ETO(åœ°çƒä¸‰ä½“ç»„ç»‡)æœ‰ä¸¤ä¸ªæ´¾åˆ«ï¼Œåˆ†åˆ«æ˜¯æ‹¯æ•‘æ´¾å’Œé™ä¸´æ´¾ã€‚&lt;/p&gt;
&lt;p&gt;ETOå¼€å‘äº†ä¸€æ¬¾è™šæ‹Ÿç°å®æ¸¸æˆï¼Œå®ƒå‘å‚ä¸è€…å±•ç¤ºäº†ä¸‰ä½“ä¸–ç•Œçš„çœŸå®æƒ…å†µï¼ŒåŒ…æ‹¬å…¶æ¶åŠ£çš„è‡ªç„¶æ¡ä»¶ã€ä¸‰ä½“æ–‡æ˜çš„å†å²åŠå…¶ç§‘æŠ€æ°´å¹³ç­‰ã€‚é€šè¿‡å‚ä¸è¿™ä¸ªæ¸¸æˆï¼Œç©å®¶ä»¬èƒ½å¤Ÿé€æ¸äº†è§£ä¸‰ä½“ä¸–ç•Œçš„çœŸç›¸ï¼Œå¹¶æœ€ç»ˆå†³å®šæ˜¯å¦è¦åŠ å…¥åˆ°æ”¯æŒä¸‰ä½“æ–‡æ˜å…¥ä¾µåœ°çƒçš„è¡Œåˆ—ä¸­æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¸¸æˆä¸ä»…å……å½“äº†ä¿¡æ¯ä¼ é€’çš„åª’ä»‹ï¼Œä¹Ÿæ˜¯ç”„åˆ«å¿—åŒé“åˆè€…çš„å·¥å…·ï¼Œè®©é‚£äº›å¯¹äººç±»ç¤¾ä¼šç°çŠ¶ä¸æ»¡ã€æ¸´æœ›å˜é©çš„äººä»¬æ‰¾åˆ°äº†ç»„ç»‡ï¼Œè¿›è€Œæˆä¸ºäº†èƒŒå›äººç±»çš„å›å†›ä¸€å‘˜ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œâ€œä¸‰ä½“æ¸¸æˆâ€èµ·åˆ°äº†å…³é”®çš„ä½œç”¨ï¼Œæ˜¯è¿æ¥åœ°çƒäººä¸ä¸‰ä½“ä¸–ç•Œçš„é‡è¦æ¡¥æ¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³å†…å®¹&#34;&gt;ç›¸å…³å†…å®¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://cntext.readthedocs.io/&#34;&gt;æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ https://cntext.readthedocs.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/&#34;&gt;è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒWord2Vecæ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/&#34;&gt;ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/&#34;&gt;ä½¿ç”¨ 1000w æ¡è±†ç“£å½±è¯„è®­ç»ƒ Word2Vec&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/&#34;&gt;è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§39ä¸ªFAQæ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/&#34;&gt;è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/&#34;&gt;OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€ç®€ä»‹">ä¸€ã€ç®€ä»‹</h2>
<p><a href="https://nlp.stanford.edu/projects/glove/">Stanford GloVe</a>ï¼ˆGlobal Vectors for Word Representationï¼‰ç®—æ³•ä½œä¸ºä¸€ç§èåˆå…¨å±€ç»Ÿè®¡ä¿¡æ¯ä¸å±€éƒ¨ä¸Šä¸‹æ–‡çª—å£çš„è¯åµŒå…¥æ¨¡å‹ï¼Œç›¸è¾ƒäºWord2Vecä»…ä¾èµ–å±€éƒ¨ä¸Šä¸‹æ–‡ï¼ŒGloVeåˆ©ç”¨å…¨å±€ç»Ÿè®¡ä¿¡æ¯ï¼Œèƒ½æ›´ç²¾å‡†åœ°åæ˜ è¯é¢‘åˆ†å¸ƒç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œåœ¨é«˜ç»´è¯å‘é‡ï¼ˆå¦‚200Dï¼‰ä¸­ï¼ŒGloVeåœ¨è¯è¯­ç±»æ¯”ä»»åŠ¡ä¸­å‡†ç¡®ç‡è¾¾75%ï¼Œå¹¶åœ¨å‘½åå®ä½“è¯†åˆ«ä»»åŠ¡ä¸­ä¼˜äºå…¶ä»–è¯åµŒå…¥æ¨¡å‹ã€‚å› å…¶é«˜æ•ˆçš„è¯­ä¹‰è¡¨å¾èƒ½åŠ›ï¼Œåœ¨ç¤¾ä¼šå­¦ã€ç®¡ç†å­¦ç­‰é¢†åŸŸå±•ç°å‡ºå¹¿æ³›çš„åº”ç”¨ä»·å€¼ã€‚ ç›¸å…³è¯åµŒå…¥æ–‡çŒ®èµ„æ–™å¯é˜…è¯»</p>
<ul>
<li><a href="https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/">OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯</a></li>
<li><a href="https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/">è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨</a></li>
<li><a href="https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/">è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§39ä¸ªFAQæ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2022-04-09-literature-about-embeddings/">æ–‡çŒ®æ±‡æ€» | è¯åµŒå…¥ ä¸ ç¤¾ä¼šç§‘å­¦ä¸­çš„åè§(æ€åº¦)</a></li>
<li><a href="https://textdata.cn/blog/2022-04-01-embeddings-and-attitude/">è¯åµŒå…¥æµ‹é‡ä¸åŒç¾¤ä½“å¯¹æŸæ¦‚å¿µçš„æ€åº¦(åè§)</a></li>
</ul>
<p><br><br></p>
<h2 id="äºŒç¯å¢ƒå‡†å¤‡">äºŒã€ç¯å¢ƒå‡†å¤‡</h2>
<p>cntext2.x å†…ç½®äº† GloVe è®­ç»ƒæ‰€éœ€çš„ç¯å¢ƒï¼Œæ”¯æŒ win å’Œ macã€‚</p>
<p>è·å–<a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">cntext2.x</a> çš„å®‰è£…æ–‡ä»¶ <em><strong>cntext-2.1.5-py3-none-any.whl</strong></em>ï¼Œå¹¶å°†è¯¥whlæ–‡ä»¶æ”¾ç½®äºæ¡Œé¢ã€‚æ‰§è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
pip install cntext-2.1.5-py3-none-any.whl
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">GloVe</span><span class="p">(</span><span class="n">corpus_file</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">dict_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stopwords_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vector_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">min_count</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_memory</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">x_max</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><ul>
<li><em><strong>corpus_file</strong></em>: è¾“å…¥è¯­æ–™æ–‡ä»¶è·¯å¾„ï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰ã€‚è¯¥æ–‡ä»¶ä¸ºåˆ†è¯åçš„è¯­æ–™æ–‡ä»¶ã€‚</li>
<li><em><strong>lang</strong></em>: è¯­æ–™æ–‡ä»¶çš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤ä¸º &lsquo;chinese&rsquo;ã€‚</li>
<li><em><strong>dict_file</strong></em>: è‡ªå®šä¹‰è¯å…¸txtæ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸ºNoneã€‚utf-8ç¼–ç ã€‚</li>
<li><em><strong>stopwords_file</strong></em>: åœç”¨è¯æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º Noneã€‚utf-8ç¼–ç ã€‚</li>
<li><em><strong>vector_size</strong></em>: è¯å‘é‡ç»´åº¦ï¼Œé»˜è®¤ 100ã€‚</li>
<li><em><strong>window_size</strong></em>: ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼Œé»˜è®¤ 15ã€‚</li>
<li><em><strong>min_count</strong></em>: å¿½ç•¥å‡ºç°æ¬¡æ•°ä½äºæ­¤å€¼çš„å•è¯ï¼Œé»˜è®¤ 5ã€‚</li>
<li><em><strong>max_memory</strong></em>: å¯ä¾›ä½¿ç”¨çš„æœ€å¤§å†…å­˜å¤§å°ï¼Œå•ä½ä¸ºGBï¼Œé»˜è®¤ 4;  è¯¥å‚æ•°è¶Šå¤§ï¼Œè®­ç»ƒè¶Šå¿«ã€‚</li>
<li><em><strong>max_iter</strong></em>: è®­ç»ƒçš„æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤ 15ã€‚</li>
<li><em><strong>x_max</strong></em>: å…±ç°çŸ©é˜µä¸­å…ƒç´ çš„æœ€å¤§è®¡æ•°å€¼ï¼Œé»˜è®¤ 10ã€‚</li>
</ul>
<p><br><br></p>
<h2 id="ä¸‰è®­ç»ƒä¸­æ–‡glove">ä¸‰ã€è®­ç»ƒä¸­æ–‡GloVe</h2>
<p>æˆ‘ä»¬å…¶å®åªéœ€è¦è®¾ç½® <em><strong>corpus_file</strong></em> å’Œ <em><strong>lang</strong></em>ï¼Œ ä½†ä¸ºäº†è®©å¤§å®¶çŸ¥é“</p>
<ul>
<li>ä¸Šä¸‹æ–‡çš„çª—å£å¤§å° <em><strong>window_size</strong></em></li>
<li>è®­ç»ƒå‡ºæ¨¡å‹è¯è¯­çš„ç»´åº¦æ•° <em><strong>vector_size</strong></em></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># ç®€åŒ–ç‰ˆè°ƒç”¨ã€‚è®­ç»ƒwindow_size=100ç»´ï¼Œ vector_size=15</span>
<span class="c1"># glove_wv = ct.GloVe(corpus_file=&#39;data/ä¸‰ä½“.txt&#39;, lang=&#39;chinese&#39;)</span>

<span class="c1"># æ­£å¸¸è°ƒç”¨ã€‚è®­ç»ƒwindow_size=15ç»´ï¼Œ vector_size=50</span>
<span class="n">glove_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">GloVe</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;data/ä¸‰ä½“.txt&#39;</span><span class="p">,</span> 
                    <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                    <span class="n">vector_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                    <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                    <span class="n">only_binary</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># åŒæ—¶ä¿å­˜txtå’Œbinä¸¤ç§æ ¼å¼çš„æ¨¡å‹æ–‡ä»¶</span>

<span class="n">glove_wv</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/ä¸‰ä½“_cache.txt Not Found or Empty, Preprocessing Corpus
Start Training GloVe
BUILDING VOCABULARY
Using vocabulary of size 6975.

COUNTING COOCCURRENCES
Merging cooccurrence files: processed 2106999 lines.

Using random seed 1743474106
SHUFFLING COOCCURRENCES
Merging temp files: processed 2106999 lines.

TRAINING MODEL
Read 2106999 lines.
Using random seed 1743474106
04/01/25 - 10:21.46AM, iter: 001, cost: 0.055981
04/01/25 - 10:21.46AM, iter: 002, cost: 0.050632
......
04/01/25 - 10:21.48AM, iter: 014, cost: 0.030047
04/01/25 - 10:21.48AM, iter: 015, cost: 0.029100

GloVe Training Cost 9 s. 
Output Saved To: output/ä¸‰ä½“-GloVe.50.15.txt
Output Saved To: output/ä¸‰ä½“-GloVe.50.15.bin
&lt;gensim.models.keyedvectors.KeyedVectors at 0x331517440&gt;

</code></pre></div><p><img loading="lazy" src="img/05-glove.png" alt=""  />
</p>
<br>
<h2 id="å››ä½¿ç”¨ä¸­æ–‡gloveæ¨¡å‹">å››ã€ä½¿ç”¨ä¸­æ–‡GloVeæ¨¡å‹</h2>
<h3 id="41-åŠ è½½æ¨¡å‹">4.1 åŠ è½½æ¨¡å‹</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># åŠ è½½word2vecæ¨¡å‹.txtæ–‡ä»¶</span>
<span class="n">wv_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/ä¸‰ä½“-GloVe.50.15.bin&#39;</span><span class="p">)</span>
<span class="n">wv_model</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&lt;gensim.models.keyedvectors.KeyedVectors at 0x336ff8dd0&gt;
</code></pre></div><br>
<h3 id="42-keyedvectorsçš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">4.2 KeyedVectorsçš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><em><strong>KeyedVectors.index_to_key</strong></em></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.key_to_index</strong></em></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.vector_size</strong></em></td>
<td>è·å–GloVeæ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.get_vector(word)</strong></em></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.similar_by_word(word, topn=10)</strong></em></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.similar_by_vector(vector, topn=10)</strong></em></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody>
</table>
<h3 id="421-è¯è¡¨">4.2.1 è¯è¡¨</h3>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">wv_model</span><span class="o">.</span><span class="n">index_to_key</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;çš„&#39;,
 &#39;äº†&#39;,
 &#39;åœ¨&#39;,
...
 &#39;å¼•åŠ›&#39;,
 &#39;æ‰€è¯´&#39;,
 &#39;æ˜Ÿé™…&#39;,
 ...]

</code></pre></div><br>
<h3 id="422-è¯è¡¨æ˜ å°„">4.2.2 è¯è¡¨æ˜ å°„</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">wv_model</span><span class="o">.</span><span class="n">key_to_index</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;çš„&#39;: 0,
 &#39;äº†&#39;: 1,
 &#39;åœ¨&#39;: 2,
...
 &#39;å¼•åŠ›&#39;: 997,
 &#39;æ‰€è¯´&#39;: 998,
 &#39;æ˜Ÿé™…&#39;: 999,
 ...}
</code></pre></div><br>
<h3 id="423-å‘é‡ç»´åº¦æ•°">4.2.3 å‘é‡ç»´åº¦æ•°</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è¯è¡¨æœ‰ </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">wv_model</span><span class="o">.</span><span class="n">key_to_index</span><span class="p">)</span><span class="si">}</span><span class="s1"> ä¸ªè¯&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;å‘é‡æ˜¯ </span><span class="si">{</span><span class="n">wv_model</span><span class="o">.</span><span class="n">vector_size</span><span class="si">}</span><span class="s1"> ç»´&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¯è¡¨æœ‰ 4365 ä¸ªè¯
å‘é‡æ˜¯ 50 ç»´
</code></pre></div><br>
<h3 id="424-è·å–è¯å‘é‡">4.2.4 è·å–è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># æŸ¥çœ‹ã€Œé™ä¸´ã€çš„è¯å‘é‡</span>
<span class="n">wv</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;é™ä¸´&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 0.672314,  0.020081,  0.653733,  0.598732, -0.680517, -0.049689,
       -0.16845 , -0.06759 , -0.147955,  0.024006,  0.264551, -0.050127,
        0.252063, -0.475633,  0.103722, -0.012481,  0.040755,  1.154912,
        0.742695,  0.048619, -0.514424, -1.184054,  0.515892, -0.1034  ,
        0.368755, -0.690357, -0.784287, -0.505814,  0.035807, -0.166354,
       -0.26149 ,  0.015089,  0.10626 , -0.215666, -0.374001, -0.123558,
        0.422617, -0.075277, -0.316387, -0.484295,  0.059687,  0.132621,
        0.192094, -0.591919,  0.236281,  0.164198, -0.058724,  1.285457,
        0.905606, -0.52032 ], dtype=float32)
</code></pre></div><br>
<h3 id="425-è¿‘ä¹‰è¯">4.2.5 è¿‘ä¹‰è¯</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">wv</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“&#39;</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å›å†›&#39;, 0.7699569463729858),
 (&#39;æ›´æ–°&#39;, 0.7687217593193054),
 (&#39;åœ°çƒ&#39;, 0.760529100894928),
 (&#39;å…¨é›†&#39;, 0.7575182914733887),
 (&#39;æœ€å¿«&#39;, 0.7426372170448303),
 (&#39;ä¸–ç•Œ&#39;, 0.7262137532234192),
 (&#39;æœ€æ–°&#39;, 0.7219281792640686),
 (&#39;æ¸¸æˆ&#39;, 0.7180070877075195),
 (&#39;å±æœº&#39;, 0.7020451426506042),
 (&#39;æ•™&#39;, 0.7012627720832825)]
</code></pre></div><br>
<h3 id="426-è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡">4.2.6 è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡</h3>
<p>æˆ‘ä»¬å¯ä»¥è®¡ç®—ã€Œä¸‰ä½“ã€ã€ã€Œé™ä¸´ã€ã€ã€Œç»„ç»‡ã€ã€ã€Œæ‹¯æ•‘ã€çš„ä¸­å¿ƒå‘é‡eto_vectorã€‚ å¹¶è¯•å›¾å¯»æ‰¾ä¸­å¿ƒå‘é‡eto_vectorçš„æœ€ç›¸ä¼¼çš„10ä¸ªè¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">eto_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">semantic_centroid</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span> <span class="n">words</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ä¸‰ä½“&#39;</span><span class="p">,</span> <span class="s1">&#39;é™ä¸´&#39;</span><span class="p">,</span> <span class="s1">&#39;ç»„ç»‡&#39;</span><span class="p">,</span> <span class="s1">&#39;æ‹¯æ•‘&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">eto_vector</span><span class="p">)</span>
<span class="c1"># å¯»æ‰¾ eto_vector è¯­ä¹‰æœ€ç›¸ä¼¼çš„10ä¸ªè¯</span>
<span class="n">wv</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">eto_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[ 0.6267875   0.08975425  0.48438451  0.405128   -0.49928901  0.11347825
 -0.90057975  0.11877625 -0.27053049  0.344603    0.4368495  -0.3839495
  0.02633176 -0.138534    0.2531555  -0.0060905  -0.48776849  0.75548999
  0.72575876 -0.446079   -0.30361701 -1.039792    0.457687   -0.4286315
  0.44577325 -0.39119426 -0.4783935  -0.2596135  -0.32513325 -0.10315975
 -0.42880575 -0.48328425  0.129438   -0.17085625 -0.13454625 -0.070053
  0.68060375  0.16736924 -0.15664874 -0.20528575  0.385481    0.206432
  0.18913225 -0.93453825  0.58597099  0.60727924  0.009064    0.87661726
  0.65814423 -0.356567  ]

[(&#39;é™ä¸´&#39;, 0.8707027435302734),
 (&#39;ç»„ç»‡&#39;, 0.8625670671463013),
 (&#39;ä¸‰ä½“&#39;, 0.8621653914451599),
 (&#39;æ´¾&#39;, 0.8343338966369629),
 (&#39;æ‹¯æ•‘&#39;, 0.8301094174385071),
 (&#39;å›å†›&#39;, 0.784512460231781),
 (&#39;åœ°çƒ&#39;, 0.7536635398864746),
 (&#39;ä¸–ç•Œ&#39;, 0.7245718836784363),
 (&#39;å¤–éƒ¨&#39;, 0.7078365087509155),
 (&#39;å…¥ä¾µ&#39;, 0.6962169408798218)]
</code></pre></div><br>
<p>ç†Ÿæ‚‰ä¸‰ä½“çš„æœ‹å‹åº”è¯¥èƒ½è”æƒ³åˆ°èƒŒå›äººç±»çš„ETO(åœ°çƒä¸‰ä½“ç»„ç»‡)æœ‰ä¸¤ä¸ªæ´¾åˆ«ï¼Œåˆ†åˆ«æ˜¯æ‹¯æ•‘æ´¾å’Œé™ä¸´æ´¾ã€‚</p>
<p>ETOå¼€å‘äº†ä¸€æ¬¾è™šæ‹Ÿç°å®æ¸¸æˆï¼Œå®ƒå‘å‚ä¸è€…å±•ç¤ºäº†ä¸‰ä½“ä¸–ç•Œçš„çœŸå®æƒ…å†µï¼ŒåŒ…æ‹¬å…¶æ¶åŠ£çš„è‡ªç„¶æ¡ä»¶ã€ä¸‰ä½“æ–‡æ˜çš„å†å²åŠå…¶ç§‘æŠ€æ°´å¹³ç­‰ã€‚é€šè¿‡å‚ä¸è¿™ä¸ªæ¸¸æˆï¼Œç©å®¶ä»¬èƒ½å¤Ÿé€æ¸äº†è§£ä¸‰ä½“ä¸–ç•Œçš„çœŸç›¸ï¼Œå¹¶æœ€ç»ˆå†³å®šæ˜¯å¦è¦åŠ å…¥åˆ°æ”¯æŒä¸‰ä½“æ–‡æ˜å…¥ä¾µåœ°çƒçš„è¡Œåˆ—ä¸­æ¥ã€‚</p>
<p>è¿™ä¸ªæ¸¸æˆä¸ä»…å……å½“äº†ä¿¡æ¯ä¼ é€’çš„åª’ä»‹ï¼Œä¹Ÿæ˜¯ç”„åˆ«å¿—åŒé“åˆè€…çš„å·¥å…·ï¼Œè®©é‚£äº›å¯¹äººç±»ç¤¾ä¼šç°çŠ¶ä¸æ»¡ã€æ¸´æœ›å˜é©çš„äººä»¬æ‰¾åˆ°äº†ç»„ç»‡ï¼Œè¿›è€Œæˆä¸ºäº†èƒŒå›äººç±»çš„å›å†›ä¸€å‘˜ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œâ€œä¸‰ä½“æ¸¸æˆâ€èµ·åˆ°äº†å…³é”®çš„ä½œç”¨ï¼Œæ˜¯è¿æ¥åœ°çƒäººä¸ä¸‰ä½“ä¸–ç•Œçš„é‡è¦æ¡¥æ¢ã€‚</p>
<p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<ul>
<li><a href="https://cntext.readthedocs.io/">æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ https://cntext.readthedocs.io/</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒWord2Vecæ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/">ä½¿ç”¨ 1000w æ¡è±†ç“£å½±è¯„è®­ç»ƒ Word2Vec</a></li>
<li><a href="https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/">è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§39ä¸ªFAQæ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/">è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨</a></li>
<li><a href="https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/">OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ•™ç¨‹ | ä½¿ç”¨å¤§æ¨¡å‹å°†æ–‡æœ¬ç¼–ç ä¸ºç»“æ„åŒ–æ•°æ®(Ollamaç¯‡)</title>
      <link>https://textdata.cn/blog/2025-02-14-using-online-large-model-api-to-transform-text-data-into-structured-data/</link>
      <pubDate>Fri, 14 Feb 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-02-14-using-online-large-model-api-to-transform-text-data-into-structured-data/</guid>
      <description>å®éªŒæ•°æ®ä¸ºå¤–å–è¯„è®ºï¼Œ ä»Šå¤©å’±ä»¬åšä¸ªæœ‰éš¾åº¦çš„æ–‡æœ¬åˆ†æä»»åŠ¡ï¼Œä»ä¸åŒç»´åº¦(å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡)å¯¹å¤–å–è¯„è®ºè¿›è¡Œæ‰“åˆ†(-1.0~1.0)æ–‡æœ¬åˆ†æï¼ˆä¹Ÿç§°ä¸ºæ–‡æœ¬æŒ–æ˜æˆ–è‡ªç„¶è¯­è¨€å¤„ç†ï¼ŒNLPï¼‰æ˜¯æŒ‡ä½¿ç”¨è®¡ç®—æœºç®—æ³•å’ŒæŠ€æœ¯ä»å¤§é‡æ–‡æœ¬æ•°æ®ä¸­æå–æœ‰ä»·å€¼ä¿¡æ¯çš„è¿‡ç¨‹ã€‚æ–‡æœ¬åˆ†æçš„ç›®æ ‡æ˜¯ä»éç»“æ„åŒ–çš„æ–‡æœ¬æ•°æ®ä¸­è¯†åˆ«æ¨¡å¼ã€æå–å…³é”®ä¿¡æ¯ã€ç†è§£è¯­ä¹‰ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ä»¥ä¾¿è¿›ä¸€æ­¥åˆ†æå’Œåº”ç”¨ã€‚</description>
      <content:encoded><![CDATA[<p>å®éªŒæ•°æ®ä¸ºå¤–å–è¯„è®ºï¼Œ ä»Šå¤©å’±ä»¬åšä¸ªæœ‰éš¾åº¦çš„æ–‡æœ¬åˆ†æä»»åŠ¡ï¼Œä»ä¸åŒç»´åº¦(å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡)å¯¹å¤–å–è¯„è®ºè¿›è¡Œæ‰“åˆ†(-1.0~1.0)ã€‚</p>
<p><img loading="lazy" src="img/06-df.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="ä¸€æ–‡æœ¬åˆ†æ">ä¸€ã€æ–‡æœ¬åˆ†æ</h2>
<p><strong>æ–‡æœ¬åˆ†æ</strong>ï¼ˆä¹Ÿç§°ä¸º<strong>æ–‡æœ¬æŒ–æ˜</strong>æˆ–<strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>ï¼ŒNLPï¼‰æ˜¯æŒ‡ä½¿ç”¨è®¡ç®—æœºç®—æ³•å’ŒæŠ€æœ¯ä»å¤§é‡æ–‡æœ¬æ•°æ®ä¸­æå–æœ‰ä»·å€¼ä¿¡æ¯çš„è¿‡ç¨‹ã€‚æ–‡æœ¬åˆ†æçš„ç›®æ ‡æ˜¯ä»éç»“æ„åŒ–çš„æ–‡æœ¬æ•°æ®ä¸­è¯†åˆ«æ¨¡å¼ã€æå–å…³é”®ä¿¡æ¯ã€ç†è§£è¯­ä¹‰ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ä»¥ä¾¿è¿›ä¸€æ­¥åˆ†æå’Œåº”ç”¨ã€‚ å¸¸ç”¨çš„æ–‡æœ¬åˆ†ææ–¹æ³•æœ‰:</p>
<ul>
<li>è¯é¢‘ç»Ÿè®¡</li>
<li>æƒ…æ„Ÿåˆ†æ</li>
<li>æ–‡æœ¬åˆ†ç±»</li>
<li>è¯é¢˜åˆ†æ</li>
<li>&hellip;</li>
</ul>
<p><img loading="lazy" src="img/text-2-structured-data.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="äºŒå¤§æ¨¡å‹äº‘æœåŠ¡å•†">äºŒã€å¤§æ¨¡å‹äº‘æœåŠ¡å•†</h2>
<p>éšç€ chatGPTã€deepseekã€é€šä¹‰åƒé—®è¿™ç±»å¤§è¯­è¨€æ¨¡å‹(<strong><em>LLM</em></strong>, large language model)çš„å‡ºç°ï¼Œ å®ƒä»¬å¢å¼ºäº†æ–‡æœ¬ç†è§£èƒ½åŠ›ï¼Œèƒ½å¤Ÿæ›´ç²¾å‡†çš„æŠŠæ¡æ–‡æœ¬ä¸­çš„è¯­ä¹‰å’Œæƒ…ç»ªç­‰ä¿¡æ¯ï¼Œä½¿å¾—æ–‡æœ¬åˆ†æä»»åŠ¡å®ç°éš¾åº¦å¤§å¤§é™ä½ã€‚</p>
<p>ä¸€èˆ¬å¤§æ¨¡å‹æœåŠ¡æä¾›å•†ï¼Œæœ‰å…è´¹å¼€æºå’Œå°é—­ä»˜è´¹ä¸¤ç§æœåŠ¡ã€‚</p>
<ul>
<li>å…è´¹æ¨¡å‹ï¼Œ å¯é€šè¿‡ <strong>Ollama</strong> æœ¬åœ°éƒ¨ç½²ã€‚éƒ¨ç½²æ•™ç¨‹å¯å‚è€ƒ <a href="https://textdata.cn/blog/2024-06-14-how-to-download-large-language-model-with-ollama/"><strong>æ•™ç¨‹ | å¦‚ä½•ä½¿ç”¨ Ollama ä¸‹è½½ &amp; ä½¿ç”¨æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹</strong></a></li>
<li>ä»˜è´¹æ¨¡å‹ï¼Œ è´¦æˆ·æœ‰é’±çš„æƒ…å†µä¸‹ï¼Œ é€šè¿‡è”ç½‘è°ƒç”¨å¤§æ¨¡å‹å‚å•†çš„ API æ¥å£ã€‚</li>
</ul>
<p>ä½¿ç”¨ Python ä»£ç ï¼Œ è”ç½‘è°ƒç”¨å¤§æ¨¡å‹çš„ APIï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®å®šä¸‰ä¸ª</p>
<ul>
<li><strong><em>BASE_URL</em></strong> æœåŠ¡æä¾›å•†è¿è¡Œå¤§æ¨¡å‹çš„ç½‘å€ã€‚ å¦‚æœæ˜¯æœ¬åœ°ç¦»çº¿ï¼Œ BASE_URL = ''</li>
<li><strong><em>API_KEY</em></strong> è°ƒç”¨æœåŠ¡æ‰€éœ€å¯†é’¥ï¼Œç±»ä¼¼äºé’¥åŒ™</li>
<li><strong><em>MODEL_NAME</em></strong> è°ƒç”¨å“ªç§æ¨¡å‹(åå­—)</li>
</ul>
<p>é˜¿é‡Œäº‘ä¸éœ€è¦æ³¨å†Œï¼Œæ”¯ä»˜å®æ‰«ç ç™»å½•ï¼Œå³å¯è°ƒç”¨å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹ï¼Œå¦‚ <strong>é€šä¹‰åƒé—®qwen</strong>ã€<strong>Llama</strong>ã€<strong>deepseek</strong>ã€<strong>chatGLM</strong>ç­‰ã€‚ç°åœ¨æˆ‘ä»¬ä»¥é˜¿é‡Œäº‘æœåŠ¡å•†ä¸ºä¾‹ï¼Œ ä¾æ¬¡è·å–<strong>BASE_URL</strong>ã€<strong>API_KEY</strong>ã€<strong>MODEL_NAME</strong>ã€‚</p>
<br>
<h3 id="21-å……é’±">2.1 å……é’±</h3>
<p><a href="https://billing-cost.console.aliyun.com/home">é˜¿é‡Œäº‘</a>æ›¿å’±ä»¬åœ¨äº‘æœåŠ¡å•†è¿è¡Œå¤§æ¨¡å‹ï¼Œè‚¯å®šä¸èƒ½æ˜¯å…è´¹çš„ã€‚ æ‰€ä»¥å…ˆæ£€æŸ¥ä¸‹è´¦å·é‡Œæ˜¯å¦æœ‰é’±ï¼Œæ²¡é’±äº†è®°å¾—å……å€¼å“¦ã€‚ ç‚¹å‡»é“¾æ¥ <a href="https://billing-cost.console.aliyun.com/home">https://billing-cost.console.aliyun.com/home</a></p>
<p><img loading="lazy" src="img/02-charge.png" alt=""  />
</p>
<br>
<h3 id="22-base_url">2.2 BASE_URL</h3>
<p>é˜¿é‡Œäº‘è¿è¡Œå¤§æ¨¡å‹çš„ç½‘å€ <strong><em>BASE_URL</em></strong> ä¸º <code>https://dashscope.aliyuncs.com/compatible-mode/v1</code></p>
<br>
<h3 id="23-api_key">2.3 API_KEY</h3>
<p>ç‚¹å‡» <a href="https://bailian.console.aliyun.com/">é˜¿é‡Œäº‘ç™¾ç‚¼ https://bailian.console.aliyun.com/</a>ï¼Œæ‰“å¼€åç‚¹å‡»å³ä¸Šè§’<img loading="lazy" src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0278981271/p824758.png" alt="image"  />
å›¾æ ‡ï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­å•å‡»<strong>API-KEY</strong>ã€‚</p>
<p><img loading="lazy" src="img/01-bai-lian.png" alt=""  />
</p>
<br>
<p>åœ¨å·¦ä¾§å¯¼èˆªæ ï¼Œé€‰æ‹© <strong>å…¨éƒ¨ API-KEY</strong> æˆ– <strong>æˆ‘çš„ API-KEY</strong> ï¼Œç„¶å<strong>åˆ›å»º</strong>ï¼ˆå›¾ä¸­ä½ç½® â‘ ï¼‰æˆ–<strong>æŸ¥çœ‹</strong>ï¼ˆå›¾ä¸­ä½ç½® â‘¡ï¼‰<strong><em>API Key</em></strong>ã€‚</p>
<p><img loading="lazy" src="img/02-api-key.png" alt=""  />
</p>
<br>
<p><strong>æ³¨æ„:</strong> è¯·ä¸è¦å°† <strong><em>API Key</em></strong> ä»¥ä»»ä½•æ–¹å¼å…¬å¼€ï¼Œé¿å…å› æœªç»æˆæƒçš„ä½¿ç”¨é€ æˆå®‰å…¨é£é™©æˆ–èµ„é‡‘æŸå¤±ã€‚</p>
<br>
<h3 id="24-model_name">2.4 MODEL_NAME</h3>
<p><a href="https://help.aliyun.com/zh/model-studio/getting-started/models">é€šä¹‰åƒé—®çš„æ¨¡å‹åˆ—è¡¨ https://help.aliyun.com/zh/model-studio/getting-started/models</a>ï¼Œ æ ¹æ®ä»»åŠ¡éœ€è¦ï¼Œé€‰æ‹©é€‚åˆçš„æ¨¡å‹ã€‚</p>
<p><img loading="lazy" src="img/03-model-name.png" alt=""  />
</p>
<p>ä¸Šå›¾ä»…å±•ç¤ºäº†é˜¿é‡Œäº‘æœåŠ¡æä¾›çš„éƒ¨åˆ†å¤§æ¨¡å‹ï¼Œ ä»¥é€šä¹‰åƒé—®æ——èˆ°æ¨¡å‹ä¸ºä¾‹ï¼Œ <strong>MODEL_NAME</strong>æ¨¡å‹ååˆ†åˆ«ä¸º**<em>qwen-max</em><strong>ã€</strong><em>qwen-plus</em><strong>ã€</strong><em>qwen-turbo</em><strong>ã€</strong><em>qwen-long</em>**ã€‚</p>
<br>
<h2 id="ä¸‰ç¯å¢ƒé…ç½®">ä¸‰ã€ç¯å¢ƒé…ç½®</h2>
<p>åœ¨ Python ä¸­è°ƒç”¨å¤§æ¨¡å‹ï¼Œ ä¸è®ºæ˜¯æœ¬åœ°ç¦»çº¿ API è¿˜æ˜¯äº‘æœåŠ¡ APIï¼Œ å…ˆè¦é…ç½®å¥½ç›¸åº”çš„ç¯å¢ƒã€‚ cntext2xæ”¯æŒOllamaå’ŒLMstudioç»“æ„åŒ–è¾“å‡ºï¼Œ æœ¬æ–‡ä½¿ç”¨<strong>Ollama+cntext2.x</strong> ç»„åˆã€‚</p>
<h3 id="31-å®‰è£…è½¯ä»¶-ollama">3.1 å®‰è£…è½¯ä»¶ Ollama</h3>
<p><a href="https://ollama.ai/"><strong>Ollama</strong></a>æ˜¯ä¸€æ¬¾å¼€æºåº”ç”¨ç¨‹åºï¼Œå¯è®©æ‚¨ä½¿ç”¨ MacOSã€Linux å’Œ Windows ä¸Šçš„å‘½ä»¤è¡Œç•Œé¢åœ¨æœ¬åœ°è¿è¡Œã€åˆ›å»ºå’Œå…±äº«å¤§å‹è¯­è¨€æ¨¡å‹ã€‚</p>
<p>Ollama å¯ä»¥ç›´æ¥ä»å…¶åº“ä¸­è®¿é—®å„ç§ LLMï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤å³å¯ä¸‹è½½ã€‚ä¸‹è½½åï¼Œåªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å¼€å§‹ä½¿ç”¨ã€‚è¿™å¯¹äºå·¥ä½œé‡å›´ç»•ç»ˆç«¯çª—å£çš„ç”¨æˆ·éå¸¸æœ‰å¸®åŠ©ã€‚Ollama çš„å®‰è£…ã€é…ç½®ã€ä½¿ç”¨çš„è¯¦ç»†æ•™ç¨‹å¯é˜…è¯» <a href="https://textdata.cn/blog/2024-06-14-how-to-download-large-language-model-with-ollama/"><strong>æ•™ç¨‹ | å¦‚ä½•ä½¿ç”¨ Ollama ä¸‹è½½ &amp; ä½¿ç”¨æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹</strong></a></p>
<p><img loading="lazy" src="img/04-ollama-gui.png" alt=""  />
</p>
<br>
<h3 id="32-å®‰è£…-cntext2x">3.2 å®‰è£… cntext2.x</h3>
<p><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">cntext2.x</a>æ˜¯å¤§é‚“å¼€å‘çš„æ–‡æœ¬åˆ†æåº“ï¼Œ å†…ç½®äº†ä¸°å¯Œçš„æ–‡æœ¬åˆ†æå‡½æ•°ï¼Œ å¦‚è¯é¢‘ç»Ÿè®¡ã€è¯å…¸æ³•æƒ…æ„Ÿåˆ†æã€ç»æµæ”¿ç­–ä¸ç¡®å®šæ€§ epu ç­‰ï¼Œ å¤§å¤§é™ä½äº†æ–‡æœ¬åˆ†æéš¾åº¦ã€‚ ä»¥æœ¬æ–‡å¤§æ¨¡å‹æ–‡æœ¬åˆ†æä¸ºä¾‹ï¼Œ Python æºä»£ç éœ€è¦ <strong>80+</strong> è¡Œï¼Œ ç»è¿‡å¤§é‚“å°è£…ï¼Œ ä½¿ç”¨ cntext2.x å†…ç½®å‡½æ•° <strong><em>text_analysis_by_llm</em></strong> ä»…éœ€è¦ä¸åˆ° <strong>5</strong> è¡Œä»£ç ã€‚</p>
<p><strong><em>å®‰è£…åŒ… cntext-2.1.7-py3-none-any.whl</em></strong> æ˜¯ä»˜è´¹å†…å®¹(100 å…ƒ)ï¼Œ å¦‚éœ€ä½¿ç”¨<strong>åŠ å¾®ä¿¡: 372335839</strong>ï¼Œå¤‡æ³¨ã€Œ<strong>å§“å-å­¦æ ¡-ä¸“ä¸š-cntext</strong>ã€</p>
<p>æ‰€æœ‰ <strong><em>cntext2.x</em></strong> å®‰è£…æ–¹æ³•ç±»ä¼¼ï¼Œ ä»¥ç›®å‰ <strong><em>cntext2.1.7</em></strong> ä¸ºä¾‹ï¼Œå°† <strong><em>cntext-2.1.7-py3-none-any.whl</em></strong> æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ <strong><em>cmd</em></strong> (è‹¹æœç”µè„‘æ‰“å¼€ terminal)ï¼Œ è¾“å…¥ <strong><em>cd desktop</em></strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¹‹ååœ¨ <strong><em>cmd</em></strong> (è‹¹æœç”µè„‘æ‰“å¼€ terminal) ä¸­ä½¿ç”¨ <strong><em>pip3</em></strong> å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext-2.1.7-py3-none-any.whl
</code></pre></div><p>éœ€è¦æ³¨æ„ï¼Œ <strong>cntext2.x ä½¿ç”¨ç¯å¢ƒä¸º Python3.8 åŠä»¥ä¸Šç‰ˆæœ¬</strong>ï¼› æ–‡ç« å¼€å¤´å’Œæ–‡ç« æœ«éƒ½æœ‰ <strong><em>cntext-2.1.7-py3-none-any.whl</em></strong> è·å–æ–¹å¼è¯´æ˜ã€‚</p>
<p><br><br></p>
<h2 id="å››å®éªŒä»£ç ">å››ã€å®éªŒä»£ç </h2>
<h4 id="41-å¯åŠ¨æœ¬åœ°æœåŠ¡ollama">4.1 å¯åŠ¨æœ¬åœ°æœåŠ¡(Ollama)</h4>
<p>ä½¿ç”¨ <strong>cntext2.x</strong> è°ƒç”¨æœ¬åœ°ç”µè„‘å®‰è£…çš„å¤§æ¨¡å‹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œä¸éœ€è¦è®¾ç½®<strong>BASE_URL</strong>ã€<strong>API_KEY</strong> è¿™ä¸¤ä¸ªå‚æ•°ã€‚</p>
<p>æœ¬èŠ‚ä½¿ç”¨æœ¬åœ°å®‰è£…çš„æ¨¡å‹ï¼Œ å…ˆåœ¨å‘½ä»¤è¡Œ<strong>cmd</strong> (mac å¯¹åº” terminal) ä¸­æ£€æŸ¥æœ¬åœ°å·²å®‰è£…çš„æ¨¡å‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ollama list
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">NAME                       ID              SIZE      MODIFIED
qwen2.5:7b                 845dbda0ea48    4.7 GB    7 days ago
qwen2.5:3b                 357c53fb659c    1.9 GB    7 days ago
qwen2.5:0.5b               a8b0c5157701    397 MB    7 days ago
qwen2.5:1.5b               65ec06548149    986 MB    7 days ago
deepseek-r1:1.5b           a42b25d8c10a    1.1 GB    7 days ago
deepseek-r1:7b             0a8c26691023    4.7 GB    7 days ago
nomic-embed-text:latest    0a109f422b47    274 MB    9 months ago
</code></pre></div><br>
<p>åœ¨ <strong><em>cmd</em></strong> ä¸­ä½¿ç”¨å‘½ä»¤ <strong><em>ollama serve</em></strong> å¯åŠ¨æœ¬åœ°æœåŠ¡ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ollama</span> <span class="n">serve</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">2025/02/14 16:00:18 routes.go:1259: INFO server config env=&#34;map[HTTPS_PROXY: HTTP_PROXY: NO_PROXY: OLLAMA_DEBUG:false OLLAMA_FLASH_ATTENTION:false OLLAMA_GPU_OVERHEAD:0 OLLAMA_HOST:http://127.0.0.1:11434 OLLAMA_KEEP_ALIVE:5m0s OLLAMA_KV_CACHE_TYPE: OLLAMA_LLM_LIBRARY: OLLAMA_LOAD_TIMEOUT:5m0s OLLAMA_MAX_LOADED_MODELS:0 OLLAMA_MAX_QUEUE:512 OLLAMA_MODELS:/Users/deng/.ollama/models OLLAMA_MULTIUSER_CACHE:false OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:0 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://* vscode-webview://*] OLLAMA_SCHED_SPREAD:false http_proxy: https_proxy: no_proxy:]&#34;
time=2025-02-07T16:00:18.551+08:00 level=INFO source=images.go:757 msg=&#34;total blobs: 11&#34;
time=2025-02-07T16:00:18.551+08:00 level=INFO source=images.go:764 msg=&#34;total unused blobs removed: 0&#34;
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in &#34;debug&#34; mode. Switch to &#34;release&#34; mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)
er.(*Server).GenerateRoutes.func1 (5 handlers)
......
time=2025-02-14T16:00:18.553+08:00 level=INFO source=routes.go:1339 msg=&#34;Dynamic LLM libraries&#34; runners=[metal]
time=2025-02-14T16:00:18.577+08:00 level=INFO source=types.go:131 msg=&#34;inference compute&#34; id=0 library=metal variant=&#34;&#34; compute=&#34;&#34; driver=0.0 name=&#34;&#34; total=&#34;72.0 GiB&#34; available=&#34;72.0 GiB&#34;

</code></pre></div><p><strong><em>cmd</em></strong> ä¹‹ä¸­å‡ºç°ä¸Šæ–¹ä¿¡æ¯ï¼Œè¯æ˜æœåŠ¡å·²ç»å¯åŠ¨ã€‚ å¦‚æœä¹‹å‰å·²ç»å¯åŠ¨æœåŠ¡ï¼Œ ä¼šçœ‹åˆ°ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Error: listen tcp 127.0.0.1:11434: bind: address already in use
</code></pre></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ Python ä¸­è°ƒç”¨æ¨¡å‹ <strong><em>qwen2.5:7b</em></strong></p>
<br>
<h3 id="42-è¯»å–æ•°æ®">4.2 è¯»å–æ•°æ®</h3>
<p><strong>å®éªŒæ•°æ®ä¸ºå¤–å–è¯„è®ºï¼Œ ä»Šå¤©å’±ä»¬åšä¸ªæœ‰éš¾åº¦çš„ä»»åŠ¡ï¼Œä»ä¸åŒç»´åº¦(å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡)å¯¹å¤–å–è¯„è®ºè¿›è¡Œæ‰“åˆ†(-1.0~1.0)</strong>ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1">#æ„é€ å®éªŒæ•°æ®</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;é€Ÿåº¦éå¸¸å¿«ï¼Œå£å‘³éå¸¸å¥½ï¼Œ æœåŠ¡éå¸¸æ£’ï¼&#39;</span><span class="p">,</span>
        <span class="s1">&#39;é€é¤æ—¶é—´è¿˜æ˜¯æ¯”è¾ƒä¹…&#39;</span><span class="p">,</span>
        <span class="s1">&#39;é€å•å¾ˆå¿«ï¼Œèœä¹Ÿä¸é”™èµ&#39;</span><span class="p">,</span>
        <span class="s1">&#39;å¤ªéš¾åƒäº†&#39;</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">])</span>

<span class="c1">#å‡è®¾æœ‰å¤–å–è¯„è®ºæ•°æ®é›†data.csvï¼Œ æ–‡ä»¶å†…æœ‰å­—æ®µcommentï¼Œ ç›´æ¥è¯»å–æ•°æ®ã€‚</span>
<span class="c1">#df = pd.read_csv(&#39;data.csv&#39;)</span>
<span class="n">df</span>
</code></pre></div><p><img loading="lazy" src="img/05-df.png" alt=""  />
</p>
<br>
<h3 id="43-å°å®éªŒctllm">4.3 å°å®éªŒct.llm</h3>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">PROMPT</span> <span class="o">=</span> <span class="s1">&#39;ä»å£å‘³tasteã€é€Ÿåº¦speedã€æœåŠ¡serviceä¸‰ä¸ªç»´åº¦ï¼Œ å¯¹å¤–å–è¯„è®ºå†…å®¹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œ åˆ†åˆ«è¿”å›ä¸åŒç»´åº¦çš„åˆ†å€¼(åˆ†å€¼èŒƒå›´-1.0 ~ 1.0)&#39;</span>
<span class="n">MODEL_NAME</span> <span class="o">=</span> <span class="s1">&#39;qwen2.5:7b&#39;</span>

<span class="c1">#å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡</span>
<span class="n">OUTPUT_FORMAT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>

<span class="n">COMMENT_CONTENT</span> <span class="o">=</span> <span class="s1">&#39;å¤ªéš¾åƒäº†&#39;</span>

<span class="c1">#ä½¿ç”¨</span>
<span class="c1">#result = ct.llm(text=COMMENT_CONTENT,</span>
<span class="c1">#æˆ–</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">COMMENT_CONTENT</span><span class="p">,</span>
                                 <span class="n">prompt</span><span class="o">=</span><span class="n">PROMPT</span><span class="p">,</span>
                                 <span class="n">model_name</span><span class="o">=</span><span class="n">MODEL_NAME</span><span class="p">,</span>
                                 <span class="n">output_format</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                                <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                                <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">},</span>
                                 <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                 <span class="n">return_df</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">result</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;taste&#39;: -1.0, &#39;speed&#39;: 0.0, &#39;service&#39;: 0.0}
</code></pre></div><br>
<h3 id="44-å†…ç½®prompt">4.4 å†…ç½®Prompt</h3>
<p>cntext2xå†…ç½®äº†å¸¸ç”¨çš„10ç§ä¸­æ–‡æ–‡æœ¬åˆ†æä»»åŠ¡ï¼Œ æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„ prompt æ¨¡æ¿ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤æ¨¡æ¿æˆ–è€…å‚è€ƒæ¨¡æ¿è¿›è¡Œè‡ªå®šä¹‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#æŸ¥çœ‹æœ‰å“ªäº›ä»»åŠ¡</span>
<span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">tasks_list</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;sentiment&#39;,
 &#39;emotion&#39;,
 &#39;classify&#39;,
 &#39;intent&#39;,
 &#39;keywords&#39;,
 &#39;entities&#39;,
 &#39;summarize&#39;,
 &#39;rewrite&#39;,
 &#39;quality&#39;,
 &#39;similarity&#39;]
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#è·å–sentimentæ¨¡æ¿</span>
<span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">tasks_get</span><span class="p">(</span><span class="s1">&#39;sentiment&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;prompt&#39;: &#39;åˆ†æè¯„è®ºçš„æƒ…æ„Ÿå€¾å‘ï¼šè¿”å›æƒ…æ„Ÿç±»åˆ« labelï¼ˆpos è¡¨ç¤ºæ­£é¢ï¼Œneg è¡¨ç¤ºè´Ÿé¢ï¼Œneutral è¡¨ç¤ºä¸­æ€§ï¼‰å’Œæƒ…æ„Ÿåˆ†å€¼ scoreï¼ˆå–å€¼èŒƒå›´ -1~1ï¼Œè´Ÿæ•°ä¸ºè´Ÿé¢ï¼‰&#39;,
 &#39;output_format&#39;: {&#39;label&#39;: &#39;str&#39;, &#39;score&#39;: &#39;float&#39;}}
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">#ä½¿ç”¨sentimentæç¤ºè¯æ¨¡æ¿ã€‚
#å¯ç”¨OllamaæœåŠ¡ï¼Œè°ƒç”¨qwen2.5:7bæ¨¡å‹
ct.llm(&#34;æœåŠ¡å¾ˆæ£’ï¼&#34;, task=&#34;sentiment&#34;, backend=&#34;ollama&#34;,  model_name=&#34;qwen2.5:7b&#34;)
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[cntext2x] âœ… è¿æ¥æ¨¡å‹æœåŠ¡: http://127.0.0.1:11434/v1
{&#39;label&#39;: &#39;pos&#39;, &#39;score&#39;: 0.8}
</code></pre></div><br>
<h3 id="45-äº‘æœåŠ¡å•†-api">4.5 äº‘æœåŠ¡å•† API</h3>
<p>ä½¿ç”¨ <strong>cntext2.x</strong> è°ƒç”¨äº‘æœåŠ¡å•†å¤§æ¨¡å‹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œéœ€è¦è®¾ç½®<strong>BASE_URL</strong>ã€<strong>API_KEY</strong>ç­‰å‚æ•°ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">PROMPT</span> <span class="o">=</span> <span class="s1">&#39;ä»å£å‘³tasteã€é€Ÿåº¦speedã€æœåŠ¡serviceä¸‰ä¸ªç»´åº¦ï¼Œ å¯¹å¤–å–è¯„è®ºå†…å®¹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œ åˆ†åˆ«è¿”å›ä¸åŒç»´åº¦çš„åˆ†å€¼(åˆ†å€¼èŒƒå›´-1.0 ~ 1.0)&#39;</span>
<span class="n">BASE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://dashscope.aliyuncs.com/compatible-mode/v1&#39;</span>
<span class="n">API_KEY</span> <span class="o">=</span> <span class="s1">&#39;ä½ çš„API-KEY&#39;</span>
<span class="n">MODEL_NAME</span> <span class="o">=</span> <span class="s1">&#39;qwen-max&#39;</span>

<span class="c1">#å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡</span>
<span class="n">OUTPUT_FORMAT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>

<span class="n">COMMENT_CONTENT</span> <span class="o">=</span> <span class="s1">&#39;å¤ªéš¾åƒäº†&#39;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">COMMENT_CONTENT</span><span class="p">,</span>
                <span class="n">prompt</span><span class="o">=</span><span class="n">PROMPT</span><span class="p">,</span>
                <span class="n">base_url</span><span class="o">=</span><span class="n">BASE_URL</span><span class="p">,</span>
                <span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span>
                <span class="n">model_name</span><span class="o">=</span><span class="n">MODEL_NAME</span><span class="p">,</span>
                <span class="n">output_format</span><span class="o">=</span><span class="n">OUTPUT_FORMAT</span><span class="p">,</span>
                <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                <span class="n">return_df</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">result</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;taste&#39;: -1.0, &#39;speed&#39;: 0.0, &#39;service&#39;: 0.0}
</code></pre></div><p>å°å®éªŒæˆåŠŸï¼Œç°åœ¨è®¾è®¡åˆ†æå‡½æ•°ï¼Œ å¯¹æ‰€æœ‰çš„è¯„è®ºè¿›è¡Œåˆ†æï¼Œè¾“å‡º dataframe æ ¼å¼ï¼Œä¿å­˜åˆ° csv ä¸­ã€‚</p>
<br>
<br>
<h3 id="46-è®¾è®¡åˆ†æå‡½æ•°">4.6 è®¾è®¡åˆ†æå‡½æ•°</h3>
<p>ä½¿ç”¨ <strong>cntext2.x</strong> ä¸­çš„å¤§æ¨¡å‹æ–‡æœ¬åˆ†æå‡½æ•° <strong>ct.llm(text, prompt, base_url, api_key, model_name, temperature, output_format, max_retries, return_df)_</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- text (str): å¾…åˆ†æçš„æ–‡æœ¬å†…å®¹
- task (str): é¢„è®¾ä»»åŠ¡åç§°ï¼Œé»˜è®¤ä¸º &#39;sentiment&#39;ã€‚å¯ç”¨ä»»åŠ¡è§ TASKS.keys()
- backend (str, optional): å¿«æ·åç«¯åˆ«åï¼š
     - &#39;ollama&#39; â†’ http://127.0.0.1:11434/v1
     - &#39;lmstudio&#39; æˆ– &#39;lms&#39; â†’ http://localhost:1234/v1
     - None â†’ éœ€é…åˆ base_url ä½¿ç”¨
- base_url (str, optional): è‡ªå®šä¹‰æ¨¡å‹æœåŠ¡åœ°å€ï¼Œä¼˜å…ˆçº§é«˜äº backendã€‚ ç¤ºä¾‹ï¼š
     - è¿œç¨‹ï¼šhttps://dashscope.aliyuncs.com/compatible-mode/v1
     - å†…ç½‘ï¼šhttp://192.168.1.10:11434/v1
     - æœ¬åœ°ï¼šhttp://localhost:1234/v1
- api_key (str): API å¯†é’¥ï¼Œè¿œç¨‹æœåŠ¡å¿…å¡«ï¼Œæœ¬åœ°é€šå¸¸ä¸º &#34;EMPTY&#34;
- model_name (str): æ¨¡å‹åç§°ï¼ˆéœ€æœåŠ¡ç«¯å·²åŠ è½½ï¼‰
- temperature (float): ç”Ÿæˆæ¸©åº¦ï¼Œ0 è¡¨ç¤ºç¡®å®šæ€§è¾“å‡º
- max_retries (int): å¤±è´¥é‡è¯•æ¬¡æ•°
- return_df (bool): æ˜¯å¦è¿”å› DataFrame
- verbose (bool): æ˜¯å¦è¾“å‡ºè¿æ¥ä¿¡æ¯
- prompt (str, optional): è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯­
- output_format (dict, optional): è‡ªå®šä¹‰è¾“å‡ºç»“æ„ï¼Œå¦‚ {&#39;label&#39;: str, &#39;score&#39;: float}
</code></pre></div><p>ä»¥è°ƒç”¨äº‘æœåŠ¡å•†å¤§æ¨¡å‹ä¸ºä¾‹ï¼Œ è®¾è®¡<strong>ct.llm</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1">#åˆ†æå‡½æ•°</span>
<span class="k">def</span> <span class="nf">llm_analysis</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
                                <span class="n">prompt</span><span class="o">=</span> <span class="s1">&#39;ä»å£å‘³tasteã€é€Ÿåº¦speedã€æœåŠ¡serviceä¸‰ä¸ªç»´åº¦ï¼Œ å¯¹å¤–å–è¯„è®ºå†…å®¹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œ åˆ†åˆ«è¿”å›ä¸åŒç»´åº¦çš„åˆ†å€¼(åˆ†å€¼èŒƒå›´-1.0 ~ 1.0)&#39;</span><span class="p">,</span>
                                <span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://dashscope.aliyuncs.com/compatible-mode/v1&#39;</span><span class="p">,</span>
                                <span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;ä½ çš„API-KEY&#39;</span><span class="p">,</span>
                                <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;qwen-max&#39;</span><span class="p">,</span>
                                <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">output_format</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
                               <span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>


<span class="c1">#æ‰¹é‡è¿ç®—</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">llm_analysis</span><span class="p">)</span>
<span class="n">res_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#ä¿å­˜åˆ†æç»“æœ</span>
<span class="n">res_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;result.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">res_df</span>
</code></pre></div><p><img loading="lazy" src="img/06-df.png" alt=""  />
</p>
<br>
<br>
<h2 id="äº”è·å–-cntext2x">äº”ã€è·å– cntext2.x</h2>
<p>å®‰è£…åŒ…<strong>cntext-2.1.7-py3-none-any.whl</strong> æ˜¯ä»˜è´¹å†…å®¹(<strong><em>100 å…ƒ</em></strong>)ï¼Œ å¦‚éœ€ä½¿ç”¨<strong>åŠ å¾®ä¿¡: 372335839</strong>ï¼Œå¤‡æ³¨ã€Œ<strong>å§“å-å­¦æ ¡-ä¸“ä¸š-cntext</strong>ã€</p>
<p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<ul>
<li><a href="https://textdata.cn/2025-09-09-transform-text-data-into-structured-data-with-lmstudio-and-cntext/"><strong>æ•™ç¨‹ | ä½¿ç”¨å¤§æ¨¡å‹å°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®(LMstudioç¯‡)</strong></a></li>
<li><a href="https://textdata.cn/blog/2025-02-17-gpt-is-an-effective-tool-for-multilingual-psychological-text-analysis/"><strong>PNAS | GPT æ˜¯å¤šè¯­è¨€å¿ƒç†æ–‡æœ¬åˆ†æçš„æœ‰æ•ˆå·¥å…·</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-06-14-how-to-download-large-language-model-with-ollama/"><strong>æ•™ç¨‹ | å¦‚ä½•ä½¿ç”¨ Ollama ä¸‹è½½ &amp; ä½¿ç”¨æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-08-06-using-the-ollama-local-large-model-to-predict-the-sentiment-category-of-online-comments/"><strong>å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹é¢„æµ‹åœ¨çº¿è¯„è®ºæƒ…æ„Ÿç±»åˆ«å’Œåˆ†å€¼</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-08-07-structured-outputs-with-ollama/"><strong>å®éªŒ | å¦‚ä½•ä½¿ Ollama ç»“æ„åŒ–è¾“å‡º JSON æ ·å¼çš„ç»“æœ</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/"><strong>æ¨è | æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-06-14-using-large-language-model-to-extract-structure-data-from-raw-text/"><strong>å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹ä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯</strong></a></li>
<li><a href="https://textdata.cn/blog/2024-07-10-using-large-language-model-to-build-diy-dictionary/">å®éªŒ | ä½¿ç”¨ Ollama æœ¬åœ°å¤§æ¨¡å‹ DIY åˆ¶ä½œå•è¯ä¹¦æ•™æ¡ˆ PDF</a></li>
<li><a href="https://textdata.cn/blog/2024-08-05-create-a-blog-writer-multi-agent-system-using-crewai-and-ollama/">å®éªŒ | ä½¿ç”¨ Crewai å’Œ Ollama æ„å»ºæ™ºèƒ½ä½“(AI Agent)å¸®æˆ‘æ’°å†™åšå®¢æ–‡ç« </a></li>
</ul>
<p><br><br></p>
<h2 id="ç²¾é€‰å†…å®¹">ç²¾é€‰å†…å®¹</h2>
<ul>
<li><a href="https://textdata.cn/blog/datasets_available_for_management_science/">LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/the_text_analysis_list_about_ms/">LIST | ç¤¾ç§‘(ç»ç®¡)æ•°æ®æŒ–æ˜æ–‡çŒ®èµ„æ–™æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2024-06-16-scrapegraph-ai/">ç½‘ç»œçˆ¬è™« | ä½¿ç”¨ scrapegraph-ai(å¤§æ¨¡å‹æ–¹æ¡ˆ)è‡ªåŠ¨é‡‡é›†ç½‘é¡µæ•°æ®</a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">æ¨è | æ–‡æœ¬åˆ†æåº“ cntext2.x ä½¿ç”¨æ‰‹å†Œ</a></li>
<li><a href="https://textdata.cn/blog/management_python_course/">ä»˜è´¹è§†é¢‘è¯¾ | Python å®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a></li>
<li><a href="https://textdata.cn/blog/2024-06-14-using-large-language-model-to-extract-structure-data-from-raw-text/">å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹ä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯</a>
<br>
<br></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>å®éªŒ | ä½¿ç”¨æœ¬åœ°å¤§æ¨¡å‹ä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯</title>
      <link>https://textdata.cn/blog/2024-06-14-using-large-language-model-to-extract-structure-data-from-raw-text/</link>
      <pubDate>Fri, 14 Jun 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-06-14-using-large-language-model-to-extract-structure-data-from-raw-text/</guid>
      <description>&lt;p&gt;éç»“æ„æ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ç­‰æ•°æ®æ˜¯å¾…æŒ–æ˜çš„æ•°æ®çŸ¿è—ï¼Œ åœ¨ç»ç®¡ã€ç¤¾ç§‘ç­‰ç ”ç©¶é¢†åŸŸä¸­è°æ‹¥æœ‰äº†&lt;em&gt;&lt;strong&gt;ä»éç»“æ„æå–ç»“æ„åŒ–ä¿¡æ¯çš„èƒ½åŠ›&lt;/strong&gt;&lt;/em&gt;ï¼Œè°å°±æ‹¥æœ‰ç§‘ç ”ä¸Šçš„æ•°æ®ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸€éœ€æ±‚&#34;&gt;ä¸€ã€éœ€æ±‚&lt;/h2&gt;
&lt;p&gt;ç°åœ¨æœ‰å¾ˆå¤šä¸ªç”µå­å‘ç¥¨PDFæ–‡ä»¶ï¼Œ ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·å¸®æˆ‘ä»¬æ‰¹é‡è‡ªåŠ¨ä»å‘ç¥¨PDFæå–å‡ºæ ¼å¼åŒ–ä¿¡æ¯ã€‚å¦‚ä»å‘ç¥¨&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-raw-pdf.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;æå–å‡ºDICT_DATA&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;DICT_DATA = {
    &amp;#34;å¼€ç¥¨æ—¥æœŸ&amp;#34;: &amp;#34;2023å¹´01æœˆ06æ—¥&amp;#34;,
    &amp;#34;åº”ç¨è´§ç‰©(æˆ–æœåŠ¡)åç§°&amp;#34;: &amp;#34;*ä¿¡æ¯æŠ€æœ¯æœåŠ¡*æŠ€æœ¯æœåŠ¡è´¹&amp;#34;,
    &amp;#34;ä»·ç¨åˆè®¡(å¤§å†™)&amp;#34;: &amp;#34;&amp;#34;,
    &amp;#34;ç¨ç‡&amp;#34;: &amp;#34;6%&amp;#34;,
    &amp;#34;å¤‡æ³¨&amp;#34;: &amp;#34;230106163474406331&amp;#34;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒollamaä»‹ç»&#34;&gt;äºŒã€Ollamaä»‹ç»&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://ollama.ai/&#34;&gt;&lt;strong&gt;Ollama&lt;/strong&gt;&lt;/a&gt;æ˜¯ä¸€æ¬¾å¼€æºåº”ç”¨ç¨‹åºï¼Œå¯è®©æ‚¨ä½¿ç”¨ MacOSã€Linux å’Œ Windows ä¸Šçš„å‘½ä»¤è¡Œç•Œé¢åœ¨æœ¬åœ°è¿è¡Œã€åˆ›å»ºå’Œå…±äº«å¤§å‹è¯­è¨€æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;Ollama å¯ä»¥ç›´æ¥ä»å…¶åº“ä¸­è®¿é—®å„ç§ LLMï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤å³å¯ä¸‹è½½ã€‚ä¸‹è½½åï¼Œåªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å¼€å§‹ä½¿ç”¨ã€‚è¿™å¯¹äºå·¥ä½œé‡å›´ç»•ç»ˆç«¯çª—å£çš„ç”¨æˆ·éå¸¸æœ‰å¸®åŠ©ã€‚å¦‚æœä»–ä»¬è¢«å›°åœ¨æŸä¸ªåœ°æ–¹ï¼Œä»–ä»¬å¯ä»¥åœ¨ä¸åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæµè§ˆå™¨çª—å£çš„æƒ…å†µä¸‹è·å¾—ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;21-ç‰¹ç‚¹å’Œä¼˜ç‚¹&#34;&gt;2.1 ç‰¹ç‚¹å’Œä¼˜ç‚¹&lt;/h3&gt;
&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ OLLAMA æ˜¯æ‚¨çš„å·¥å…·åŒ…ä¸­å¿…å¤‡çš„å·¥å…·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç®€å•&lt;/strong&gt; ï¼šOLLAMA æä¾›ç®€å•çš„è®¾ç½®è¿‡ç¨‹ã€‚æ‚¨æ— éœ€æ‹¥æœ‰æœºå™¨å­¦ä¹ åšå£«å­¦ä½å³å¯å¯åŠ¨å’Œè¿è¡Œå®ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆæœ¬æ•ˆç›Š&lt;/strong&gt; ï¼šåœ¨æœ¬åœ°è¿è¡Œæ¨¡å‹æ„å‘³ç€æ‚¨æ— éœ€æ”¯ä»˜äº‘æˆæœ¬ã€‚æ‚¨çš„é’±åŒ…ä¼šæ„Ÿè°¢æ‚¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éšç§&lt;/strong&gt; ï¼šä½¿ç”¨ OLLAMAï¼Œæ‰€æœ‰æ•°æ®å¤„ç†éƒ½åœ¨æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šè¿›è¡Œã€‚è¿™å¯¹äºç”¨æˆ·éšç§æ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„èƒœåˆ©ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šåŠŸèƒ½æ€§&lt;/strong&gt; ï¼šOLLAMA ä¸åªæ˜¯ä¸º Python çˆ±å¥½è€…å‡†å¤‡çš„ã€‚å®ƒçš„çµæ´»æ€§ä½¿å…¶å¯ä»¥ç”¨äºå„ç§åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬ Web å¼€å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;h3 id=&#34;22-ä½¿ç”¨-ollama-è¿›è¡Œ-llm-é€‰æ‹©&#34;&gt;2.2 ä½¿ç”¨ Ollama è¿›è¡Œ LLM é€‰æ‹©&lt;/h3&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒOpenai Models åœ¨ CrewAI ä¸­ç”¨ä½œ llmã€‚æœ‰ç»è´¹ã€æœ‰ç½‘ç»œã€ä¸æ‹…å¿ƒæ•°æ®æ³„éœ²ç­‰æ¡ä»¶ä¸‹,  åŠ›æ±‚è¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼Œå¯è€ƒè™‘ä½¿ç”¨ GPT-4 æˆ– OpenAI ç¨ä¾¿å®œçš„ GPT-3.5ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æœ¬æ–‡æ˜¯è¦ &lt;strong&gt;æœ¬åœ°éƒ¨ç½²&lt;/strong&gt;ï¼Œ å› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨ Meta Llama 3ï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢åŠŸèƒ½æœ€å¼ºå¤§çš„å…¬å¼€ LLMã€‚Meta Llama 3 æ˜¯ Meta Inc. å¼€å‘çš„æ¨¡å‹ç³»åˆ—ï¼Œæ˜¯æœ€æ–°æ¨å‡ºçš„æ¨¡å‹ï¼Œå…·æœ‰ 8B å’Œ 70B ä¸¤ç§å‚æ•°å¤§å°ï¼ˆé¢„è®­ç»ƒæˆ–æŒ‡ä»¤è°ƒæ•´ï¼‰ã€‚Llama 3 æŒ‡ä»¤è°ƒæ•´æ¨¡å‹é’ˆå¯¹å¯¹è¯/èŠå¤©ç”¨ä¾‹è¿›è¡Œäº†å¾®è°ƒå’Œä¼˜åŒ–ï¼Œå¹¶ä¸”åœ¨å¸¸è§åŸºå‡†æµ‹è¯•ä¸­èƒœè¿‡è®¸å¤šå¯ç”¨çš„å¼€æºèŠå¤©æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/02-llama3-performance.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/03-llama3-performance.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;23-å®‰è£…ollama&#34;&gt;2.3 å®‰è£…ollama&lt;/h3&gt;
&lt;p&gt;ç‚¹å‡»å‰å¾€ç½‘ç«™ &lt;a href=&#34;https://ollama.com/&#34;&gt;https://ollama.com/&lt;/a&gt; ï¼Œä¸‹è½½ollamaè½¯ä»¶ï¼Œæ”¯æŒwinã€Macã€linux&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/04-ollama-gui.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;24-ä¸‹è½½llm&#34;&gt;2.4 ä¸‹è½½LLM&lt;/h3&gt;
&lt;p&gt;ollamaè½¯ä»¶ç›®å‰æ”¯æŒå¤šç§å¤§æ¨¡å‹ï¼Œ å¦‚é˜¿é‡Œçš„ï¼ˆqwenã€qwen2ï¼‰ã€metaçš„(llama3ã€llama3.1)ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/05-ollama-model.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;ä»¥llama3ä¸ºä¾‹ï¼Œæ ¹æ®è‡ªå·±ç”µè„‘æ˜¾å­˜æ€§èƒ½ï¼Œ é€‰æ‹©é€‚å®œçš„ç‰ˆæœ¬ã€‚å¦‚æœä¸çŸ¥é“é€‰ä»€ä¹ˆï¼Œé‚£å°±è¯•ç€å®‰è£…ï¼Œä¸åˆé€‚ä¸èƒ½ç”¨å†åˆ é™¤å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/06-ollama-llama3.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;æ‰“å¼€ç”µè„‘å‘½ä»¤è¡Œcmd(macæ˜¯terminal),  ç½‘ç»œæ˜¯è¿ç½‘çŠ¶æ€ï¼Œæ‰§è¡Œæ¨¡å‹ä¸‹è½½(å®‰è£…)å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ollama pull llama3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç­‰å¾… &lt;strong&gt;llama3:8b&lt;/strong&gt; ä¸‹è½½å®Œæˆã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;25-å®‰è£…pythonåŒ…&#34;&gt;2.5 å®‰è£…pythonåŒ…&lt;/h3&gt;
&lt;p&gt;åœ¨pythonä¸­è°ƒç”¨ollamaæœåŠ¡ï¼Œéœ€è¦ollamaåŒ…ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ç”µè„‘å‘½ä»¤è¡Œcmd(macæ˜¯terminal),  ç½‘ç»œæ˜¯è¿ç½‘çŠ¶æ€ï¼Œæ‰§è¡Œå®‰è£…å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install ollama
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;26-å¯åŠ¨ollamaæœåŠ¡&#34;&gt;2.6 å¯åŠ¨ollamaæœåŠ¡&lt;/h3&gt;
&lt;p&gt;åœ¨Pythonä¸­è°ƒç”¨æœ¬åœ°ollamaæœåŠ¡ï¼Œéœ€è¦å…ˆå¯åŠ¨æœ¬åœ°ollamaæœåŠ¡ï¼Œ æ‰“å¼€ç”µè„‘å‘½ä»¤è¡Œcmd(macæ˜¯terminal), æ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ollama serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;2024/06/14 14:52:24 routes.go:1011: INFO server config env=&amp;#34;map[OLLAMA_DEBUG:false OLLAMA_FLASH_ATTENTION:false OLLAMA_HOST:http://127.0.0.1:11434 OLLAMA_KEEP_ALIVE: OLLAMA_LLM_LIBRARY: OLLAMA_MAX_LOADED_MODELS:1 OLLAMA_MAX_QUEUE:512 OLLAMA_MAX_VRAM:0 OLLAMA_MODELS:/Users/deng/.ollama/models OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:1 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://*] OLLAMA_RUNNERS_DIR: OLLAMA_TMPDIR:]&amp;#34;
time=2024-06-14T14:52:24.742+08:00 level=INFO source=images.go:725 msg=&amp;#34;total blobs: 18&amp;#34;
time=2024-06-14T14:52:24.742+08:00 level=INFO source=images.go:732 msg=&amp;#34;total unused blobs removed: 0&amp;#34;
time=2024-06-14T14:52:24.743+08:00 level=INFO source=routes.go:1057 msg=&amp;#34;Listening on 127.0.0.1:11434 (version 0.1.44)&amp;#34;
time=2024-06-14T14:52:24.744+08:00 level=INFO source=payload.go:30 msg=&amp;#34;extracting embedded files&amp;#34; dir=/var/folders/y0/4gqxky0s2t94x1c1qhlwr6100000gn/T/ollama4239159529/runners
time=2024-06-14T14:52:24.772+08:00 level=INFO source=payload.go:44 msg=&amp;#34;Dynamic LLM libraries [metal]&amp;#34;
time=2024-06-14T14:52:24.796+08:00 level=INFO source=types.go:71 msg=&amp;#34;inference compute&amp;#34; id=0 library=metal compute=&amp;#34;&amp;#34; driver=0.0 name=&amp;#34;&amp;#34; total=&amp;#34;72.0 GiB&amp;#34; available=&amp;#34;72.0 GiB&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;cmd(macæ˜¯terminal)çœ‹åˆ°å¦‚ä¸Šçš„ä¿¡æ¯ï¼Œè¯´æ˜æœ¬åœ°ollamaæœåŠ¡å·²å¼€å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰å®éªŒ&#34;&gt;ä¸‰ã€å®éªŒ&lt;/h2&gt;
&lt;h3 id=&#34;31-ä»£ç ç»“æ„&#34;&gt;3.1 ä»£ç ç»“æ„&lt;/h3&gt;
&lt;p&gt;ç‚¹å‡»ä¸‹è½½ &lt;a href=&#34;project.zip&#34;&gt;æœ¬æ–‡ä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;project
   |
  - ä»£ç .ipynb   #ä»£ç 
  - prompt.txt  #æç¤ºæ¨¡æ¿
  - data
      |--- 1.pdf #å®éªŒçš„å‘ç¥¨
  - result.csv   #ç»“æœ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-è¯»å–pdf&#34;&gt;3.2 è¯»å–pdf&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-raw-pdf.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#cntextç‰ˆæœ¬ä¸º2.1.3ï¼Œéå¼€æºï¼Œ #éœ€è”ç³»å¤§é‚“372335839è·å–&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data/1.pdf&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;__version__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;2.1.3

&amp;#39; åŒ—äº¬å¢å€¼ç¨ç”µå­æ™®é€šå‘ç¥¨å‘ç¥¨ä»£ç ï¼š \nå‘ç¥¨å·ç ï¼š 69453658\nå¼€ç¥¨æ—¥æœŸï¼š 2023å¹´01æœˆ06æ—¥\næ ¡ éªŒ ç ï¼š \nè´­\nä¹°\næ–¹å        ç§°ï¼š å“ˆå°”æ»¨æ‰€ä»¥ç„¶ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸\nå¯†\nç \nåŒº030898/5&amp;lt;32&amp;gt;*/0*440/63+79*08\nçº³ç¨äººè¯†åˆ«å·ï¼š 91230109MABT7KBC4M /&amp;lt;54&amp;lt;1*6+49&amp;lt;-*+*&amp;gt;7&amp;lt;-8*04&amp;lt;+01\nåœ° å€ã€ç”µ è¯ï¼š 68+160026-45904*2&amp;lt;+3+15503&amp;gt;2\nå¼€æˆ·è¡ŒåŠè´¦å·ï¼š 98*2/*-*480145+-19*0917-1*61\nè´§ç‰©æˆ–åº”ç¨åŠ³åŠ¡ã€æœåŠ¡åç§° è§„æ ¼å‹å· å• ä½ æ•° é‡ å• ä»· é‡‘ é¢ ç¨ç‡ ç¨ é¢\n*ä¿¡æ¯æŠ€æœ¯æœåŠ¡*æŠ€æœ¯æœåŠ¡è´¹ 1248.113208 248.11 6% 14.89\nåˆ      è®¡ ï¿¥248.11 ï¿¥14.89\nä»·ç¨åˆè®¡ï¼ˆå¤§å†™ï¼‰\n  è´°ä½°é™†æ‹¾åå…ƒæ•´             ï¼ˆå°å†™ï¼‰ï¿¥263.00\né”€\nå”®\næ–¹å        ç§°ï¼š \nå¤‡\næ³¨230106163474406331\nçº³ç¨äººè¯†åˆ«å·ï¼š 91110108MA01WFY0X6\nåœ° å€ã€ç”µ è¯ï¼š \nå¼€æˆ·è¡ŒåŠè´¦å·ï¼š \n  æ”¶æ¬¾äººï¼š å¤æ ¸ï¼š å¼€ç¥¨äººï¼š é”€å”®æ–¹ï¼šï¼ˆç« ï¼‰&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;34-æå–ä¿¡æ¯&#34;&gt;3.4 æå–ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ollamaæœåŠ¡ä¸­çš„å¤§æ¨¡å‹ &lt;em&gt;&lt;strong&gt;llama3:8b&lt;/strong&gt;&lt;/em&gt; , éœ€è¦å¤§æ¨¡å‹æç¤ºä¿¡æ¯åŠæ•°æ®ã€‚è¿™æ˜¯æˆ‘å®éªŒé‡Œè®¾è®¡çš„æç¤ºä¿¡æ¯prompt&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;prompt = open(&amp;#39;prompt.txt&amp;#39;, encoding=&amp;#39;utf-8&amp;#39;).read()
print(prompt)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;å‘ç¥¨æ–‡æœ¬å†…å®¹
--- 
{TEXT} 
---

ä»¥ JSON æ ¼å¼å›ç­”ã€‚ JSON åº”åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼Œ ä¾æ¬¡ä¸º&amp;#34;å¼€ç¥¨æ—¥æœŸ&amp;#34;, &amp;#34;åº”ç¨è´§ç‰©(æˆ–æœåŠ¡)åç§°&amp;#34;, &amp;#34;ä»·ç¨åˆè®¡(å¤§å†™)&amp;#34;, &amp;#34;ç¨ç‡&amp;#34;, &amp;#34;å¤‡æ³¨&amp;#34;; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ollama&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#cntextç‰ˆæœ¬ä¸º2.1.3ï¼Œéå¼€æºï¼Œ éœ€è”ç³»å¤§é‚“372335839è·å–&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#è¯»å–å‘ç¥¨pdf&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;content&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data/1.pdf&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#è¯»å–prompt&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;prompt.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ollama&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;llama3:8b&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;system&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;```&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;```&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;CPU times: user 20.5 ms, sys: 2.34 ms, total: 22.9 ms
Wall time: 3.58 s

{&amp;#39;å¼€ç¥¨æ—¥æœŸ&amp;#39;: &amp;#39;2023å¹´01æœˆ06æ—¥&amp;#39;,
 &amp;#39;åº”ç¨è´§ç‰©(æˆ–æœåŠ¡)åç§°&amp;#39;: &amp;#39;*ä¿¡æ¯æŠ€æœ¯æœåŠ¡*æŠ€æœ¯æœåŠ¡è´¹&amp;#39;,
 &amp;#39;ä»·ç¨åˆè®¡(å¤§å†™)&amp;#39;: &amp;#39;è´°ä½°é™†æ‹¾åå…ƒæ•´&amp;#39;,
 &amp;#39;ç¨ç‡&amp;#39;: &amp;#39;6%&amp;#39;,
 &amp;#39;å¤‡æ³¨&amp;#39;: &amp;#39;230106163474406331&amp;#39;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;33-å°è£…æˆå‡½æ•°extract_info&#34;&gt;3.3 å°è£…æˆå‡½æ•°extract_info&lt;/h3&gt;
&lt;p&gt;å®éªŒæˆåŠŸï¼Œæˆ‘ä»¬å°†å…¶å°è£…ä¸ºå‡½æ•°&lt;em&gt;&lt;strong&gt;extract_info&lt;/strong&gt;&lt;/em&gt;ï¼Œ ä¸ºå¢å¼ºä»£ç çš„é²æ£’æ€§ï¼Œ å‡½æ•°å†…è®¾ç½®äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæœ€å¤šå¯é‡è¯•3æ¬¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ollama&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;re&lt;/span&gt;


&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;extract_info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;attempt&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ollama&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;llama3:8b&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;system&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

            &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;```&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;```&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;
        
        &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;attempt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;An error occurred: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;. Retrying (&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;attempt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;)...&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;
  
&lt;span class=&#34;c1&#34;&gt;#è¯»å–prompt&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;prompt.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;extract_info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;resultä¸ä¹‹å‰æ— å¼‚ï¼Œ ä¸ºäº†èŠ‚çœç‰ˆé¢ï¼Œè¿™é‡Œå°±ä¸æ˜¾ç¤ºresultã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;34-æ‰¹é‡æå–&#34;&gt;3.4 æ‰¹é‡æå–&lt;/h3&gt;
&lt;p&gt;å‡è®¾dataæ–‡ä»¶å¤¹å†…æœ‰æˆç™¾ä¸Šåƒçš„å‘ç¥¨(å®é™…ä¸Šåªæœ‰ä¸€å¼ å‘ç¥¨)ï¼Œ å¯¹dataæ–‡ä»¶å¤¹è¿›è¡Œæ‰¹é‡ä¿¡æ¯æå–ï¼Œç»“æœå­˜å‚¨ä¸ºcsvã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ollama&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#cntextç‰ˆæœ¬ä¸º2.1.3ï¼Œéå¼€æºï¼Œ éœ€è”ç³»å¤§é‚“372335839è·å–&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;


&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;extract_info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;attempt&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ollama&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;llama3:8b&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;system&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

            &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;```&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;```&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;
        
        &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;attempt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;An error occurred: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;. Retrying (&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;attempt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_retries&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;)...&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;
                
  
&lt;span class=&#34;c1&#34;&gt;#å½“å‰ä»£ç æ‰€åœ¨çš„ä»£ç æ–‡ä»¶ä¸dataæ–‡ä»¶å¤¹å¤„äºåŒä¸€ä¸ªæ–‡ä»¶å¤¹å†…&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#è·å–dataå†…æ‰€æœ‰pdfçš„è·¯å¾„&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;pdf_files&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;listdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.pdf&amp;#39;&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#è¯»å–prompt&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;prompt.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;dict_datas&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pdf_file&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pdf_files&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;dict_data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;extract_info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;dict_datas&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dict_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DataFrame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dict_datas&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;result.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;CPU times: user 32 ms, sys: 2.17 ms, total: 15.2 ms
Wall time: 3.8 s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/05-df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››è®¨è®º&#34;&gt;å››ã€è®¨è®º&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡åªä½¿ç”¨äº†ä¸€å¼ å‘ç¥¨è¿›è¡Œå®éªŒï¼Œ å®é™…ä¸Šå‡†ç¡®ç‡æ²¡æœ‰è¿™ä¹ˆé«˜ï¼Œ è¯†åˆ«é”™è¯¯å­—æ®µé›†ä¸­åœ¨é”€å”®æ–¹çº³ç¨è¯†åˆ«å·(æ¡ˆä¾‹æ²¡æœ‰å±•ç¤ºé”€å”®æ–¹çº³ç¨è¯†åˆ«å·çš„è¯†åˆ«)ã€‚åŸå› ä¸»è¦æ˜¯ct.read_pdfè¯»å…¥pdfæ—¶ï¼Œæ–‡æœ¬æ¯”è¾ƒæ‚ä¹±ã€‚å¯¹å¤§æ¨¡å‹çš„è¯­ä¹‰ç†è§£æœ‰ä¸€å®šçš„æŒ‘æˆ˜ã€‚ç›®å‰å¤§æ¨¡å‹å·²ç»æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€ç½‘å€ï¼Œ æ‰€ä»¥å„ä½çœ‹å®˜ï¼Œä¸ç”¨ç­‰å¤ªä¹…ï¼Œå°±å¯å…‹æœæ­¤é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ¨¡å‹ä¼šå¯¹æ¯ä¸ªè¾“å…¥ï¼Œç»™å‡ºæ­£ç¡®æ¦‚ç‡æœ€å¤§çš„å›ç­”ï¼Œå› æ­¤å¤§æ¨¡å‹æå–æ•°æ®æ—¶å­˜åœ¨ä¸€å®šçš„é”™è¯¯è¯†åˆ«é£é™©ã€‚ä¸ºé™ä½è¯¥é£é™©ï¼Œå°½é‡é€‰æ‹©ç‰¹åˆ«ç‰¹æ®Šã€æ˜¾çœ¼ï¼Œä¾‹å¦‚ä¸‰å¼ å‘ç¥¨çš„&lt;strong&gt;ä»·ç¨åˆè®¡(å¤§å†™)&lt;/strong&gt;,  å› ä¸ºä¿¡æ¯æ˜¯ç‰¹æ®Šçš„ä¸­æ–‡å¤§å†™æ•°å­—ï¼Œ åœ¨æ‰€æœ‰æ–‡æœ¬ä¸­æ˜¯æœ€é†’ç›®æœ€ç‰¹åˆ«çš„æ–‡æœ¬ä¿¡æ¯ï¼Œè¿™æ ·å¤§æ¨¡å‹å¤„ç†è¿™ç±»ä¿¡æ¯æ—¶ä¼šç»™è¿™ç±»ä¿¡æ¯å°½å¯èƒ½é«˜çš„æƒé‡ï¼Œå¢å¤§å›ç­”çš„å‡†ç¡®ç‡ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;ç²¾é€‰å†…å®¹&#34;&gt;ç²¾é€‰å†…å®¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/datasets_available_for_management_science/&#34;&gt;LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/the_text_analysis_list_about_ms/&#34;&gt;LIST | ç¤¾ç§‘(ç»ç®¡)æ•°æ®æŒ–æ˜æ–‡çŒ®èµ„æ–™æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-06-16-scrapegraph-ai/&#34;&gt;ç½‘ç»œçˆ¬è™« | ä½¿ç”¨scrapegraph-ai(å¤§æ¨¡å‹æ–¹æ¡ˆ)è‡ªåŠ¨é‡‡é›†ç½‘é¡µæ•°æ®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/&#34;&gt;æ¨è | æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/management_python_course/&#34;&gt;ä»˜è´¹è§†é¢‘è¯¾ | Pythonå®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ&lt;/a&gt;
&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<p>éç»“æ„æ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ç­‰æ•°æ®æ˜¯å¾…æŒ–æ˜çš„æ•°æ®çŸ¿è—ï¼Œ åœ¨ç»ç®¡ã€ç¤¾ç§‘ç­‰ç ”ç©¶é¢†åŸŸä¸­è°æ‹¥æœ‰äº†<em><strong>ä»éç»“æ„æå–ç»“æ„åŒ–ä¿¡æ¯çš„èƒ½åŠ›</strong></em>ï¼Œè°å°±æ‹¥æœ‰ç§‘ç ”ä¸Šçš„æ•°æ®ä¼˜åŠ¿ã€‚</p>
<p><br><br></p>
<h2 id="ä¸€éœ€æ±‚">ä¸€ã€éœ€æ±‚</h2>
<p>ç°åœ¨æœ‰å¾ˆå¤šä¸ªç”µå­å‘ç¥¨PDFæ–‡ä»¶ï¼Œ ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·å¸®æˆ‘ä»¬æ‰¹é‡è‡ªåŠ¨ä»å‘ç¥¨PDFæå–å‡ºæ ¼å¼åŒ–ä¿¡æ¯ã€‚å¦‚ä»å‘ç¥¨</p>
<p><img loading="lazy" src="img/01-raw-pdf.png" alt=""  />
</p>
<p>æå–å‡ºDICT_DATA</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">DICT_DATA = {
    &#34;å¼€ç¥¨æ—¥æœŸ&#34;: &#34;2023å¹´01æœˆ06æ—¥&#34;,
    &#34;åº”ç¨è´§ç‰©(æˆ–æœåŠ¡)åç§°&#34;: &#34;*ä¿¡æ¯æŠ€æœ¯æœåŠ¡*æŠ€æœ¯æœåŠ¡è´¹&#34;,
    &#34;ä»·ç¨åˆè®¡(å¤§å†™)&#34;: &#34;&#34;,
    &#34;ç¨ç‡&#34;: &#34;6%&#34;,
    &#34;å¤‡æ³¨&#34;: &#34;230106163474406331&#34;
}
</code></pre></div><p><br><br></p>
<h2 id="äºŒollamaä»‹ç»">äºŒã€Ollamaä»‹ç»</h2>
<p><a href="https://ollama.ai/"><strong>Ollama</strong></a>æ˜¯ä¸€æ¬¾å¼€æºåº”ç”¨ç¨‹åºï¼Œå¯è®©æ‚¨ä½¿ç”¨ MacOSã€Linux å’Œ Windows ä¸Šçš„å‘½ä»¤è¡Œç•Œé¢åœ¨æœ¬åœ°è¿è¡Œã€åˆ›å»ºå’Œå…±äº«å¤§å‹è¯­è¨€æ¨¡å‹ã€‚</p>
<p>Ollama å¯ä»¥ç›´æ¥ä»å…¶åº“ä¸­è®¿é—®å„ç§ LLMï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤å³å¯ä¸‹è½½ã€‚ä¸‹è½½åï¼Œåªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å¼€å§‹ä½¿ç”¨ã€‚è¿™å¯¹äºå·¥ä½œé‡å›´ç»•ç»ˆç«¯çª—å£çš„ç”¨æˆ·éå¸¸æœ‰å¸®åŠ©ã€‚å¦‚æœä»–ä»¬è¢«å›°åœ¨æŸä¸ªåœ°æ–¹ï¼Œä»–ä»¬å¯ä»¥åœ¨ä¸åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæµè§ˆå™¨çª—å£çš„æƒ…å†µä¸‹è·å¾—ç­”æ¡ˆã€‚</p>
<br>
<h3 id="21-ç‰¹ç‚¹å’Œä¼˜ç‚¹">2.1 ç‰¹ç‚¹å’Œä¼˜ç‚¹</h3>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ OLLAMA æ˜¯æ‚¨çš„å·¥å…·åŒ…ä¸­å¿…å¤‡çš„å·¥å…·ï¼š</p>
<ul>
<li><strong>ç®€å•</strong> ï¼šOLLAMA æä¾›ç®€å•çš„è®¾ç½®è¿‡ç¨‹ã€‚æ‚¨æ— éœ€æ‹¥æœ‰æœºå™¨å­¦ä¹ åšå£«å­¦ä½å³å¯å¯åŠ¨å’Œè¿è¡Œå®ƒã€‚</li>
<li><strong>æˆæœ¬æ•ˆç›Š</strong> ï¼šåœ¨æœ¬åœ°è¿è¡Œæ¨¡å‹æ„å‘³ç€æ‚¨æ— éœ€æ”¯ä»˜äº‘æˆæœ¬ã€‚æ‚¨çš„é’±åŒ…ä¼šæ„Ÿè°¢æ‚¨ã€‚</li>
<li><strong>éšç§</strong> ï¼šä½¿ç”¨ OLLAMAï¼Œæ‰€æœ‰æ•°æ®å¤„ç†éƒ½åœ¨æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šè¿›è¡Œã€‚è¿™å¯¹äºç”¨æˆ·éšç§æ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„èƒœåˆ©ã€‚</li>
<li><strong>å¤šåŠŸèƒ½æ€§</strong> ï¼šOLLAMA ä¸åªæ˜¯ä¸º Python çˆ±å¥½è€…å‡†å¤‡çš„ã€‚å®ƒçš„çµæ´»æ€§ä½¿å…¶å¯ä»¥ç”¨äºå„ç§åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬ Web å¼€å‘ã€‚</li>
</ul>
<br>
<h3 id="22-ä½¿ç”¨-ollama-è¿›è¡Œ-llm-é€‰æ‹©">2.2 ä½¿ç”¨ Ollama è¿›è¡Œ LLM é€‰æ‹©</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒOpenai Models åœ¨ CrewAI ä¸­ç”¨ä½œ llmã€‚æœ‰ç»è´¹ã€æœ‰ç½‘ç»œã€ä¸æ‹…å¿ƒæ•°æ®æ³„éœ²ç­‰æ¡ä»¶ä¸‹,  åŠ›æ±‚è¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼Œå¯è€ƒè™‘ä½¿ç”¨ GPT-4 æˆ– OpenAI ç¨ä¾¿å®œçš„ GPT-3.5ã€‚</p>
<p>ä½†æœ¬æ–‡æ˜¯è¦ <strong>æœ¬åœ°éƒ¨ç½²</strong>ï¼Œ å› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨ Meta Llama 3ï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢åŠŸèƒ½æœ€å¼ºå¤§çš„å…¬å¼€ LLMã€‚Meta Llama 3 æ˜¯ Meta Inc. å¼€å‘çš„æ¨¡å‹ç³»åˆ—ï¼Œæ˜¯æœ€æ–°æ¨å‡ºçš„æ¨¡å‹ï¼Œå…·æœ‰ 8B å’Œ 70B ä¸¤ç§å‚æ•°å¤§å°ï¼ˆé¢„è®­ç»ƒæˆ–æŒ‡ä»¤è°ƒæ•´ï¼‰ã€‚Llama 3 æŒ‡ä»¤è°ƒæ•´æ¨¡å‹é’ˆå¯¹å¯¹è¯/èŠå¤©ç”¨ä¾‹è¿›è¡Œäº†å¾®è°ƒå’Œä¼˜åŒ–ï¼Œå¹¶ä¸”åœ¨å¸¸è§åŸºå‡†æµ‹è¯•ä¸­èƒœè¿‡è®¸å¤šå¯ç”¨çš„å¼€æºèŠå¤©æ¨¡å‹ã€‚</p>
<p><img loading="lazy" src="img/02-llama3-performance.png" alt=""  />
</p>
<p><img loading="lazy" src="img/03-llama3-performance.png" alt=""  />
</p>
<br>
<h3 id="23-å®‰è£…ollama">2.3 å®‰è£…ollama</h3>
<p>ç‚¹å‡»å‰å¾€ç½‘ç«™ <a href="https://ollama.com/">https://ollama.com/</a> ï¼Œä¸‹è½½ollamaè½¯ä»¶ï¼Œæ”¯æŒwinã€Macã€linux</p>
<p><img loading="lazy" src="img/04-ollama-gui.png" alt=""  />
</p>
<br>
<h3 id="24-ä¸‹è½½llm">2.4 ä¸‹è½½LLM</h3>
<p>ollamaè½¯ä»¶ç›®å‰æ”¯æŒå¤šç§å¤§æ¨¡å‹ï¼Œ å¦‚é˜¿é‡Œçš„ï¼ˆqwenã€qwen2ï¼‰ã€metaçš„(llama3ã€llama3.1)ï¼Œ</p>
<p><img loading="lazy" src="img/05-ollama-model.png" alt=""  />
</p>
<br>
<p>ä»¥llama3ä¸ºä¾‹ï¼Œæ ¹æ®è‡ªå·±ç”µè„‘æ˜¾å­˜æ€§èƒ½ï¼Œ é€‰æ‹©é€‚å®œçš„ç‰ˆæœ¬ã€‚å¦‚æœä¸çŸ¥é“é€‰ä»€ä¹ˆï¼Œé‚£å°±è¯•ç€å®‰è£…ï¼Œä¸åˆé€‚ä¸èƒ½ç”¨å†åˆ é™¤å³å¯ã€‚</p>
<p><img loading="lazy" src="img/06-ollama-llama3.png" alt=""  />
</p>
<br>
<p>æ‰“å¼€ç”µè„‘å‘½ä»¤è¡Œcmd(macæ˜¯terminal),  ç½‘ç»œæ˜¯è¿ç½‘çŠ¶æ€ï¼Œæ‰§è¡Œæ¨¡å‹ä¸‹è½½(å®‰è£…)å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ollama pull llama3
</code></pre></div><p>ç­‰å¾… <strong>llama3:8b</strong> ä¸‹è½½å®Œæˆã€‚</p>
<br>
<h3 id="25-å®‰è£…pythonåŒ…">2.5 å®‰è£…pythonåŒ…</h3>
<p>åœ¨pythonä¸­è°ƒç”¨ollamaæœåŠ¡ï¼Œéœ€è¦ollamaåŒ…ã€‚</p>
<p>æ‰“å¼€ç”µè„‘å‘½ä»¤è¡Œcmd(macæ˜¯terminal),  ç½‘ç»œæ˜¯è¿ç½‘çŠ¶æ€ï¼Œæ‰§è¡Œå®‰è£…å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install ollama
</code></pre></div><br>
<h3 id="26-å¯åŠ¨ollamaæœåŠ¡">2.6 å¯åŠ¨ollamaæœåŠ¡</h3>
<p>åœ¨Pythonä¸­è°ƒç”¨æœ¬åœ°ollamaæœåŠ¡ï¼Œéœ€è¦å…ˆå¯åŠ¨æœ¬åœ°ollamaæœåŠ¡ï¼Œ æ‰“å¼€ç”µè„‘å‘½ä»¤è¡Œcmd(macæ˜¯terminal), æ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ollama serve
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">2024/06/14 14:52:24 routes.go:1011: INFO server config env=&#34;map[OLLAMA_DEBUG:false OLLAMA_FLASH_ATTENTION:false OLLAMA_HOST:http://127.0.0.1:11434 OLLAMA_KEEP_ALIVE: OLLAMA_LLM_LIBRARY: OLLAMA_MAX_LOADED_MODELS:1 OLLAMA_MAX_QUEUE:512 OLLAMA_MAX_VRAM:0 OLLAMA_MODELS:/Users/deng/.ollama/models OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:1 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://*] OLLAMA_RUNNERS_DIR: OLLAMA_TMPDIR:]&#34;
time=2024-06-14T14:52:24.742+08:00 level=INFO source=images.go:725 msg=&#34;total blobs: 18&#34;
time=2024-06-14T14:52:24.742+08:00 level=INFO source=images.go:732 msg=&#34;total unused blobs removed: 0&#34;
time=2024-06-14T14:52:24.743+08:00 level=INFO source=routes.go:1057 msg=&#34;Listening on 127.0.0.1:11434 (version 0.1.44)&#34;
time=2024-06-14T14:52:24.744+08:00 level=INFO source=payload.go:30 msg=&#34;extracting embedded files&#34; dir=/var/folders/y0/4gqxky0s2t94x1c1qhlwr6100000gn/T/ollama4239159529/runners
time=2024-06-14T14:52:24.772+08:00 level=INFO source=payload.go:44 msg=&#34;Dynamic LLM libraries [metal]&#34;
time=2024-06-14T14:52:24.796+08:00 level=INFO source=types.go:71 msg=&#34;inference compute&#34; id=0 library=metal compute=&#34;&#34; driver=0.0 name=&#34;&#34; total=&#34;72.0 GiB&#34; available=&#34;72.0 GiB&#34;
</code></pre></div><p>cmd(macæ˜¯terminal)çœ‹åˆ°å¦‚ä¸Šçš„ä¿¡æ¯ï¼Œè¯´æ˜æœ¬åœ°ollamaæœåŠ¡å·²å¼€å¯ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰å®éªŒ">ä¸‰ã€å®éªŒ</h2>
<h3 id="31-ä»£ç ç»“æ„">3.1 ä»£ç ç»“æ„</h3>
<p>ç‚¹å‡»ä¸‹è½½ <a href="project.zip">æœ¬æ–‡ä»£ç </a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">project
   |
  - ä»£ç .ipynb   #ä»£ç 
  - prompt.txt  #æç¤ºæ¨¡æ¿
  - data
      |--- 1.pdf #å®éªŒçš„å‘ç¥¨
  - result.csv   #ç»“æœ
</code></pre></div><br>
<h3 id="32-è¯»å–pdf">3.2 è¯»å–pdf</h3>
<p><img loading="lazy" src="img/01-raw-pdf.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="c1">#cntextç‰ˆæœ¬ä¸º2.1.3ï¼Œéå¼€æºï¼Œ #éœ€è”ç³»å¤§é‚“372335839è·å–</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s1">&#39;data/1.pdf&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="n">text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">2.1.3

&#39; åŒ—äº¬å¢å€¼ç¨ç”µå­æ™®é€šå‘ç¥¨å‘ç¥¨ä»£ç ï¼š \nå‘ç¥¨å·ç ï¼š 69453658\nå¼€ç¥¨æ—¥æœŸï¼š 2023å¹´01æœˆ06æ—¥\næ ¡ éªŒ ç ï¼š \nè´­\nä¹°\næ–¹å        ç§°ï¼š å“ˆå°”æ»¨æ‰€ä»¥ç„¶ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸\nå¯†\nç \nåŒº030898/5&lt;32&gt;*/0*440/63+79*08\nçº³ç¨äººè¯†åˆ«å·ï¼š 91230109MABT7KBC4M /&lt;54&lt;1*6+49&lt;-*+*&gt;7&lt;-8*04&lt;+01\nåœ° å€ã€ç”µ è¯ï¼š 68+160026-45904*2&lt;+3+15503&gt;2\nå¼€æˆ·è¡ŒåŠè´¦å·ï¼š 98*2/*-*480145+-19*0917-1*61\nè´§ç‰©æˆ–åº”ç¨åŠ³åŠ¡ã€æœåŠ¡åç§° è§„æ ¼å‹å· å• ä½ æ•° é‡ å• ä»· é‡‘ é¢ ç¨ç‡ ç¨ é¢\n*ä¿¡æ¯æŠ€æœ¯æœåŠ¡*æŠ€æœ¯æœåŠ¡è´¹ 1248.113208 248.11 6% 14.89\nåˆ      è®¡ ï¿¥248.11 ï¿¥14.89\nä»·ç¨åˆè®¡ï¼ˆå¤§å†™ï¼‰\n  è´°ä½°é™†æ‹¾åå…ƒæ•´             ï¼ˆå°å†™ï¼‰ï¿¥263.00\né”€\nå”®\næ–¹å        ç§°ï¼š \nå¤‡\næ³¨230106163474406331\nçº³ç¨äººè¯†åˆ«å·ï¼š 91110108MA01WFY0X6\nåœ° å€ã€ç”µ è¯ï¼š \nå¼€æˆ·è¡ŒåŠè´¦å·ï¼š \n  æ”¶æ¬¾äººï¼š å¤æ ¸ï¼š å¼€ç¥¨äººï¼š é”€å”®æ–¹ï¼šï¼ˆç« ï¼‰&#39;
</code></pre></div><br>
<h3 id="34-æå–ä¿¡æ¯">3.4 æå–ä¿¡æ¯</h3>
<p>ä½¿ç”¨ollamaæœåŠ¡ä¸­çš„å¤§æ¨¡å‹ <em><strong>llama3:8b</strong></em> , éœ€è¦å¤§æ¨¡å‹æç¤ºä¿¡æ¯åŠæ•°æ®ã€‚è¿™æ˜¯æˆ‘å®éªŒé‡Œè®¾è®¡çš„æç¤ºä¿¡æ¯prompt</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">prompt = open(&#39;prompt.txt&#39;, encoding=&#39;utf-8&#39;).read()
print(prompt)
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">å‘ç¥¨æ–‡æœ¬å†…å®¹
--- 
{TEXT} 
---

ä»¥ JSON æ ¼å¼å›ç­”ã€‚ JSON åº”åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼Œ ä¾æ¬¡ä¸º&#34;å¼€ç¥¨æ—¥æœŸ&#34;, &#34;åº”ç¨è´§ç‰©(æˆ–æœåŠ¡)åç§°&#34;, &#34;ä»·ç¨åˆè®¡(å¤§å†™)&#34;, &#34;ç¨ç‡&#34;, &#34;å¤‡æ³¨&#34;; 
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>

<span class="kn">import</span> <span class="nn">ollama</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="c1">#cntextç‰ˆæœ¬ä¸º2.1.3ï¼Œéå¼€æºï¼Œ éœ€è”ç³»å¤§é‚“372335839è·å–</span>

<span class="c1">#è¯»å–å‘ç¥¨pdf</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s1">&#39;data/1.pdf&#39;</span><span class="p">)</span>
<span class="c1">#è¯»å–prompt</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;prompt.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">ollama</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;llama3:8b&#39;</span><span class="p">,</span> <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
      <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span><span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">},</span>
      <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">content</span><span class="p">},</span>
    <span class="p">])</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
<span class="n">result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;```</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">```&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">result</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">CPU times: user 20.5 ms, sys: 2.34 ms, total: 22.9 ms
Wall time: 3.58 s

{&#39;å¼€ç¥¨æ—¥æœŸ&#39;: &#39;2023å¹´01æœˆ06æ—¥&#39;,
 &#39;åº”ç¨è´§ç‰©(æˆ–æœåŠ¡)åç§°&#39;: &#39;*ä¿¡æ¯æŠ€æœ¯æœåŠ¡*æŠ€æœ¯æœåŠ¡è´¹&#39;,
 &#39;ä»·ç¨åˆè®¡(å¤§å†™)&#39;: &#39;è´°ä½°é™†æ‹¾åå…ƒæ•´&#39;,
 &#39;ç¨ç‡&#39;: &#39;6%&#39;,
 &#39;å¤‡æ³¨&#39;: &#39;230106163474406331&#39;}
</code></pre></div><br>
<h3 id="33-å°è£…æˆå‡½æ•°extract_info">3.3 å°è£…æˆå‡½æ•°extract_info</h3>
<p>å®éªŒæˆåŠŸï¼Œæˆ‘ä»¬å°†å…¶å°è£…ä¸ºå‡½æ•°<em><strong>extract_info</strong></em>ï¼Œ ä¸ºå¢å¼ºä»£ç çš„é²æ£’æ€§ï¼Œ å‡½æ•°å†…è®¾ç½®äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæœ€å¤šå¯é‡è¯•3æ¬¡ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">ollama</span>
<span class="kn">import</span> <span class="nn">re</span>


<span class="k">def</span> <span class="nf">extract_info</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_retries</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">ollama</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span>
                <span class="n">model</span><span class="o">=</span><span class="s1">&#39;llama3:8b&#39;</span><span class="p">,</span>
                <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
                    <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">text</span><span class="p">}</span>
                <span class="p">]</span>
            <span class="p">)</span>

            <span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;```</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">```&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">result</span>
        
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attempt</span> <span class="o">&lt;</span> <span class="n">max_retries</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;An error occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">. Retrying (</span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">max_retries</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">)...&#34;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
  
<span class="c1">#è¯»å–prompt</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;prompt.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">extract_info</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prompt</span><span class="p">)</span>
<span class="n">result</span>
</code></pre></div><p>resultä¸ä¹‹å‰æ— å¼‚ï¼Œ ä¸ºäº†èŠ‚çœç‰ˆé¢ï¼Œè¿™é‡Œå°±ä¸æ˜¾ç¤ºresultã€‚</p>
<br>
<h3 id="34-æ‰¹é‡æå–">3.4 æ‰¹é‡æå–</h3>
<p>å‡è®¾dataæ–‡ä»¶å¤¹å†…æœ‰æˆç™¾ä¸Šåƒçš„å‘ç¥¨(å®é™…ä¸Šåªæœ‰ä¸€å¼ å‘ç¥¨)ï¼Œ å¯¹dataæ–‡ä»¶å¤¹è¿›è¡Œæ‰¹é‡ä¿¡æ¯æå–ï¼Œç»“æœå­˜å‚¨ä¸ºcsvã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">ollama</span>
<span class="c1">#cntextç‰ˆæœ¬ä¸º2.1.3ï¼Œéå¼€æºï¼Œ éœ€è”ç³»å¤§é‚“372335839è·å–</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>


<span class="k">def</span> <span class="nf">extract_info</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_retries</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">ollama</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span>
                <span class="n">model</span><span class="o">=</span><span class="s1">&#39;llama3:8b&#39;</span><span class="p">,</span>
                <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
                    <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">text</span><span class="p">}</span>
                <span class="p">]</span>
            <span class="p">)</span>

            <span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;```</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">```&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">result</span>
        
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attempt</span> <span class="o">&lt;</span> <span class="n">max_retries</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;An error occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">. Retrying (</span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">max_retries</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">)...&#34;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
                
  
<span class="c1">#å½“å‰ä»£ç æ‰€åœ¨çš„ä»£ç æ–‡ä»¶ä¸dataæ–‡ä»¶å¤¹å¤„äºåŒä¸€ä¸ªæ–‡ä»¶å¤¹å†…</span>
<span class="c1">#è·å–dataå†…æ‰€æœ‰pdfçš„è·¯å¾„</span>
<span class="n">pdf_files</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;data/</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;.pdf&#39;</span> <span class="ow">in</span> <span class="n">file</span><span class="p">]</span>
<span class="c1">#è¯»å–prompt</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;prompt.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">dict_datas</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">pdf_file</span> <span class="ow">in</span> <span class="n">pdf_files</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">)</span>
    <span class="n">dict_data</span> <span class="o">=</span> <span class="n">extract_info</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prompt</span><span class="p">)</span>
    <span class="n">dict_datas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dict_data</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_datas</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;result.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">CPU times: user 32 ms, sys: 2.17 ms, total: 15.2 ms
Wall time: 3.8 s
</code></pre></div><p><img loading="lazy" src="img/05-df.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="å››è®¨è®º">å››ã€è®¨è®º</h2>
<p>æœ¬æ–‡åªä½¿ç”¨äº†ä¸€å¼ å‘ç¥¨è¿›è¡Œå®éªŒï¼Œ å®é™…ä¸Šå‡†ç¡®ç‡æ²¡æœ‰è¿™ä¹ˆé«˜ï¼Œ è¯†åˆ«é”™è¯¯å­—æ®µé›†ä¸­åœ¨é”€å”®æ–¹çº³ç¨è¯†åˆ«å·(æ¡ˆä¾‹æ²¡æœ‰å±•ç¤ºé”€å”®æ–¹çº³ç¨è¯†åˆ«å·çš„è¯†åˆ«)ã€‚åŸå› ä¸»è¦æ˜¯ct.read_pdfè¯»å…¥pdfæ—¶ï¼Œæ–‡æœ¬æ¯”è¾ƒæ‚ä¹±ã€‚å¯¹å¤§æ¨¡å‹çš„è¯­ä¹‰ç†è§£æœ‰ä¸€å®šçš„æŒ‘æˆ˜ã€‚ç›®å‰å¤§æ¨¡å‹å·²ç»æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€ç½‘å€ï¼Œ æ‰€ä»¥å„ä½çœ‹å®˜ï¼Œä¸ç”¨ç­‰å¤ªä¹…ï¼Œå°±å¯å…‹æœæ­¤é—®é¢˜ã€‚</p>
<p>å¤§æ¨¡å‹ä¼šå¯¹æ¯ä¸ªè¾“å…¥ï¼Œç»™å‡ºæ­£ç¡®æ¦‚ç‡æœ€å¤§çš„å›ç­”ï¼Œå› æ­¤å¤§æ¨¡å‹æå–æ•°æ®æ—¶å­˜åœ¨ä¸€å®šçš„é”™è¯¯è¯†åˆ«é£é™©ã€‚ä¸ºé™ä½è¯¥é£é™©ï¼Œå°½é‡é€‰æ‹©ç‰¹åˆ«ç‰¹æ®Šã€æ˜¾çœ¼ï¼Œä¾‹å¦‚ä¸‰å¼ å‘ç¥¨çš„<strong>ä»·ç¨åˆè®¡(å¤§å†™)</strong>,  å› ä¸ºä¿¡æ¯æ˜¯ç‰¹æ®Šçš„ä¸­æ–‡å¤§å†™æ•°å­—ï¼Œ åœ¨æ‰€æœ‰æ–‡æœ¬ä¸­æ˜¯æœ€é†’ç›®æœ€ç‰¹åˆ«çš„æ–‡æœ¬ä¿¡æ¯ï¼Œè¿™æ ·å¤§æ¨¡å‹å¤„ç†è¿™ç±»ä¿¡æ¯æ—¶ä¼šç»™è¿™ç±»ä¿¡æ¯å°½å¯èƒ½é«˜çš„æƒé‡ï¼Œå¢å¤§å›ç­”çš„å‡†ç¡®ç‡ã€‚</p>
<br>
<br>
<h2 id="ç²¾é€‰å†…å®¹">ç²¾é€‰å†…å®¹</h2>
<ul>
<li><a href="https://textdata.cn/blog/datasets_available_for_management_science/">LIST | å¯ä¾›ç¤¾ç§‘(ç»ç®¡)é¢†åŸŸä½¿ç”¨çš„æ•°æ®é›†æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/the_text_analysis_list_about_ms/">LIST | ç¤¾ç§‘(ç»ç®¡)æ•°æ®æŒ–æ˜æ–‡çŒ®èµ„æ–™æ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2024-06-16-scrapegraph-ai/">ç½‘ç»œçˆ¬è™« | ä½¿ç”¨scrapegraph-ai(å¤§æ¨¡å‹æ–¹æ¡ˆ)è‡ªåŠ¨é‡‡é›†ç½‘é¡µæ•°æ®</a></li>
<li><a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/">æ¨è | æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ</a></li>
<li><a href="https://textdata.cn/blog/management_python_course/">ä»˜è´¹è§†é¢‘è¯¾ | Pythonå®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a>
<br>
<br></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>cntext2.x | æ–°å¢è¯»å–pdf/docx| æå–MD&amp;A | æ–‡æœ¬å¯è§†åŒ–ç­‰åŠŸèƒ½</title>
      <link>https://textdata.cn/blog/2024-05-14-add-readpdf-readdocx-lexical-dispersion-plot/</link>
      <pubDate>Tue, 14 May 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-05-14-add-readpdf-readdocx-lexical-dispersion-plot/</guid>
      <description>&lt;h2 id=&#34;ä¸€cntext&#34;&gt;ä¸€ã€cntext&lt;/h2&gt;
&lt;h3 id=&#34;11-æ–°å¢å‡½æ•°&#34;&gt;1.1 æ–°å¢å‡½æ•°&lt;/h3&gt;
&lt;p&gt;cntext2.1.2æ–°å¢å‡½æ•°æœ‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;get_cntext_path()&lt;/strong&gt;&lt;/em&gt;  æŸ¥çœ‹cntext2.xçš„å®‰è£…è·¯å¾„&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;read_pdf()/read_docx()&lt;/strong&gt;&lt;/em&gt;  è¯»å– pdfã€docxæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;extract_mda()&lt;/strong&gt;&lt;/em&gt; æå–ä¸­æ–‡å¹´æŠ¥æ–‡æœ¬ä¸­çš„ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;matplotlib_chinese()&lt;/strong&gt;&lt;/em&gt; æ”¯æŒmatplotlibæ˜¾ç¤ºä¸­æ–‡&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;lexical_dispersion_plot1()&lt;/strong&gt;&lt;/em&gt; è¯æ±‡åˆ†æ•£å›¾&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;lexical_dispersion_plot2()&lt;/strong&gt;&lt;/em&gt; è¯æ±‡åˆ†æ•£å›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å·²è´­ä¹°cntext2.xçš„ç”¨æˆ·ï¼Œå¯ç§ä¿¡æ‰¾åˆ°å¤§é‚“è·å–æœ€æ–°ç‰ˆæœ¬å®‰è£…åŒ…ï¼&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&#34;12-å®‰è£…&#34;&gt;1.2 å®‰è£…&lt;/h3&gt;
&lt;p&gt;æ‰€æœ‰ cntext2.x å®‰è£…æ–¹æ³•ç±»ä¼¼ï¼Œ ä»¥ç›®å‰ cntext2.1.2 ä¸ºä¾‹ï¼Œå°† cntext-2.1.2-py3-none-any.whl æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ cmd (è‹¹æœç”µè„‘æ‰“å¼€terminal)ï¼Œ è¾“å…¥cd desktop&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹ååœ¨ cmd (è‹¹æœç”µè„‘æ‰“å¼€terminal) ä¸­ä½¿ç”¨ pip3 å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install distinctiveness
pip3 install cntext-2.1.2-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡ç« å¼€å¤´å’Œæ–‡ç« æœ«éƒ½æœ‰*** cntext-2.1.2-py3-none-any.whl*** è·å–æ–¹å¼è¯´æ˜ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;äºŒå®éªŒ&#34;&gt;äºŒã€å®éªŒ&lt;/h2&gt;
&lt;h3 id=&#34;21-get_cntext_path&#34;&gt;2.1 get_cntext_path()&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ ç†Ÿæ‚‰PYTHONï¼Œæƒ³å¯¹cntextå†…è¿›è¡Œä¿®æ”¹ï¼Œ å¯ä»¥ä½¿ç”¨è¯¥å‡½æ•°æ‰¾åˆ°cntextå®‰è£…è·¯å¾„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_cntext_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/cntext
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ä¸åŒç”µè„‘è¿”å›çš„ä½ç½®æ˜¯ä¸åŒçš„ï¼Œä»¥ä¸Šè·¯å¾„æ˜¯å¤§é‚“Macä¸­cntext2.xçš„å®‰è£…è·¯å¾„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;h3 id=&#34;22-read_docx&#34;&gt;2.2 read_docx()&lt;/h3&gt;
&lt;p&gt;è¯»å– docxæ–‡ä»¶ã€‚ è‡ªå·±diyä¸€ä¸ª test.docx , åœ¨æ–‡ä»¶å†…å†™ä¸€ä¸ªå¥å­ï¼Œæµ‹ä¸€æµ‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_docx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test.docx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¿™æ˜¯æ¥è‡ªdocxæ–‡ä»¶é‡Œçš„å†…å®¹
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;23-read_pdf&#34;&gt;2.3 read_pdf()&lt;/h3&gt;
&lt;p&gt;è¯»å– pdfæ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#è¯»å–æ ¼åŠ›ç”µå™¨2023ä¼šè®¡å¹´åº¦çš„å¹´æŠ¥æ–‡ä»¶&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ ¼åŠ›ç”µå™¨2023.pdf&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;CPU times: user 5.5 s, sys: 48.9 ms, total: 5.55 s
Wall time: 5.55 s

\nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡  \nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸  \n2023å¹´å¹´åº¦æŠ¥å‘Š  \n \n \näºŒã€‡äºŒå››å¹´å››æœˆ \nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡  \n ç¬¬ 2 é¡µ å…± 249 é¡µ ç¬¬ä¸€èŠ‚ é‡è¦æç¤ºã€ç›®å½•å’Œé‡Šä¹‰  \nå…¬å¸è‘£äº‹ä¼šã€ç›‘äº‹ä¼šåŠè‘£äº‹ã€ç›‘äº‹ã€é«˜çº§ç®¡ç†äººå‘˜ä¿è¯å¹´åº¦æŠ¥å‘Šå†…å®¹\nçš„çœŸå®ã€å‡†ç¡®ã€å®Œæ•´ï¼Œä¸å­˜åœ¨è™šå‡è®°è½½ã€è¯¯å¯¼æ€§é™ˆè¿°æˆ–é‡å¤§é—æ¼ï¼Œå¹¶æ‰¿æ‹…\nä¸ªåˆ«å’Œè¿å¸¦çš„æ³•å¾‹è´£ä»»ã€‚  \nå…¬å¸è´Ÿè´£äººè‘£æ˜ç ã€ä¸»ç®¡ä¼šè®¡å·¥ä½œè´Ÿè´£äººå»–å»ºé›„åŠä¼šè®¡æœºæ„è´Ÿè´£äºº\nï¼ˆä¼šè®¡ä¸»ç®¡äººå‘˜ï¼‰åˆ˜ç‚å§¿å£°æ˜ï¼šä¿è¯æœ¬å¹´åº¦æŠ¥å‘Šä¸­è´¢åŠ¡æŠ¥å‘Šçš„çœŸå®ã€å‡†ç¡®ã€\nå®Œæ•´ã€‚ \næ‰€æœ‰è‘£äº‹å‡å·²å‡ºå¸­äº†å®¡è®®æœ¬æŠ¥å‘Šçš„è‘£äº‹ä¼šä¼šè®®ã€‚  \næœ¬æŠ¥å‘Šä¸­æ‰€æ¶‰åŠçš„æœªæ¥è®¡åˆ’ã€å‘å±•æˆ˜ç•¥ç­‰å‰ç»æ€§é™ˆè¿°ï¼Œä¸æ„æˆå…¬å¸å¯¹\næŠ•èµ„è€…çš„å®è´¨æ‰¿è¯ºï¼ŒæŠ•èµ„è€…åŠç›¸å…³äººå£«å‡åº”å½“å¯¹æ­¤ä¿æŒè¶³å¤Ÿçš„é£é™©è®¤è¯†ï¼Œ\nå¹¶ä¸”åº”å½“ç†è§£è®¡åˆ’ã€é¢„æµ‹ä¸æ‰¿è¯ºä¹‹é—´çš„å·®å¼‚ï¼Œæ•¬è¯·æ³¨æ„æŠ•èµ„é£é™©ï¼Œç†æ€§æŠ•\nèµ„ã€‚ \nå…¬å¸ç»æœ¬æ¬¡è‘£äº‹ä¼šå®¡è®®é€šè¿‡çš„åˆ©æ¶¦åˆ†é…é¢„æ¡ˆä¸ºï¼šæ‹Ÿä»¥æœ¬åˆ©æ¶¦åˆ†é…é¢„æ¡ˆ\næŠ«éœ²æ—¶äº«æœ‰åˆ©æ¶¦åˆ†é…æƒçš„è‚¡æœ¬æ€»é¢  5,521,943,646 è‚¡ï¼ˆæ€»è‚¡æœ¬\n5,631,405,741 è‚¡æ‰£é™¤å…¬å¸å›è´­è´¦æˆ·æŒæœ‰çš„è‚¡ä»½ 109,462,095 è‚¡ï¼‰ä¸ºåŸºæ•°ï¼Œ\nå‘å…¨ä½“è‚¡ä¸œæ¯ 10è‚¡æ´¾å‘ç°é‡‘çº¢åˆ© 23.80å…ƒï¼ˆå«ç¨ï¼‰ï¼Œé€çº¢è‚¡ 0è‚¡ï¼ˆå«\nç¨ï¼‰ï¼Œä¸ä»¥å…¬ç§¯é‡‘è½¬å¢è‚¡æœ¬ã€‚  \n   \nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡  \n ç¬¬ 3 é¡µ å…± 249 é¡µ ç›®å½• \nç¬¬ä¸€èŠ‚ é‡è¦æç¤ºã€ç›®å½•å’Œé‡Šä¹‰  ................................ ..........................  2 \nç¬¬äºŒèŠ‚ å…¬å¸ç®€ä»‹å’Œä¸»è¦è´¢åŠ¡æŒ‡æ ‡  ................................ ........................  6 \nç¬¬ä¸‰èŠ‚ ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ  ................................ ...............................  10 \nç¬¬å››èŠ‚ å…¬å¸æ²»ç†  ................................ ................................ ........  42 \nç¬¬äº”èŠ‚ ç¯å¢ƒå’Œç¤¾ä¼šè´£ä»»  ................................ ..

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;24-extract_mda&#34;&gt;2.4 extract_mda()&lt;/h3&gt;
&lt;p&gt;æå–Aè‚¡å¹´æŠ¥ä¸­çš„MD&amp;amp;Aæ–‡æœ¬å†…å®¹ã€‚å¦‚æœè¿”å›&#39;&#39;,åˆ™æå–å¤±è´¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ct.extract_mda(text, kws_pattern=&amp;#39;&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;text ä¸­å›½Aè‚¡å¹´æŠ¥åŸå§‹æ–‡æœ¬&lt;/li&gt;
&lt;li&gt;kws_pattern ç®¡ç†å±‚è®¨è®ºä¸åˆ†æç« èŠ‚è¯†åˆ«å…³é”®è¯çš„æ¨¡æ¿ã€‚cntextå†…ç½®çš„kws_patternå†…å®¹å¦‚ä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;kws_pattern = &amp;#39;è‘£äº‹ä¼šæŠ¥å‘Š|è‘£äº‹ä¼šæŠ¥å‘Šä¸ç®¡ç†è®¨è®º|ä¼ä¸šè¿è¥ä¸ç®¡ç†è¯„è¿°|ç»è¥æ€»ç»“ä¸åˆ†æ|ç®¡ç†å±‚è¯„ä¼°ä¸æœªæ¥å±•æœ›|è‘£äº‹å±€æŠ¥å‘Š|ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ|ç»è¥æƒ…å†µè®¨è®ºä¸åˆ†æ|ç»è¥ä¸šç»©åˆ†æ|ä¸šåŠ¡å›é¡¾ä¸å±•æœ›|å…¬å¸ç»è¥åˆ†æ|ç®¡ç†å±‚è¯„è®ºä¸åˆ†æ|æ‰§è¡Œæ‘˜è¦ä¸ä¸šåŠ¡å›é¡¾|ä¸šåŠ¡è¿è¥åˆ†æ&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;åŸºæœ¬ä¸Š2015å¹´ä¹‹åï¼Œè¯†åˆ«å‘½ä¸­ç‡åœ¨90%ä»¥ä¸Šã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#è¯»å–æ ¼åŠ›ç”µå™¨2023ä¼šè®¡å¹´åº¦çš„å¹´æŠ¥æ–‡ä»¶&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ ¼åŠ›ç”µå™¨2023.pdf&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#æå–mda&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;mda_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;extract_mda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;mda_text&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ  \nä¸€ã€æŠ¥å‘ŠæœŸå†…å…¬å¸æ‰€å¤„è¡Œä¸šæƒ…å†µ  \nï¼ˆä¸€ï¼‰è¡Œä¸šå‘å±•ç°çŠ¶  \n1.æ¶ˆè´¹é¢†åŸŸ â€”â€”å®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿ï¼Œç©ºè°ƒå¸‚åœºæ¢å¤æ˜æ˜¾  \n2023å¹´ï¼Œä¸­å›½ç»æµä¿æŒäº†æ•´ä½“æ¢å¤å‘å¥½çš„æ€åŠ¿ï¼Œæ¿€å‘æ¶ˆè´¹æ˜¯ç¨³å¢é•¿çš„é‡ä¸­ä¹‹é‡ã€‚å›½å®¶é¼“åŠ±å’Œæ¨åŠ¨æ¶ˆè´¹å“ä»¥æ—§æ¢\næ–°ï¼Œä¿ƒè¿›æ¶ˆè´¹ç»æµå¤§å¾ªç¯ï¼ŒåŠ é€Ÿæ›´æ–°éœ€æ±‚é‡Šæ”¾ï¼Œæ¨åŠ¨é«˜èƒ½æ•ˆäº§å“è®¾å¤‡é”€å”®å’Œå‡ºå£å¢é•¿ï¼Œè¿›ä¸€æ­¥æ¿€å‘ç»¿è‰²æ¶ˆè´¹æ½œåŠ›ã€‚  \n1ï¼‰å®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿  \n2023å¹´ï¼Œå›½å†…ç»æµæ¢å¤æ˜æ˜¾ï¼Œå®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿ã€‚æ ¹æ®å…¨å›½å®¶ç”¨ç”µå™¨å·¥ä¸šä¿¡æ¯ä¸­å¿ƒå‘å¸ƒçš„ã€Š 2023å¹´ä¸­å›½å®¶ç”µ\nè¡Œä¸šå¹´åº¦æŠ¥å‘Šã€‹ï¼Œå®¶ç”µè¡Œä¸šå¤–é”€æ˜æ˜¾å¢é•¿ï¼Œå‡ºå£è§„æ¨¡ä¸º 6,174äº¿å…ƒï¼ŒåŒæ¯”å¢é•¿ 9.9%ï¼›å›½å†…å¸‚åœºå®ç°ç¨³æ­¥å¢é•¿ï¼Œé”€å”®\nè§„æ¨¡ä¸º7,736äº¿å…ƒï¼ŒåŒæ¯”å¢é•¿ 1.7%ã€‚ \n2ï¼‰ç©ºè°ƒå¸‚åœºè§„æ¨¡å®ç°è¾ƒå¥½æ¢å¤  \n2023å¹´ï¼Œç©ºè°ƒå¸‚åœºæ¢å¤æ˜æ˜¾ã€‚æ ¹æ®å¥¥ç»´äº‘ç½‘ï¼ˆ AVCï¼‰é›¶å”®æ¨æ€»æ•°æ®ï¼Œ 2023å¹´ç©ºè°ƒå¸‚åœºå®ç°é›¶å”®é¢ 2,117äº¿å…ƒï¼Œ\nåŒæ¯”å¢é•¿ 7.5%ï¼Œé›¶å”®é‡ 6,085ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 6.5%ã€‚æ ¹æ®äº§ä¸šåœ¨çº¿æ•°æ®ï¼Œ 2023å¹´ï¼Œå®¶ç”¨ç©ºè°ƒç”Ÿäº§ 16,869.2 ä¸‡å°ï¼Œ\nåŒæ¯”å¢é•¿ 11.1%ï¼Œé”€å”®17,044.0 ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 11.2%ï¼Œå…¶ä¸­å†…é”€å‡ºè´§ 9,959.7ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 13.8%ï¼Œå‡ºå£å‡ºè´§\n7,084.3ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 7.8%ï¼Œå†…å¤–é”€å®ç°åŒå¢é•¿ã€‚  \n2.å·¥ä¸šé¢†åŸŸ â€”â€”å·¥ä¸šç»æµç¨³ä¸­å‘ä¸Šæ€åŠ¿  \næ ¹æ®å·¥ä¿¡éƒ¨æ•°æ®ï¼Œ 2023å¹´ï¼Œæˆ‘å›½è§„æ¨¡ä»¥ä¸Šå·¥ä¸šå¢åŠ å€¼åŒæ¯”å¢é•¿ 4.6%ï¼ŒåŒæ¯”æå‡ 1ä¸ªç™¾åˆ†ç‚¹ï¼Œå…¶ä¸­åˆ¶é€ ä¸šè§„æ¨¡\nä»¥ä¸Šå·¥ä¸šå¢åŠ å€¼åŒæ¯”å¢é•¿ 5.0%ã€‚ \næ™ºèƒ½åˆ¶é€ äº§ä¸šè§„æ¨¡æ—¥ç›Šå¢é•¿ã€‚ä»ã€Šä¸­å›½åˆ¶é€  2025ã€‹å†åˆ°ã€Šâ€œåå››äº”â€æ™ºèƒ½åˆ¶é€ å‘å±•è§„åˆ’ã€‹ï¼Œå‡ä»¥å‘å±•å…ˆè¿›æ™ºèƒ½\nåˆ¶é€ ä¸šä¸ºæ ¸å¿ƒç›®æ ‡ï¼Œå¸ƒå±€è§„åˆ’åˆ¶é€ å¼ºå›½çš„æ¨è¿›è·¯å¾„ã€‚æˆ‘å›½å·² åˆæ­¥å½¢æˆä»¥è‡ªåŠ¨åŒ–ç”Ÿäº§çº¿ã€æ™ºèƒ½æ£€æµ‹ä¸è£…é…è£…å¤‡ã€æ™ºèƒ½\næ§åˆ¶ç³»ç»Ÿã€å·¥ä¸šæœºå™¨äººç­‰ä¸ºä»£è¡¨çš„æ™ºèƒ½åˆ¶é€ äº§ä¸šä½“ç³»ï¼Œäº§ä¸šè§„æ¨¡æ—¥ç›Šå¢é•¿ã€‚ä¸­å•†äº§ä¸šç ”ç©¶é™¢é¢„è®¡ï¼Œ 2023å¹´æˆ‘å›½æ™ºèƒ½\nåˆ¶é€ è£…å¤‡å¸‚åœºè§„æ¨¡å°†è¶…è¿‡ 2.97ä¸‡äº¿å…ƒã€‚å‰ç»äº§ä¸šç ”ç©¶é™¢é¢„æµ‹ï¼Œåˆ° 2027å¹´ï¼Œæˆ‘å›½æ™ºèƒ½åˆ¶é€ è¡Œä¸šå¸‚åœºè§„æ¨¡å°†è¾¾åˆ° 6.6\nä¸‡äº¿å…ƒï¼Œå…¶ä¸­æ™ºèƒ½åˆ¶é€ è£…å¤‡å¸‚åœºè§„æ¨¡çº¦ 5.4ä¸‡äº¿å…ƒï¼Œæ™ºèƒ½åˆ¶é€ ç³»ç»Ÿè§£å†³æ–¹æ¡ˆå¸‚åœºè§„æ¨¡çº¦ 1.2ä¸‡äº¿å…ƒã€‚ 2023å¹´ï¼Œå›½å†…\nåŠ å¿«æ¨åŠ¨ä¼ ç»Ÿäº§ä¸šæŠ€æœ¯æ”¹é€ å‡çº§ï¼ŒåŠ å¤§æ™ºèƒ½åˆ¶é€ æ¨å¹¿åŠ›åº¦ï¼Œç»„å»ºæˆ  62å®¶â€œç¯å¡”å·¥å‚â€ï¼Œå å…¨çƒâ€œç¯å¡”å·¥å‚â€æ€»æ•°\nçš„40%ï¼ŒåŸ¹è‚²äº† 421å®¶å›½å®¶çº§æ™ºèƒ½åˆ¶é€ ç¤ºèŒƒ å·¥å‚ï¼Œä¸‡ä½™å®¶çœçº§æ•°å­—åŒ–è½¦é—´å’Œæ™ºèƒ½å·¥å‚ã€‚  \nç©ºè°ƒæ ¸å¿ƒé›¶éƒ¨ä»¶äº§ä¸šè§„æ¨¡å¢é•¿æ˜æ˜¾ã€‚æ ¹æ®äº§ä¸šåœ¨çº¿æ•°æ®ï¼Œ 2023å¹´ï¼Œç©ºè°ƒè½¬å­å‹ç¼©æœºå¸‚åœºé«˜é€Ÿå‘å±•ï¼Œå…¨å¹´äº§é‡è¾¾\nåˆ°2.61äº¿å°ï¼ŒåŒæ¯”å¢é•¿ 12.2%ï¼›å…¨å¹´é”€å”®é‡è¾¾åˆ° 2.62äº¿å°ï¼Œæˆä¸ºè¡Œä¸šæ–°å·…å³°ã€‚å†…é”€å¸‚åœºï¼Œè½¬å­å‹ç¼©æœºè¡¨ç°å‡ºè‰²ï¼Œ\nå…¨å¹´ä¿æŒæ­£å‘å¢é•¿ï¼Œé¢„è®¡å†…é”€ä¸º 2.27äº¿å°ï¼ŒåŒæ¯”å¢é•¿ 14.3%ï¼›å¤–é”€å¸‚åœºï¼Œå…¨å¹´é¢„è®¡å‡ºå£ 3,564.7ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿\n2.1%ã€‚å—ç›Šäº 2023å¹´ä¸‹æ¸¸ç©ºè°ƒå¸‚åœºé”€å”®è§„æ¨¡çš„å¢é•¿ï¼Œç©ºè°ƒç”µæœºè¡Œä¸šäº§é”€è§„æ¨¡åŒæ­¥æå‡ï¼Œè¾¾åˆ° 4.22äº¿å°ï¼ŒåŒæ¯”å¢é•¿\n6.8%ï¼›å†…é”€å¸‚åœºå‡ºè´§çº¦ä¸º 3.5äº¿å°ï¼ŒåŒ æ¯”å¢é•¿8.4%ï¼›å‡ºå£å¸‚åœºå‡ºè´§çº¦ä¸º 0.7äº¿å°ï¼ŒåŒæ¯”æŒå¹³ã€‚å‹ç¼©æœºå’Œç”µæœºäº§ä¸šè§„\næ¨¡çš„å¢é•¿ï¼Œä¸ºæ•´ä¸ªç©ºè°ƒè¡Œä¸šçš„å‘å±•æä¾›äº†æœ‰åŠ›æ”¯æŒã€‚  \n
.......
.......
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;25-matplotlib_chinese&#34;&gt;2.5 matplotlib_chinese()&lt;/h3&gt;
&lt;p&gt;matplotlibé»˜è®¤ä¸æ”¯æŒä¸­æ–‡å¯è§†åŒ–ï¼Œ cntextæ–°å¢è¯¥å‡½æ•°ï¼Œå¯ä»¥è§£å†³ä¸­æ–‡å¯è§†åŒ–é—®é¢˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;matplotlib_chinese&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;figure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸­æ–‡å›¾è¡¨&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fontsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/27-chinese-matplotlib.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;26-lexical_dispersion_plot1&#34;&gt;2.6 lexical_dispersion_plot1()&lt;/h3&gt;
&lt;p&gt;è¯æ±‡åˆ†æ•£å›¾å¯è§†åŒ–ï¼Œ å¯¹æŸä¸€ä¸ªæ–‡æœ¬textï¼Œ å¯è§†åŒ–ä¸åŒç›®æ ‡ç±»åˆ«è¯targets_dictåœ¨æ–‡æœ¬ä¸­å‡ºç°ä½ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lexical_dispersion_plot1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;targets_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç‰¹å®šè¯æ±‡åœ¨ä¸åŒæ–‡æœ¬æ¥æºçš„ç›¸å¯¹ç¦»æ•£å›¾&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prop&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;text&lt;/strong&gt;&lt;/em&gt;: æ–‡æœ¬æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;targets_dict&lt;/strong&gt;&lt;/em&gt;:  ç›®æ ‡ç±»åˆ«è¯å­—å…¸ï¼› targets_dict={&amp;lsquo;pos&amp;rsquo;: [&amp;lsquo;å¼€å¿ƒ&amp;rsquo;, &amp;lsquo;å¿«ä¹&amp;rsquo;], &amp;lsquo;neg&amp;rsquo;: [&amp;lsquo;æ‚²ä¼¤&amp;rsquo;, &amp;lsquo;éš¾è¿‡&amp;rsquo;]}&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;lang&lt;/strong&gt;&lt;/em&gt;: æ–‡æœ¬æ•°æ®texts_dictçš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤&amp;rsquo;chinese&#39;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;figsize&lt;/strong&gt;&lt;/em&gt;: å›¾çš„é•¿å®½å°ºå¯¸. é»˜è®¤ (8, 5).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;title&lt;/strong&gt;&lt;/em&gt; : å›¾çš„æ ‡é¢˜ï¼›&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;prop&lt;/strong&gt;&lt;/em&gt;: æ¨ªåæ ‡å­—ç¬¦ä½ç½®æ˜¯å¦ä¸ºç›¸å¯¹ä½ç½®. é»˜è®¤Trueï¼Œæ¨ªåæ ‡ç´¢å¼•å€¼å–å€¼èŒƒå›´0 ~ 100&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;p&gt;ç‚¹å‡»ä¸‹è½½ &lt;a href=&#34;https://textdata.cn/data/%E4%B8%89%E4%BD%93.txt&#34;&gt;&lt;strong&gt;ä¸‰ä½“.txt&lt;/strong&gt;&lt;/a&gt;ã€&lt;a href=&#34;https://textdata.cn/data/%E5%9F%BA%E5%9C%B0.txt&#34;&gt;&lt;strong&gt;åŸºåœ°.txt&lt;/strong&gt;&lt;/a&gt;ä¸¤æœ¬å°è¯´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;roles_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;æ±ªæ·¼&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ±ªæ·¼&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;å¶æ–‡æ´&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å¶æ–‡æ´&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ç½—è¾‘&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç½—è¾‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;santi_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸‰ä½“.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lexical_dispersion_plot1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;santi_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#æ–‡æœ¬æ•°æ®&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;targets_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;roles_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#è§’è‰²&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#å°ºå¯¸å¤§å°&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#ä¸­æ–‡æ•°æ®&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ã€Šä¸‰ä½“ã€‹å°è¯´è§’è‰²å‡ºç°ä½ç½®&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#æ ‡é¢˜&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;prop&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;#ç›¸å¯¹ä½ç½®(æ¨ªåæ ‡è½´å–å€¼èŒƒå›´0-100)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/23-lexical_dispersion_plot1-relative.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lexical_dispersion_plot1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;santi_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#æ–‡æœ¬æ•°æ®&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;targets_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;roles_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#è§’è‰²&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#å°ºå¯¸å¤§å°&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#ä¸­æ–‡æ•°æ®&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ã€Šä¸‰ä½“ã€‹å°è¯´è§’è‰²å‡ºç°ä½ç½®&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#æ ‡é¢˜&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;prop&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;#ç»å¯¹ä½ç½®(æ¨ªåæ ‡è½´å–å€¼èŒƒå›´ä¸å°è¯´æ–‡æœ¬é•¿åº¦æœ‰å…³)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/24-lexical_dispersion_plot1-absolute.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#diyäº†ä¸€ä¸ªå°è¯å…¸&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;senti_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;pos&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å¼€å¿ƒ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¹¸ç¦&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¿«ä¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å®‰å®&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¸Œæœ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;neg&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç´§å¼ &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ææƒ§&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å®³æ€•&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»æœ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;santi_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸‰ä½“.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lexical_dispersion_plot1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;santi_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;targets_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;senti_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ã€Šä¸‰ä½“ã€‹æƒ…ç»ªè¯å‡ºç°ä½ç½®&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;prop&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/25-santi_sentiment.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;27--lexical_dispersion_plot2&#34;&gt;2.7  lexical_dispersion_plot2()&lt;/h3&gt;
&lt;p&gt;è¯æ±‡åˆ†æ•£å›¾å¯è§†åŒ–ï¼Œ å¯¹æŸå‡ ä¸ªæ–‡æœ¬texts_dictï¼Œ å¯è§†åŒ–æŸäº›ç›®æ ‡è¯targetsåœ¨æ–‡æœ¬ä¸­å‡ºç°ç›¸å¯¹ä½ç½®(0~100)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lexical_dispersion_plot2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;texts_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;targets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç‰¹å®šè¯æ±‡åœ¨ä¸åŒæ–‡æœ¬æ¥æºçš„ç›¸å¯¹ç¦»æ•£å›¾&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;texts_dict&lt;/strong&gt;&lt;/em&gt;: å¤šä¸ªæ–‡æœ¬çš„å­—å…¸æ•°æ®ã€‚å½¢å¦‚{&amp;lsquo;source1&amp;rsquo;: &amp;lsquo;source1çš„æ–‡æœ¬å†…å®¹&amp;rsquo;, &amp;lsquo;source2&amp;rsquo;: &amp;lsquo;source2çš„æ–‡æœ¬å†…å®¹&amp;rsquo;}&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;targets&lt;/strong&gt;&lt;/em&gt;: ç›®æ ‡è¯åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;lang&lt;/strong&gt;&lt;/em&gt;: æ–‡æœ¬æ•°æ®texts_dictçš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤&amp;rsquo;chinese&#39;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;figsize&lt;/strong&gt;&lt;/em&gt;: å›¾çš„é•¿å®½å°ºå¯¸. é»˜è®¤ (8, 5).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;title&lt;/strong&gt;&lt;/em&gt; : å›¾çš„æ ‡é¢˜ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;targets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å¤ªç©º&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å®‡å®™&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;texts_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸‰ä½“&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¸‰ä½“.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;
              &lt;span class=&#34;s1&#34;&gt;&amp;#39;åŸºåœ°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;åŸºåœ°.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lexical_dispersion_plot2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;texts_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;texts_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;targets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;targets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;figsize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; 
                            &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;å¤ªç©º/å®‡å®™&amp;#34;è¯è¯­å‡ºç°ä½ç½®&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;lang&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/26-santi_base.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;è·å–èµ„æ–™&#34;&gt;è·å–èµ„æ–™&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- 100å…ƒ cntext-2.1.2-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŠ å¾®ä¿¡ &lt;strong&gt;372335839&lt;/strong&gt;ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€ã€‚ å·²è´­ä¹°cntext2.xçš„ç”¨æˆ·ï¼Œå¯ç§ä¿¡æ‰¾åˆ°å¤§é‚“è·å–æœ€æ–°ç‰ˆæœ¬å®‰è£…åŒ…ï¼&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€cntext">ä¸€ã€cntext</h2>
<h3 id="11-æ–°å¢å‡½æ•°">1.1 æ–°å¢å‡½æ•°</h3>
<p>cntext2.1.2æ–°å¢å‡½æ•°æœ‰</p>
<ul>
<li><em><strong>get_cntext_path()</strong></em>  æŸ¥çœ‹cntext2.xçš„å®‰è£…è·¯å¾„</li>
<li><em><strong>read_pdf()/read_docx()</strong></em>  è¯»å– pdfã€docxæ–‡ä»¶</li>
<li><em><strong>extract_mda()</strong></em> æå–ä¸­æ–‡å¹´æŠ¥æ–‡æœ¬ä¸­çš„ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ</li>
<li><em><strong>matplotlib_chinese()</strong></em> æ”¯æŒmatplotlibæ˜¾ç¤ºä¸­æ–‡</li>
<li><em><strong>lexical_dispersion_plot1()</strong></em> è¯æ±‡åˆ†æ•£å›¾</li>
<li><em><strong>lexical_dispersion_plot2()</strong></em> è¯æ±‡åˆ†æ•£å›¾</li>
</ul>
<p>å·²è´­ä¹°cntext2.xçš„ç”¨æˆ·ï¼Œå¯ç§ä¿¡æ‰¾åˆ°å¤§é‚“è·å–æœ€æ–°ç‰ˆæœ¬å®‰è£…åŒ…ï¼</p>
<p><br><br></p>
<h3 id="12-å®‰è£…">1.2 å®‰è£…</h3>
<p>æ‰€æœ‰ cntext2.x å®‰è£…æ–¹æ³•ç±»ä¼¼ï¼Œ ä»¥ç›®å‰ cntext2.1.2 ä¸ºä¾‹ï¼Œå°† cntext-2.1.2-py3-none-any.whl æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ cmd (è‹¹æœç”µè„‘æ‰“å¼€terminal)ï¼Œ è¾“å…¥cd desktop</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¹‹ååœ¨ cmd (è‹¹æœç”µè„‘æ‰“å¼€terminal) ä¸­ä½¿ç”¨ pip3 å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install distinctiveness
pip3 install cntext-2.1.2-py3-none-any.whl
</code></pre></div><p>æ–‡ç« å¼€å¤´å’Œæ–‡ç« æœ«éƒ½æœ‰*** cntext-2.1.2-py3-none-any.whl*** è·å–æ–¹å¼è¯´æ˜ã€‚</p>
<br>
<h2 id="äºŒå®éªŒ">äºŒã€å®éªŒ</h2>
<h3 id="21-get_cntext_path">2.1 get_cntext_path()</h3>
<p>å¦‚æœä½ ç†Ÿæ‚‰PYTHONï¼Œæƒ³å¯¹cntextå†…è¿›è¡Œä¿®æ”¹ï¼Œ å¯ä»¥ä½¿ç”¨è¯¥å‡½æ•°æ‰¾åˆ°cntextå®‰è£…è·¯å¾„ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">ct</span><span class="o">.</span><span class="n">get_cntext_path</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/cntext
</code></pre></div><blockquote>
<p>ä¸åŒç”µè„‘è¿”å›çš„ä½ç½®æ˜¯ä¸åŒçš„ï¼Œä»¥ä¸Šè·¯å¾„æ˜¯å¤§é‚“Macä¸­cntext2.xçš„å®‰è£…è·¯å¾„</p>
</blockquote>
<br>
<h3 id="22-read_docx">2.2 read_docx()</h3>
<p>è¯»å– docxæ–‡ä»¶ã€‚ è‡ªå·±diyä¸€ä¸ª test.docx , åœ¨æ–‡ä»¶å†…å†™ä¸€ä¸ªå¥å­ï¼Œæµ‹ä¸€æµ‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_docx</span><span class="p">(</span><span class="s1">&#39;test.docx&#39;</span><span class="p">)</span>

<span class="n">text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿™æ˜¯æ¥è‡ªdocxæ–‡ä»¶é‡Œçš„å†…å®¹
</code></pre></div><br>
<h3 id="23-read_pdf">2.3 read_pdf()</h3>
<p>è¯»å– pdfæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">%%</span><span class="n">time</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#è¯»å–æ ¼åŠ›ç”µå™¨2023ä¼šè®¡å¹´åº¦çš„å¹´æŠ¥æ–‡ä»¶</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s1">&#39;æ ¼åŠ›ç”µå™¨2023.pdf&#39;</span><span class="p">)</span>

<span class="n">text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">CPU times: user 5.5 s, sys: 48.9 ms, total: 5.55 s
Wall time: 5.55 s

\nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡  \nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸  \n2023å¹´å¹´åº¦æŠ¥å‘Š  \n \n \näºŒã€‡äºŒå››å¹´å››æœˆ \nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡  \n ç¬¬ 2 é¡µ å…± 249 é¡µ ç¬¬ä¸€èŠ‚ é‡è¦æç¤ºã€ç›®å½•å’Œé‡Šä¹‰  \nå…¬å¸è‘£äº‹ä¼šã€ç›‘äº‹ä¼šåŠè‘£äº‹ã€ç›‘äº‹ã€é«˜çº§ç®¡ç†äººå‘˜ä¿è¯å¹´åº¦æŠ¥å‘Šå†…å®¹\nçš„çœŸå®ã€å‡†ç¡®ã€å®Œæ•´ï¼Œä¸å­˜åœ¨è™šå‡è®°è½½ã€è¯¯å¯¼æ€§é™ˆè¿°æˆ–é‡å¤§é—æ¼ï¼Œå¹¶æ‰¿æ‹…\nä¸ªåˆ«å’Œè¿å¸¦çš„æ³•å¾‹è´£ä»»ã€‚  \nå…¬å¸è´Ÿè´£äººè‘£æ˜ç ã€ä¸»ç®¡ä¼šè®¡å·¥ä½œè´Ÿè´£äººå»–å»ºé›„åŠä¼šè®¡æœºæ„è´Ÿè´£äºº\nï¼ˆä¼šè®¡ä¸»ç®¡äººå‘˜ï¼‰åˆ˜ç‚å§¿å£°æ˜ï¼šä¿è¯æœ¬å¹´åº¦æŠ¥å‘Šä¸­è´¢åŠ¡æŠ¥å‘Šçš„çœŸå®ã€å‡†ç¡®ã€\nå®Œæ•´ã€‚ \næ‰€æœ‰è‘£äº‹å‡å·²å‡ºå¸­äº†å®¡è®®æœ¬æŠ¥å‘Šçš„è‘£äº‹ä¼šä¼šè®®ã€‚  \næœ¬æŠ¥å‘Šä¸­æ‰€æ¶‰åŠçš„æœªæ¥è®¡åˆ’ã€å‘å±•æˆ˜ç•¥ç­‰å‰ç»æ€§é™ˆè¿°ï¼Œä¸æ„æˆå…¬å¸å¯¹\næŠ•èµ„è€…çš„å®è´¨æ‰¿è¯ºï¼ŒæŠ•èµ„è€…åŠç›¸å…³äººå£«å‡åº”å½“å¯¹æ­¤ä¿æŒè¶³å¤Ÿçš„é£é™©è®¤è¯†ï¼Œ\nå¹¶ä¸”åº”å½“ç†è§£è®¡åˆ’ã€é¢„æµ‹ä¸æ‰¿è¯ºä¹‹é—´çš„å·®å¼‚ï¼Œæ•¬è¯·æ³¨æ„æŠ•èµ„é£é™©ï¼Œç†æ€§æŠ•\nèµ„ã€‚ \nå…¬å¸ç»æœ¬æ¬¡è‘£äº‹ä¼šå®¡è®®é€šè¿‡çš„åˆ©æ¶¦åˆ†é…é¢„æ¡ˆä¸ºï¼šæ‹Ÿä»¥æœ¬åˆ©æ¶¦åˆ†é…é¢„æ¡ˆ\næŠ«éœ²æ—¶äº«æœ‰åˆ©æ¶¦åˆ†é…æƒçš„è‚¡æœ¬æ€»é¢  5,521,943,646 è‚¡ï¼ˆæ€»è‚¡æœ¬\n5,631,405,741 è‚¡æ‰£é™¤å…¬å¸å›è´­è´¦æˆ·æŒæœ‰çš„è‚¡ä»½ 109,462,095 è‚¡ï¼‰ä¸ºåŸºæ•°ï¼Œ\nå‘å…¨ä½“è‚¡ä¸œæ¯ 10è‚¡æ´¾å‘ç°é‡‘çº¢åˆ© 23.80å…ƒï¼ˆå«ç¨ï¼‰ï¼Œé€çº¢è‚¡ 0è‚¡ï¼ˆå«\nç¨ï¼‰ï¼Œä¸ä»¥å…¬ç§¯é‡‘è½¬å¢è‚¡æœ¬ã€‚  \n   \nç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡  \n ç¬¬ 3 é¡µ å…± 249 é¡µ ç›®å½• \nç¬¬ä¸€èŠ‚ é‡è¦æç¤ºã€ç›®å½•å’Œé‡Šä¹‰  ................................ ..........................  2 \nç¬¬äºŒèŠ‚ å…¬å¸ç®€ä»‹å’Œä¸»è¦è´¢åŠ¡æŒ‡æ ‡  ................................ ........................  6 \nç¬¬ä¸‰èŠ‚ ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ  ................................ ...............................  10 \nç¬¬å››èŠ‚ å…¬å¸æ²»ç†  ................................ ................................ ........  42 \nç¬¬äº”èŠ‚ ç¯å¢ƒå’Œç¤¾ä¼šè´£ä»»  ................................ ..

</code></pre></div><br>
<h3 id="24-extract_mda">2.4 extract_mda()</h3>
<p>æå–Aè‚¡å¹´æŠ¥ä¸­çš„MD&amp;Aæ–‡æœ¬å†…å®¹ã€‚å¦‚æœè¿”å›'',åˆ™æå–å¤±è´¥ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.extract_mda(text, kws_pattern=&#39;&#39;)
</code></pre></div><ul>
<li>text ä¸­å›½Aè‚¡å¹´æŠ¥åŸå§‹æ–‡æœ¬</li>
<li>kws_pattern ç®¡ç†å±‚è®¨è®ºä¸åˆ†æç« èŠ‚è¯†åˆ«å…³é”®è¯çš„æ¨¡æ¿ã€‚cntextå†…ç½®çš„kws_patternå†…å®¹å¦‚ä¸‹</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">kws_pattern = &#39;è‘£äº‹ä¼šæŠ¥å‘Š|è‘£äº‹ä¼šæŠ¥å‘Šä¸ç®¡ç†è®¨è®º|ä¼ä¸šè¿è¥ä¸ç®¡ç†è¯„è¿°|ç»è¥æ€»ç»“ä¸åˆ†æ|ç®¡ç†å±‚è¯„ä¼°ä¸æœªæ¥å±•æœ›|è‘£äº‹å±€æŠ¥å‘Š|ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ|ç»è¥æƒ…å†µè®¨è®ºä¸åˆ†æ|ç»è¥ä¸šç»©åˆ†æ|ä¸šåŠ¡å›é¡¾ä¸å±•æœ›|å…¬å¸ç»è¥åˆ†æ|ç®¡ç†å±‚è¯„è®ºä¸åˆ†æ|æ‰§è¡Œæ‘˜è¦ä¸ä¸šåŠ¡å›é¡¾|ä¸šåŠ¡è¿è¥åˆ†æ&#39;
</code></pre></div><br>
<p>åŸºæœ¬ä¸Š2015å¹´ä¹‹åï¼Œè¯†åˆ«å‘½ä¸­ç‡åœ¨90%ä»¥ä¸Šã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#è¯»å–æ ¼åŠ›ç”µå™¨2023ä¼šè®¡å¹´åº¦çš„å¹´æŠ¥æ–‡ä»¶</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s1">&#39;æ ¼åŠ›ç”µå™¨2023.pdf&#39;</span><span class="p">)</span>

<span class="c1">#æå–mda</span>
<span class="n">mda_text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">extract_mda</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="n">mda_text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ  \nä¸€ã€æŠ¥å‘ŠæœŸå†…å…¬å¸æ‰€å¤„è¡Œä¸šæƒ…å†µ  \nï¼ˆä¸€ï¼‰è¡Œä¸šå‘å±•ç°çŠ¶  \n1.æ¶ˆè´¹é¢†åŸŸ â€”â€”å®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿ï¼Œç©ºè°ƒå¸‚åœºæ¢å¤æ˜æ˜¾  \n2023å¹´ï¼Œä¸­å›½ç»æµä¿æŒäº†æ•´ä½“æ¢å¤å‘å¥½çš„æ€åŠ¿ï¼Œæ¿€å‘æ¶ˆè´¹æ˜¯ç¨³å¢é•¿çš„é‡ä¸­ä¹‹é‡ã€‚å›½å®¶é¼“åŠ±å’Œæ¨åŠ¨æ¶ˆè´¹å“ä»¥æ—§æ¢\næ–°ï¼Œä¿ƒè¿›æ¶ˆè´¹ç»æµå¤§å¾ªç¯ï¼ŒåŠ é€Ÿæ›´æ–°éœ€æ±‚é‡Šæ”¾ï¼Œæ¨åŠ¨é«˜èƒ½æ•ˆäº§å“è®¾å¤‡é”€å”®å’Œå‡ºå£å¢é•¿ï¼Œè¿›ä¸€æ­¥æ¿€å‘ç»¿è‰²æ¶ˆè´¹æ½œåŠ›ã€‚  \n1ï¼‰å®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿  \n2023å¹´ï¼Œå›½å†…ç»æµæ¢å¤æ˜æ˜¾ï¼Œå®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿ã€‚æ ¹æ®å…¨å›½å®¶ç”¨ç”µå™¨å·¥ä¸šä¿¡æ¯ä¸­å¿ƒå‘å¸ƒçš„ã€Š 2023å¹´ä¸­å›½å®¶ç”µ\nè¡Œä¸šå¹´åº¦æŠ¥å‘Šã€‹ï¼Œå®¶ç”µè¡Œä¸šå¤–é”€æ˜æ˜¾å¢é•¿ï¼Œå‡ºå£è§„æ¨¡ä¸º 6,174äº¿å…ƒï¼ŒåŒæ¯”å¢é•¿ 9.9%ï¼›å›½å†…å¸‚åœºå®ç°ç¨³æ­¥å¢é•¿ï¼Œé”€å”®\nè§„æ¨¡ä¸º7,736äº¿å…ƒï¼ŒåŒæ¯”å¢é•¿ 1.7%ã€‚ \n2ï¼‰ç©ºè°ƒå¸‚åœºè§„æ¨¡å®ç°è¾ƒå¥½æ¢å¤  \n2023å¹´ï¼Œç©ºè°ƒå¸‚åœºæ¢å¤æ˜æ˜¾ã€‚æ ¹æ®å¥¥ç»´äº‘ç½‘ï¼ˆ AVCï¼‰é›¶å”®æ¨æ€»æ•°æ®ï¼Œ 2023å¹´ç©ºè°ƒå¸‚åœºå®ç°é›¶å”®é¢ 2,117äº¿å…ƒï¼Œ\nåŒæ¯”å¢é•¿ 7.5%ï¼Œé›¶å”®é‡ 6,085ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 6.5%ã€‚æ ¹æ®äº§ä¸šåœ¨çº¿æ•°æ®ï¼Œ 2023å¹´ï¼Œå®¶ç”¨ç©ºè°ƒç”Ÿäº§ 16,869.2 ä¸‡å°ï¼Œ\nåŒæ¯”å¢é•¿ 11.1%ï¼Œé”€å”®17,044.0 ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 11.2%ï¼Œå…¶ä¸­å†…é”€å‡ºè´§ 9,959.7ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 13.8%ï¼Œå‡ºå£å‡ºè´§\n7,084.3ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿ 7.8%ï¼Œå†…å¤–é”€å®ç°åŒå¢é•¿ã€‚  \n2.å·¥ä¸šé¢†åŸŸ â€”â€”å·¥ä¸šç»æµç¨³ä¸­å‘ä¸Šæ€åŠ¿  \næ ¹æ®å·¥ä¿¡éƒ¨æ•°æ®ï¼Œ 2023å¹´ï¼Œæˆ‘å›½è§„æ¨¡ä»¥ä¸Šå·¥ä¸šå¢åŠ å€¼åŒæ¯”å¢é•¿ 4.6%ï¼ŒåŒæ¯”æå‡ 1ä¸ªç™¾åˆ†ç‚¹ï¼Œå…¶ä¸­åˆ¶é€ ä¸šè§„æ¨¡\nä»¥ä¸Šå·¥ä¸šå¢åŠ å€¼åŒæ¯”å¢é•¿ 5.0%ã€‚ \næ™ºèƒ½åˆ¶é€ äº§ä¸šè§„æ¨¡æ—¥ç›Šå¢é•¿ã€‚ä»ã€Šä¸­å›½åˆ¶é€  2025ã€‹å†åˆ°ã€Šâ€œåå››äº”â€æ™ºèƒ½åˆ¶é€ å‘å±•è§„åˆ’ã€‹ï¼Œå‡ä»¥å‘å±•å…ˆè¿›æ™ºèƒ½\nåˆ¶é€ ä¸šä¸ºæ ¸å¿ƒç›®æ ‡ï¼Œå¸ƒå±€è§„åˆ’åˆ¶é€ å¼ºå›½çš„æ¨è¿›è·¯å¾„ã€‚æˆ‘å›½å·² åˆæ­¥å½¢æˆä»¥è‡ªåŠ¨åŒ–ç”Ÿäº§çº¿ã€æ™ºèƒ½æ£€æµ‹ä¸è£…é…è£…å¤‡ã€æ™ºèƒ½\næ§åˆ¶ç³»ç»Ÿã€å·¥ä¸šæœºå™¨äººç­‰ä¸ºä»£è¡¨çš„æ™ºèƒ½åˆ¶é€ äº§ä¸šä½“ç³»ï¼Œäº§ä¸šè§„æ¨¡æ—¥ç›Šå¢é•¿ã€‚ä¸­å•†äº§ä¸šç ”ç©¶é™¢é¢„è®¡ï¼Œ 2023å¹´æˆ‘å›½æ™ºèƒ½\nåˆ¶é€ è£…å¤‡å¸‚åœºè§„æ¨¡å°†è¶…è¿‡ 2.97ä¸‡äº¿å…ƒã€‚å‰ç»äº§ä¸šç ”ç©¶é™¢é¢„æµ‹ï¼Œåˆ° 2027å¹´ï¼Œæˆ‘å›½æ™ºèƒ½åˆ¶é€ è¡Œä¸šå¸‚åœºè§„æ¨¡å°†è¾¾åˆ° 6.6\nä¸‡äº¿å…ƒï¼Œå…¶ä¸­æ™ºèƒ½åˆ¶é€ è£…å¤‡å¸‚åœºè§„æ¨¡çº¦ 5.4ä¸‡äº¿å…ƒï¼Œæ™ºèƒ½åˆ¶é€ ç³»ç»Ÿè§£å†³æ–¹æ¡ˆå¸‚åœºè§„æ¨¡çº¦ 1.2ä¸‡äº¿å…ƒã€‚ 2023å¹´ï¼Œå›½å†…\nåŠ å¿«æ¨åŠ¨ä¼ ç»Ÿäº§ä¸šæŠ€æœ¯æ”¹é€ å‡çº§ï¼ŒåŠ å¤§æ™ºèƒ½åˆ¶é€ æ¨å¹¿åŠ›åº¦ï¼Œç»„å»ºæˆ  62å®¶â€œç¯å¡”å·¥å‚â€ï¼Œå å…¨çƒâ€œç¯å¡”å·¥å‚â€æ€»æ•°\nçš„40%ï¼ŒåŸ¹è‚²äº† 421å®¶å›½å®¶çº§æ™ºèƒ½åˆ¶é€ ç¤ºèŒƒ å·¥å‚ï¼Œä¸‡ä½™å®¶çœçº§æ•°å­—åŒ–è½¦é—´å’Œæ™ºèƒ½å·¥å‚ã€‚  \nç©ºè°ƒæ ¸å¿ƒé›¶éƒ¨ä»¶äº§ä¸šè§„æ¨¡å¢é•¿æ˜æ˜¾ã€‚æ ¹æ®äº§ä¸šåœ¨çº¿æ•°æ®ï¼Œ 2023å¹´ï¼Œç©ºè°ƒè½¬å­å‹ç¼©æœºå¸‚åœºé«˜é€Ÿå‘å±•ï¼Œå…¨å¹´äº§é‡è¾¾\nåˆ°2.61äº¿å°ï¼ŒåŒæ¯”å¢é•¿ 12.2%ï¼›å…¨å¹´é”€å”®é‡è¾¾åˆ° 2.62äº¿å°ï¼Œæˆä¸ºè¡Œä¸šæ–°å·…å³°ã€‚å†…é”€å¸‚åœºï¼Œè½¬å­å‹ç¼©æœºè¡¨ç°å‡ºè‰²ï¼Œ\nå…¨å¹´ä¿æŒæ­£å‘å¢é•¿ï¼Œé¢„è®¡å†…é”€ä¸º 2.27äº¿å°ï¼ŒåŒæ¯”å¢é•¿ 14.3%ï¼›å¤–é”€å¸‚åœºï¼Œå…¨å¹´é¢„è®¡å‡ºå£ 3,564.7ä¸‡å°ï¼ŒåŒæ¯”å¢é•¿\n2.1%ã€‚å—ç›Šäº 2023å¹´ä¸‹æ¸¸ç©ºè°ƒå¸‚åœºé”€å”®è§„æ¨¡çš„å¢é•¿ï¼Œç©ºè°ƒç”µæœºè¡Œä¸šäº§é”€è§„æ¨¡åŒæ­¥æå‡ï¼Œè¾¾åˆ° 4.22äº¿å°ï¼ŒåŒæ¯”å¢é•¿\n6.8%ï¼›å†…é”€å¸‚åœºå‡ºè´§çº¦ä¸º 3.5äº¿å°ï¼ŒåŒ æ¯”å¢é•¿8.4%ï¼›å‡ºå£å¸‚åœºå‡ºè´§çº¦ä¸º 0.7äº¿å°ï¼ŒåŒæ¯”æŒå¹³ã€‚å‹ç¼©æœºå’Œç”µæœºäº§ä¸šè§„\næ¨¡çš„å¢é•¿ï¼Œä¸ºæ•´ä¸ªç©ºè°ƒè¡Œä¸šçš„å‘å±•æä¾›äº†æœ‰åŠ›æ”¯æŒã€‚  \n
.......
.......
</code></pre></div><br>
<h3 id="25-matplotlib_chinese">2.5 matplotlib_chinese()</h3>
<p>matplotlibé»˜è®¤ä¸æ”¯æŒä¸­æ–‡å¯è§†åŒ–ï¼Œ cntextæ–°å¢è¯¥å‡½æ•°ï¼Œå¯ä»¥è§£å†³ä¸­æ–‡å¯è§†åŒ–é—®é¢˜</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">plt</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">matplotlib_chinese</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ä¸­æ–‡å›¾è¡¨&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/27-chinese-matplotlib.png" alt=""  />
</p>
<br>
<h3 id="26-lexical_dispersion_plot1">2.6 lexical_dispersion_plot1()</h3>
<p>è¯æ±‡åˆ†æ•£å›¾å¯è§†åŒ–ï¼Œ å¯¹æŸä¸€ä¸ªæ–‡æœ¬textï¼Œ å¯è§†åŒ–ä¸åŒç›®æ ‡ç±»åˆ«è¯targets_dictåœ¨æ–‡æœ¬ä¸­å‡ºç°ä½ç½®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">targets_dict</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ç‰¹å®šè¯æ±‡åœ¨ä¸åŒæ–‡æœ¬æ¥æºçš„ç›¸å¯¹ç¦»æ•£å›¾&#39;</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div><ul>
<li><em><strong>text</strong></em>: æ–‡æœ¬æ•°æ®</li>
<li><em><strong>targets_dict</strong></em>:  ç›®æ ‡ç±»åˆ«è¯å­—å…¸ï¼› targets_dict={&lsquo;pos&rsquo;: [&lsquo;å¼€å¿ƒ&rsquo;, &lsquo;å¿«ä¹&rsquo;], &lsquo;neg&rsquo;: [&lsquo;æ‚²ä¼¤&rsquo;, &lsquo;éš¾è¿‡&rsquo;]}</li>
<li><em><strong>lang</strong></em>: æ–‡æœ¬æ•°æ®texts_dictçš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤&rsquo;chinese'.</li>
<li><em><strong>figsize</strong></em>: å›¾çš„é•¿å®½å°ºå¯¸. é»˜è®¤ (8, 5).</li>
<li><em><strong>title</strong></em> : å›¾çš„æ ‡é¢˜ï¼›</li>
<li><em><strong>prop</strong></em>: æ¨ªåæ ‡å­—ç¬¦ä½ç½®æ˜¯å¦ä¸ºç›¸å¯¹ä½ç½®. é»˜è®¤Trueï¼Œæ¨ªåæ ‡ç´¢å¼•å€¼å–å€¼èŒƒå›´0 ~ 100</li>
</ul>
<br>
<p>ç‚¹å‡»ä¸‹è½½ <a href="https://textdata.cn/data/%E4%B8%89%E4%BD%93.txt"><strong>ä¸‰ä½“.txt</strong></a>ã€<a href="https://textdata.cn/data/%E5%9F%BA%E5%9C%B0.txt"><strong>åŸºåœ°.txt</strong></a>ä¸¤æœ¬å°è¯´æ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">roles_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&#34;æ±ªæ·¼&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;æ±ªæ·¼&#39;</span><span class="p">],</span>
    <span class="s2">&#34;å¶æ–‡æ´&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;å¶æ–‡æ´&#39;</span><span class="p">],</span>
    <span class="s2">&#34;ç½—è¾‘&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ç½—è¾‘&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">santi_text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">santi_text</span><span class="p">,</span>  <span class="c1">#æ–‡æœ¬æ•°æ®</span>
                            <span class="n">targets_dict</span> <span class="o">=</span> <span class="n">roles_dict</span><span class="p">,</span> <span class="c1">#è§’è‰²</span>
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1">#å°ºå¯¸å¤§å°</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span>  <span class="c1">#ä¸­æ–‡æ•°æ®</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;ã€Šä¸‰ä½“ã€‹å°è¯´è§’è‰²å‡ºç°ä½ç½®&#39;</span><span class="p">,</span> <span class="c1">#æ ‡é¢˜</span>
                            <span class="n">prop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>    <span class="c1">#ç›¸å¯¹ä½ç½®(æ¨ªåæ ‡è½´å–å€¼èŒƒå›´0-100)</span>
<span class="n">ax</span>
</code></pre></div><p><img loading="lazy" src="img/23-lexical_dispersion_plot1-relative.png" alt=""  />
</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">santi_text</span><span class="p">,</span>  <span class="c1">#æ–‡æœ¬æ•°æ®</span>
                            <span class="n">targets_dict</span> <span class="o">=</span> <span class="n">roles_dict</span><span class="p">,</span> <span class="c1">#è§’è‰²</span>
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1">#å°ºå¯¸å¤§å°</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span>  <span class="c1">#ä¸­æ–‡æ•°æ®</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;ã€Šä¸‰ä½“ã€‹å°è¯´è§’è‰²å‡ºç°ä½ç½®&#39;</span><span class="p">,</span> <span class="c1">#æ ‡é¢˜</span>
                            <span class="n">prop</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>    <span class="c1">#ç»å¯¹ä½ç½®(æ¨ªåæ ‡è½´å–å€¼èŒƒå›´ä¸å°è¯´æ–‡æœ¬é•¿åº¦æœ‰å…³)</span>
</code></pre></div><p><img loading="lazy" src="img/24-lexical_dispersion_plot1-absolute.png" alt=""  />
</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#diyäº†ä¸€ä¸ªå°è¯å…¸</span>
<span class="n">senti_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;å¼€å¿ƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;å¹¸ç¦&#39;</span><span class="p">,</span> <span class="s1">&#39;å¿«ä¹&#39;</span><span class="p">,</span> <span class="s1">&#39;å®‰å®&#39;</span><span class="p">,</span> <span class="s1">&#39;å¸Œæœ›&#39;</span><span class="p">],</span>
    <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ç´§å¼ &#39;</span><span class="p">,</span> <span class="s1">&#39;ææƒ§&#39;</span><span class="p">,</span> <span class="s1">&#39;å®³æ€•&#39;</span><span class="p">,</span> <span class="s1">&#39;ç»æœ›&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">santi_text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">santi_text</span><span class="p">,</span> 
                            <span class="n">targets_dict</span> <span class="o">=</span> <span class="n">senti_dict</span><span class="p">,</span> 
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> 
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span> 
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;ã€Šä¸‰ä½“ã€‹æƒ…ç»ªè¯å‡ºç°ä½ç½®&#39;</span><span class="p">,</span>
                            <span class="n">prop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span>
</code></pre></div><p><img loading="lazy" src="img/25-santi_sentiment.png" alt=""  />
</p>
<br>
<h3 id="27--lexical_dispersion_plot2">2.7  lexical_dispersion_plot2()</h3>
<p>è¯æ±‡åˆ†æ•£å›¾å¯è§†åŒ–ï¼Œ å¯¹æŸå‡ ä¸ªæ–‡æœ¬texts_dictï¼Œ å¯è§†åŒ–æŸäº›ç›®æ ‡è¯targetsåœ¨æ–‡æœ¬ä¸­å‡ºç°ç›¸å¯¹ä½ç½®(0~100)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot2</span><span class="p">(</span><span class="n">texts_dict</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ç‰¹å®šè¯æ±‡åœ¨ä¸åŒæ–‡æœ¬æ¥æºçš„ç›¸å¯¹ç¦»æ•£å›¾&#39;</span><span class="p">)</span>
</code></pre></div><ul>
<li><em><strong>texts_dict</strong></em>: å¤šä¸ªæ–‡æœ¬çš„å­—å…¸æ•°æ®ã€‚å½¢å¦‚{&lsquo;source1&rsquo;: &lsquo;source1çš„æ–‡æœ¬å†…å®¹&rsquo;, &lsquo;source2&rsquo;: &lsquo;source2çš„æ–‡æœ¬å†…å®¹&rsquo;}</li>
<li><em><strong>targets</strong></em>: ç›®æ ‡è¯åˆ—è¡¨</li>
<li><em><strong>lang</strong></em>: æ–‡æœ¬æ•°æ®texts_dictçš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤&rsquo;chinese'.</li>
<li><em><strong>figsize</strong></em>: å›¾çš„é•¿å®½å°ºå¯¸. é»˜è®¤ (8, 5).</li>
<li><em><strong>title</strong></em> : å›¾çš„æ ‡é¢˜ï¼›</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;å¤ªç©º&#39;</span><span class="p">,</span> <span class="s1">&#39;å®‡å®™&#39;</span><span class="p">]</span>

<span class="n">texts_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ä¸‰ä½“&#39;</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
              <span class="s1">&#39;åŸºåœ°&#39;</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;åŸºåœ°.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()}</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot2</span><span class="p">(</span><span class="n">texts_dict</span> <span class="o">=</span> <span class="n">texts_dict</span><span class="p">,</span>
                            <span class="n">targets</span> <span class="o">=</span> <span class="n">targets</span><span class="p">,</span> 
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> 
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;&#34;å¤ªç©º/å®‡å®™&#34;è¯è¯­å‡ºç°ä½ç½®&#39;</span><span class="p">,</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
<span class="n">ax</span>
</code></pre></div><p><img loading="lazy" src="img/26-santi_base.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="è·å–èµ„æ–™">è·å–èµ„æ–™</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- 100å…ƒ cntext-2.1.2-py3-none-any.whl
</code></pre></div><p>åŠ å¾®ä¿¡ <strong>372335839</strong>ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€ã€‚ å·²è´­ä¹°cntext2.xçš„ç”¨æˆ·ï¼Œå¯ç§ä¿¡æ‰¾åˆ°å¤§é‚“è·å–æœ€æ–°ç‰ˆæœ¬å®‰è£…åŒ…ï¼</p>
<p><br><br></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>è±†ç“£å½±è¯„ | æ¢ç´¢è¯å‘é‡å¦™å¤„</title>
      <link>https://textdata.cn/blog/douban_w2v/</link>
      <pubDate>Sun, 21 Apr 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/douban_w2v/</guid>
      <description>ä½¿ç”¨cntextè®­ç»ƒã€ä½¿ç”¨è¯å‘é‡ã€‚</description>
      <content:encoded><![CDATA[<p>æœ¬æ–‡è¦ç‚¹</p>
<ul>
<li>è¯»å– <em><strong>csv</strong></em></li>
<li>å‡†å¤‡è¯­æ–™</li>
<li><em><strong>cntext2.x</strong></em> è®­ç»ƒè¯å‘é‡æ¨¡å‹</li>
<li>è¿ç”¨è¯å‘é‡æ¨¡å‹</li>
</ul>
<br>
<br>
<h2 id="ä¸€è¯»å–æ•°æ®">ä¸€ã€è¯»å–æ•°æ®</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;douban.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/df.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ç”µå½±  : </span><span class="si">{}</span><span class="s2"> éƒ¨&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Movie_Name_CN</span><span class="o">.</span><span class="n">nunique</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;è¯„è®º  : </span><span class="si">{}</span><span class="s2"> æ¡&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">    ç”µå½±  : 28 éƒ¨
    è¯„è®º  : 2125056 æ¡
</code></pre></div><p><br><br></p>
<h2 id="äºŒå‡†å¤‡è¯­æ–™">äºŒã€å‡†å¤‡è¯­æ–™</h2>
<p>æå–æ–‡æœ¬ï¼Œå»é™¤éä¸­æ–‡å­—ç¬¦ï¼Œä¿å­˜ä¸ºtxtæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;douban.csv&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;douban.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">raw_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Comment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>
</code></pre></div><p><br><br></p>
<h2 id="ä¸‰è®­ç»ƒæ¨¡å‹">ä¸‰ã€è®­ç»ƒæ¨¡å‹</h2>
<h3 id="31-å®‰è£…cntext2x">3.1 å®‰è£…cntext2x</h3>
<p>å°† <em><strong>cntext-2.1.6-py3-none-any.whl</strong></em> æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ <em><strong>cmd</strong></em>  (è‹¹æœç”µè„‘æ‰“å¼€terminal)ï¼Œ è¾“å…¥cd desktop</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¹‹ååœ¨ <em><strong>cmd</strong></em>  (è‹¹æœç”µè„‘æ‰“å¼€terminal) ä¸­ä½¿ç”¨ <em><strong>pip3</strong></em> å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext-2.1.6-py3-none-any.whl
</code></pre></div><p>æ–‡æœ«æœ‰ <em><strong>cntext-2.1.6-py3-none-any.whl</strong></em> è·å–æ–¹å¼</p>
<br>
<h3 id="32-è®­ç»ƒæ¨¡å‹">3.2 è®­ç»ƒæ¨¡å‹</h3>
<p>ä½¿ç”¨ <a href="https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/"><em><strong>cntext2.x</strong></em></a> åº“(ç‰ˆæœ¬å·2.1.6) è®­ç»ƒè¯å‘é‡word2vecæ¨¡å‹, è¿™é‡Œæˆ‘æŠŠ csv æ•°æ®æ•´ç†ä¸º txt</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># è®­ç»ƒ</span>
<span class="n">w2v_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span> <span class="o">=</span> <span class="s1">&#39;douban.txt&#39;</span><span class="p">,</span>  
                        <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> 
                        <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> 
                        <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> 
                        <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                        <span class="n">only_binary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># åªä¿å­˜äºŒè¿›åˆ¶æ¨¡å‹æ–‡ä»¶</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/douban_cache.txt Not Found or Empty, Preprocessing Corpus
Processing Corpus: 11150it [00:07, 5759.05it/s]
Reading Preprocessed Corpus from output/douban_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 2001 s. 
Output Saved To: output/douban-Word2Vec.200.15.bin
</code></pre></div><br>
<p>åœ¨ä»£ç æ‰€åœ¨æ–‡ä»¶å¤¹å†…å¯ä»¥æ‰¾åˆ°</p>
<ul>
<li>output/douban-Word2Vec.200.15.bin</li>
<li>æ–°çš„  pos.txt</li>
<li>æ–°çš„  neg.txt</li>
</ul>
<p>æ–°çš„ <em><strong>pos.txt</strong></em> æ˜¯å¯¹ <em><strong>pos.txt</strong></em> è¯å…¸çš„æ‰©å±•ã€‚</p>
<br>
<h3 id="24-è¯„ä¼°æ¨¡å‹">2.4 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>

<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   459    |     78     |            0.43            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   615    |     62     |   39.02    |   2.98   |
|   CityInProvince   |   175    |     0      |   28.57    |   4.74   |
| FamilyRelationship |   272    |     0      |   92.65    |   1.48   |
|   SocialScience    |    8     |     62     |   25.00    |   6.00   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p><strong>è¿‘ä¹‰æµ‹è¯•</strong>: Spearman&rsquo;s Rank Coeficientç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚</p>
<br>
<p><strong>ç±»æ¯”æµ‹è¯•</strong>:</p>
<ul>
<li>CapitalOfCountries  è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å°šå¯ï¼Œå¯èƒ½ç›®å‰ç”µå½±åº“ä¸­æœ‰ä¸€å®šæ¯”ä¾‹çš„å¤–å›½ç´ æã€‚</li>
<li>CityInProvince      è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œä¸å¤ªå¯èƒ½æ˜¯ä¸­å›½ç´ æå¤ªå°‘ï¼Œå¯èƒ½å¤§å¤šæ•°çœå¸‚ä»¥ç±»ä¼¼æ±‰ä¸œçœçš„å½¢å¼å‡ºç°ã€‚è¿™æ˜¯æˆ‘çš„çŒœæµ‹ã€‚ <a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">äººæ°‘ç½‘ç•™è¨€æ¿è¯­æ–™Word2Vec</a>ä¸­ï¼Œè¯¥é¡¹å‡†ç¡®ç‡100%ã€‚</li>
<li>FamilyRelationship  è±†ç“£å½±è¯„ä½“ç°çš„æ˜¯ç”µå½±ç›¸å…³å†…å®¹ï¼Œè€Œç”µå½±æ°¸è¿œçš„ä¸»é¢˜æ˜¯äººæ€§ï¼Œ å†…å®¹å°‘ä¸äº†å®¶é•¿é‡ŒçŸ­ï¼Œä¸ƒå¤§å§‘å…«å¤§å§¨ï¼Œæ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡é«˜è¾¾92.65%ã€‚ ä»¥<a href="https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/">å¹´æŠ¥MD&amp;A</a>ä¸ºä¾‹ï¼Œæ­¤å¤„å‡†ç¡®ç‡åªæœ‰10%ã€‚</li>
<li>SocialScience       è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚</p>
<p><br><br></p>
<h2 id="å››ä½¿ç”¨word2vec">å››ã€ä½¿ç”¨Word2Vec</h2>
<h3 id="41-å¯¼å…¥word2vecæ¨¡å‹æ–‡ä»¶">4.1 å¯¼å…¥Word2Vecæ¨¡å‹æ–‡ä»¶</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
 
<span class="c1"># å¯¼å…¥æ¨¡å‹ï¼Œè¯·æ³¨æ„è·¯å¾„ã€‚</span>
<span class="c1"># ã€Œå½“å‰ä»£ç ã€ ä¸ ã€Œoutputã€ åŒå¤„äºä¸€ä¸ªæ–‡ä»¶å¤¹å†…</span>

<span class="n">dm_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/douban-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="c1"># dm_w2v = ct.load_w2v(&#39;output/douban-Word2Vec.200.15.txt&#39;)</span>

<span class="n">dm_w2v</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Loading output/output/douban-Word2Vec.200.15.bin...
&lt;gensim.models.keyedvectors.KeyedVectors at 0x314193830&gt;
</code></pre></div><br>
<h3 id="42-keyedvectorsçš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">4.2 KeyedVectorsçš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><em><strong>KeyedVectors.index_to_key</strong></em></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.key_to_index</strong></em></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.vector_size</strong></em></td>
<td>è·å–GloVeæ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.get_vector(word)</strong></em></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.similar_by_word(word, topn=10)</strong></em></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><em><strong>KeyedVectors.similar_by_vector(vector, topn=10)</strong></em></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„10ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
</tbody>
</table>
<br>
<h3 id="44-æŸ¥çœ‹è¯è¡¨">4.4 æŸ¥çœ‹è¯è¡¨</h3>
<p>æŸ¥çœ‹è¯è¡¨æ‰€æœ‰å•è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">dm_w2v</span><span class="o">.</span><span class="n">index_to_key</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;ç”µå½±&#39;,
 &#39;ä¸€ä¸ª&#39;,
 &#39;æ²¡æœ‰&#39;,
 &#39;å–œæ¬¢&#39;,
 ...
 &#39;è·Ÿç€&#39;,
 &#39;æ„è¯†&#39;,
 &#39;æ€åº¦&#39;,
 ...]
</code></pre></div><p>ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œ è¿™é‡Œåªå±•ç¤ºéƒ¨åˆ†æ•°æ®ã€‚</p>
<br>
<h3 id="45-è¯è¡¨æ˜ å°„">4.5 è¯è¡¨æ˜ å°„</h3>
<p>æŸ¥çœ‹å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">dm_w2v</span><span class="o">.</span><span class="n">key_to_index</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;ç”µå½±&#39;: 0,
 &#39;ä¸€ä¸ª&#39;: 1,
 &#39;æ²¡æœ‰&#39;: 2,
...
&#39;è·Ÿç€&#39;: 997,
 &#39;æ„è¯†&#39;: 998,
 &#39;æ€åº¦&#39;: 999,
 ...}
</code></pre></div><br>
<h3 id="46-å‘é‡ç»´åº¦æ•°">4.6 å‘é‡ç»´åº¦æ•°</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è¯è¡¨æœ‰ </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dm_w2v</span><span class="o">.</span><span class="n">key_to_index</span><span class="p">)</span><span class="si">}</span><span class="s1"> ä¸ªè¯&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;å‘é‡æ˜¯ </span><span class="si">{</span><span class="n">dm_w2v</span><span class="o">.</span><span class="n">vector_size</span><span class="si">}</span><span class="s1"> ç»´&#39;</span><span class="p">)</span>

</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¯è¡¨æœ‰ 426646 ä¸ªè¯
å‘é‡æ˜¯ 200 ç»´
</code></pre></div><br>
<h3 id="47-è·å–è¯å‘é‡">4.7 è·å–è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;ç»™åŠ›&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([-1.24090052e+00, -6.79377019e-01,  1.42518425e+00, -1.46615291e+00,
       -9.53197628e-02,  6.50456071e-01, -2.97696137e+00,  2.20916629e+00,
        6.12876177e-01,  1.63172066e+00,  4.91760701e-01, -9
        ......
        ......
         -1.42494082e+00,  2.49131727e+00, -6.27597034e-01, -7.91438043e-01,
       -4.54898655e-01,  1.37747681e+00, -4.20672953e-01, -1.53694853e-01,
        1.04936564e+00,  2.18786263e+00, -8.07472587e-01, -8.32003877e-02],
      dtype=float32)
</code></pre></div><br>
<h3 id="48-è¿‘ä¹‰è¯">4.8 è¿‘ä¹‰è¯</h3>
<p>æ ¹æ®è¯è¯­æŸ¥çœ‹è¿‘ä¹‰è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># è¿‘ä¹‰è¯</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="s1">&#39;ç»™åŠ›&#39;</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ç›¸å½“ç»™åŠ›&#39;, 0.6180022358894348),
 (&#39;å¤ªç»™åŠ›&#39;, 0.6019443273544312),
 (&#39;å¸¦åŠ²&#39;, 0.5840415954589844),
 (&#39;ä¸ç»™åŠ›&#39;, 0.5774183869361877),
 (&#39;è¿‡ç˜¾&#39;, 0.5616626739501953),
 (&#39;ç‰›å‰&#39;, 0.553788959980011),
 (&#39;å‡ºå½©&#39;, 0.5414286851882935),
 (&#39;ç²¾å½©&#39;, 0.5332293510437012),
 (&#39;çœ‹å¾—è¿‡ç˜¾&#39;, 0.5250197649002075),
 (&#39;å¤§èµ&#39;, 0.5205727219581604)]
</code></pre></div><br>
<p>æ ¹æ®å‘é‡æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„è¿‘ä¹‰è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">word_vector</span> <span class="o">=</span> <span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;ç»™åŠ›&#39;</span><span class="p">)</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">word_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ç»™åŠ›&#39;, 1.0),
 (&#39;ç›¸å½“ç»™åŠ›&#39;, 0.6180021166801453),
 (&#39;å¤ªç»™åŠ›&#39;, 0.6019443273544312),
 (&#39;å¸¦åŠ²&#39;, 0.5840415954589844),
 (&#39;ä¸ç»™åŠ›&#39;, 0.5774183869361877),
 (&#39;è¿‡ç˜¾&#39;, 0.5616626739501953),
 (&#39;ç‰›å‰&#39;, 0.5537890195846558),
 (&#39;å‡ºå½©&#39;, 0.5414287447929382),
 (&#39;ç²¾å½©&#39;, 0.5332292914390564),
 (&#39;çœ‹å¾—è¿‡ç˜¾&#39;, 0.5250197649002075)]
</code></pre></div><br>
<h3 id="49-è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡">4.9 è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡</h3>
<p>æˆ‘ä»¬å¯ä»¥è®¡ç®—ã€Œå®‡å®™ã€ã€ã€Œé£èˆ¹ã€ã€ã€Œæˆ˜äº‰ã€çš„å®‡å®™è¯­ä¹‰å‘é‡ï¼ˆä¸­å¿ƒå‘é‡ï¼‰ã€‚ å¹¶è¯•å›¾å¯»æ‰¾ä¸­å¿ƒå‘é‡ <em><strong>universe_vector</strong></em> çš„æœ€ç›¸ä¼¼çš„10ä¸ªè¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># å‡ ä¸ªè¯è¯­æ„å»ºçš„å®‡å®™è¯­ä¹‰å‘é‡</span>
<span class="n">universe_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">semantic_centroid</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">dm_w2v</span><span class="p">,</span> 
                                       <span class="n">words</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å®‡å®™&#39;</span><span class="p">,</span> <span class="s1">&#39;é£èˆ¹&#39;</span><span class="p">,</span> <span class="s1">&#39;æˆ˜äº‰&#39;</span><span class="p">])</span>


<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">universe_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å®‡å®™&#39;, 0.7568532228469849),
 (&#39;æ˜Ÿç³»&#39;, 0.7090039253234863),
 (&#39;é£èˆ¹&#39;, 0.7080673575401306),
 (&#39;äººç±»æ–‡æ˜&#39;, 0.6973789930343628),
 (&#39;æˆ˜èˆ°&#39;, 0.6890057325363159),
 (&#39;æ¯èˆ°&#39;, 0.6864359974861145),
 (&#39;æ˜Ÿçƒ&#39;, 0.6799622774124146),
 (&#39;å«æ˜Ÿ&#39;, 0.6799139976501465),
 (&#39;æ˜Ÿé™…&#39;, 0.6789332032203674),
 (&#39;ç©ºé—´ç«™&#39;, 0.6780815124511719),
 (&#39;åœ°çƒ&#39;, 0.6769616603851318),
 (&#39;å¤–å¤ªç©º&#39;, 0.6683873534202576),
 (&#39;æ ¸æˆ˜&#39;, 0.6669113039970398),
 (&#39;å¤–æ˜Ÿé£èˆ¹&#39;, 0.6592534780502319),
 (&#39;æœ¨æ˜Ÿ&#39;, 0.6586896777153015),
 (&#39;èƒ½æº&#39;, 0.6562989950180054),
 (&#39;æˆ˜äº‰&#39;, 0.6556441187858582),
 (&#39;å·¨å…½&#39;, 0.6544537544250488),
 (&#39;æœˆçƒ&#39;, 0.6525537967681885),
 (&#39;ä¸€è‰˜&#39;, 0.6521110534667969)]
</code></pre></div><p>è¯­ä¹‰æ•æ‰çš„å¾ˆå‡†å“¦ã€‚</p>
<h3 id="410-ç±»æ¯”-king-man--woman--queen">4.10 ç±»æ¯” king-man + woman ~ queen</h3>
<p>æ¯ä¸ªè¯æ˜¯é«˜ç»´å‘é‡ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œ ä¸¤ä¸ªç‚¹å¯ä»¥ç»„æˆæœ‰æ–¹å‘çš„å‘é‡ï¼Œè€Œå‘é‡å¯ä»¥æ¯”è¾ƒæ–¹å‘ã€‚è¿™é‡Œæ˜¯æ¨ç†è¿‡ç¨‹ï¼Œå—é™äºæ•°æ®ï¼Œå…¬å¼ä¸ä¸€å®šå®Œå…¨æˆç«‹ï¼Œ ä½†æ˜¯æ€ç»´å¯ä»¥ç±»æ¯”ã€‚</p>
<p><img loading="lazy" src="img/kingqueenformular.png" alt=""  />
</p>
<h4 id="4101-ä¼ ç»Ÿç±»æ¯”">4.10.1 ä¼ ç»Ÿç±»æ¯”</h4>
<p>è¿™ä¸¤ä¸ªè¯ç›¸å‡ï¼ŒæŒ‰æ„Ÿè§‰åº”è¯¥å¾—åˆ°çš„æ˜¯æ€§åˆ«æ–¹å‘ï¼Œé›„æ€§-&gt;é›Œæ€§ã€‚</p>
<p>$$
Vector1 \approx vector(å›½ç‹)-vector(ç”·äºº)
$$</p>
<p>$$
Vector2 \approx vector(ç‹å)-vector(å¥³äºº)
$$</p>
<p>é‚£ä¸¤ä¸ªå‘é‡æ–¹å‘åº”è¯¥è¿‘ä¼¼ï¼Œå³ <em><strong>Vector1</strong></em>  çº¦ç­‰äº <em><strong>Vector2</strong></em> ï¼Œå°†å…¶çœ‹åšç­‰å¼å°±å¾—åˆ°å¦‚ä¸‹å…¬å¼ï¼š</p>
<p>$$
vector(å›½ç‹)-vector(ç”·äºº) \approx vector(ç‹å) - vector(å¥³äºº)
$$</p>
<p>ç°åœ¨æˆ‘ä»¬æ£€æŸ¥ä¸‰ä¸ªè¯­ä¹‰å‘é‡è®¡ç®—å‡ºçš„æ–°çš„å‘é‡æ˜¯å¦æœ‰ä¸queenç›¸å…³çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">men_vector</span> <span class="o">=</span> <span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;ç”·äºº&#39;</span><span class="p">)</span>
<span class="n">women_vector</span> <span class="o">=</span> <span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;å¥³äºº&#39;</span><span class="p">)</span> 
<span class="n">king_vector</span> <span class="o">=</span> <span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;å›½ç‹&#39;</span><span class="p">)</span> 

<span class="c1"># å‡è®¾ king- queen è¿‘ä¼¼ç­‰äº man -woman </span>
<span class="c1"># result è¿‘ä¼¼ç­‰äº king - queen + women</span>
<span class="n">result_vector</span> <span class="o">=</span> <span class="n">king_vector</span> <span class="o">-</span> <span class="n">men_vector</span> <span class="o">+</span> <span class="n">women_vector</span>
<span class="c1"># ç°åœ¨æ£€æŸ¥ result_vector çš„è¯­ä¹‰åº”è¯¥ä¸queenç›¸å…³</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">result_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å›½ç‹&#39;, 0.8276543617248535),
 (&#39;ç‹å&#39;, 0.754295289516449),
 (&#39;çš‡å&#39;, 0.6877321004867554),
 (&#39;å…¬ä¸»&#39;, 0.6311503052711487),
 (&#39;ç‹ä½&#39;, 0.6292931437492371),
 (&#39;çš‡å¸&#39;, 0.6280742287635803),
 (&#39;ç‹å¦ƒ&#39;, 0.6235458850860596),
 (&#39;ä¼Šä¸½èç™½ä¸€ä¸–&#39;, 0.6158717274665833),
 (&#39;å›ä¸»&#39;, 0.6151927709579468),
 (&#39;å…¬çˆµ&#39;, 0.6111372113227844),
 (&#39;å¥³ç‹&#39;, 0.6068686246871948),
 (&#39;ç™»åŸº&#39;, 0.606802225112915),
 (&#39;çš‡å­&#39;, 0.5979987382888794),
 (&#39;ä¾å«&#39;, 0.594831109046936),
 (&#39;å¤«äºº&#39;, 0.5942187309265137),
 (&#39;ç‹å®¤&#39;, 0.5891965627670288),
 (&#39;å¥³çš‡&#39;, 0.5889874696731567),
 (&#39;ç»§ä½&#39;, 0.5818601846694946),
 (&#39;çš‡å®¤&#39;, 0.5812580585479736),
 (&#39;ç‹å† &#39;, 0.5733407139778137)]
</code></pre></div><h4 id="4102-æ–°ç®—æ³•">4.10.2 æ–°ç®—æ³•</h4>
<p><em><strong>most_similar_cosmul</strong></em> ä½¿ç”¨äº†ä¸€ç§åŸºäº <strong>ä¹˜æ³•ç»„åˆ</strong> çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç®€å•çš„å‘é‡åŠ å‡æ³•ã€‚å…¶æ ¸å¿ƒå…¬å¼å¦‚ä¸‹ï¼š
$$
\text{Similarity}(w, \text{positive}, \text{negative}) = \frac{\prod_{p \in \text{positive}} \cos(w, p)}{\prod_{n \in \text{negative}} \cos(w, n)}
$$
å¯¹äºç»™å®šçš„æ­£æ ·æœ¬è¯é›†åˆ P å’Œè´Ÿæ ·æœ¬è¯é›†åˆ Nï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªè¯ wï¼Œä½¿å¾—å¾—åˆ†æœ€å¤§åŒ–ã€‚</p>
<p>å‚ç…§å¦‚ä¸‹çš„ä¾‹å­
$$
vector(ç‹å)   \approx  vector(å›½ç‹) + vector(å¥³äºº) -vector(ç”·äºº)<br>
$$</p>
<p>å…¶ä¸­æ­£å‘ç›®æ ‡è¯æœ‰ <em><strong>å›½ç‹</strong></em> å’Œ <em><strong>å¥³äºº</strong></em>ï¼Œ è´Ÿå‘è¯æœ‰ <em><strong>ç”·äºº</strong></em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># ç±»æ¯”å‡½æ•°</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">most_similar_cosmul</span><span class="p">(</span><span class="n">positive</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³äºº&#39;</span><span class="p">],</span>   <span class="c1">#</span>
                           <span class="n">negative</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ç”·äºº&#39;</span><span class="p">],</span> 
                           <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ç‹å&#39;, 0.9907146692276001),
 (&#39;çš‡å&#39;, 0.9572808146476746),
 (&#39;å…¬ä¸»&#39;, 0.9137295484542847),
 (&#39;ç‹å¦ƒ&#39;, 0.9079920649528503),
 (&#39;çš‡å¸&#39;, 0.905644953250885),
 (&#39;ä¼Šä¸½èç™½ä¸€ä¸–&#39;, 0.9031068682670593),
 (&#39;å¥³ç‹&#39;, 0.8956636190414429),
 (&#39;ç‹ä½&#39;, 0.8942943215370178),
 (&#39;ç™»åŸº&#39;, 0.8899738192558289),
 (&#39;å›ä¸»&#39;, 0.8883361220359802),
 (&#39;å…¬çˆµ&#39;, 0.8862053751945496),
 (&#39;ç‹å®¤&#39;, 0.8842172622680664),
 (&#39;å¤«äºº&#39;, 0.8840034604072571),
 (&#39;å¥³çš‡&#39;, 0.8824913501739502),
 (&#39;ä¾å«&#39;, 0.8815361857414246),
 (&#39;çš‡å­&#39;, 0.8785887360572815),
 (&#39;çš‡å®¤&#39;, 0.8755369186401367),
 (&#39;ç»§ä½&#39;, 0.8736834526062012),
 (&#39;é©¾å´©&#39;, 0.8675689101219177),
 (&#39;æ³¢æ—ç‹æœ&#39;, 0.8671858906745911)]
</code></pre></div><p>å¯ä»¥çœ‹åˆ°è¿”å›å‰2çš„è¯ç›´æ¥è¡¨æ˜äº†è¯è¯­æ˜¯ç‹åçš‡åï¼Œä¸å…¬å¼æ¨ç®—ç»“æœä¸€èˆ¬æ— äºŒã€‚</p>
<p><br><br></p>
<h2 id="äº”è·å–èµ„æ–™">äº”ã€è·å–èµ„æ–™</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹è¯å‘é‡      https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 1000w-douban-movies.zip  é“¾æ¥: https://pan.baidu.com/s/1V8FUA9_qwHBW-utoOcV11w?pwd=t3sa æå–ç : t3sa 

- 442w-douban-movies.zip
é“¾æ¥: https://pan.baidu.com/s/1bhJls4P33a6EwZ6guhiw_A?pwd=qi28 æå–ç : qi28

- 212w-douban-movie.zip
é“¾æ¥: https://pan.baidu.com/s/1vaOKOJPA3F4ipBrdZygtLA?pwd=gfvd æå–ç : gfvd 

- 100å…ƒ  cntext-2.1.6-py3-none-any.whl   å¦‚æœ‰éœ€è¦ï¼ŒåŠ å¾®ä¿¡ 372335839ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div><p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<ul>
<li><a href="https://cntext.readthedocs.io/">æ–‡æœ¬åˆ†æåº“cntext2.xä½¿ç”¨æ‰‹å†Œ https://cntext.readthedocs.io/</a></li>
<li><a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨Stanford Gloveä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„Gloveæ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">è¯å‘é‡ | ä½¿ç”¨äººæ°‘ç½‘é¢†å¯¼ç•™è¨€æ¿è¯­æ–™è®­ç»ƒWord2Vecæ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-11-20-word2vec-by-year-by-province/">ä½¿ç”¨ 5000w ä¸“åˆ©ç”³è¯·æ•°æ®é›†æŒ‰å¹´ä»½(æŒ‰çœä»½)è®­ç»ƒè¯å‘é‡</a></li>
<li><a href="https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/">ä½¿ç”¨ 1000w æ¡è±†ç“£å½±è¯„è®­ç»ƒ Word2Vec</a></li>
<li><a href="https://textdata.cn/blog/2023-03-15-39faq-about-word-embeddings-for-social-science/">è¯åµŒå…¥æŠ€æœ¯åœ¨ç¤¾ä¼šç§‘å­¦é¢†åŸŸè¿›è¡Œæ•°æ®æŒ–æ˜å¸¸è§39ä¸ªFAQæ±‡æ€»</a></li>
<li><a href="https://textdata.cn/blog/2022-04-07-word-embeddings-in-social-science/">è½¬è½½|å¤§æ•°æ®æ—¶ä»£ä¸‹ç¤¾ä¼šç§‘å­¦ç ”ç©¶æ–¹æ³•çš„æ‹“å±•â€”â€”åŸºäºè¯åµŒå…¥æŠ€æœ¯çš„æ–‡æœ¬åˆ†æçš„åº”ç”¨</a></li>
<li><a href="https://textdata.cn/blog/2023-11-03-organization-science-with-word-embeddings/">OS2022 | æ¦‚å¿µç©ºé—´ | è¯åµŒå…¥æ¨¡å‹å¦‚ä½•ä¸ºç»„ç»‡ç§‘å­¦ä¸­çš„æµ‹é‡å’Œç†è®ºæä¾›ä¿¡æ¯</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ•°æ®é›† |  ä½¿ç”¨ 1000w æ¡è±†ç“£å½±è¯„è®­ç»ƒ Word2Vec</title>
      <link>https://textdata.cn/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/</link>
      <pubDate>Tue, 16 Apr 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-04-16-douban-movie-1000w-ratings-comments-dataset/</guid>
      <description>&lt;p&gt;æœ¬æ–‡å†…å®¹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»‹ç»è±†ç“£å½±è¯„æ•°æ®é›†&lt;/li&gt;
&lt;li&gt;æ„é€ è¯­æ–™è®­ç»ƒ &lt;strong&gt;&lt;em&gt;Word2Vec&lt;/em&gt;&lt;/strong&gt; æ¨¡å‹&lt;/li&gt;
&lt;li&gt;è·å–æ•°æ® &lt;strong&gt;&lt;em&gt;cntext2.x&lt;/em&gt;&lt;/strong&gt; &amp;amp; &lt;strong&gt;&lt;em&gt;Word2Vec&lt;/em&gt;&lt;/strong&gt; æ¨¡å‹æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸€è±†ç“£å½±è¯„æ•°æ®é›†&#34;&gt;ä¸€ã€è±†ç“£å½±è¯„æ•°æ®é›†&lt;/h2&gt;
&lt;h3 id=&#34;11-æ•°æ®é›†ä»‹ç»&#34;&gt;1.1 æ•°æ®é›†ä»‹ç»&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;æ•°æ®é›†: douba-movie-1000w

æ•°æ®æº: è±†ç“£ç”µå½±

è®°å½•æ•°:
   - ç”µå½± 10269 éƒ¨
   - å½±è¯„ 10310989 æ¡

ä½“ç§¯: 1.35G
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¥æ•°æ®é›†æ­£å¥½å¼¥è¡¥ä¸‹å›½å†…å…¬å¼€ç”µå½±æ•°æ®é›†çš„ç©ºç¼ºï¼Œ æ•°æ®å·²ç»è¿‡åˆæ­¥æ¸…æ´—ï¼Œå¯ç”¨äºæ¨èç³»ç»Ÿã€æƒ…æ„Ÿåˆ†æã€çŸ¥è¯†å›¾è°±ã€æ–°é—»ä¼ æ’­å­¦ã€ç¤¾ä¼šå­¦æ–‡åŒ–å˜è¿ç­‰å¤šä¸ªé¢†åŸŸ(æˆ–ä¸»é¢˜)ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;12-è¯»å–æ•°æ®&#34;&gt;1.2 è¯»å–æ•°æ®&lt;/h3&gt;
&lt;p&gt;ä¸‹è½½ &lt;strong&gt;&lt;em&gt;douba-movie-1000w.zip&lt;/em&gt;&lt;/strong&gt; è§£å‹åï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®é›†ä¸­æœ‰ä¸€ä¸ª &lt;strong&gt;&lt;em&gt;all_movies_with_id.csv&lt;/em&gt;&lt;/strong&gt; æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;all_movies_with_id.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;13-æ‰€å«å­—æ®µ&#34;&gt;1.3 æ‰€å«å­—æ®µ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;col&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; - &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;col&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt; - ID
 - Movie_Name  ç”µå½±å
 - Score  è±†ç“£ç”µå½±è¯„åˆ†(1-10)
 - Review_People  è¯„è®ºè€…äººæ•°
 - Star_Distribution  è¯„è®ºè¯„åˆ†åˆ†å¸ƒ(1-5, å«å¤šä¸ªæ•°å€¼ï¼Œæ•°å€¼ä»¥%é—´éš”)
 - Craw_Date çˆ¬è™«è¿è¡Œæ—¥æœŸ
 - Username è±†ç“£è¯„è®ºè€…ç”¨æˆ·å
 - Date å½±è¯„æ—¥æœŸ
 - Star  å½±è¯„è¯„åˆ†(1-5)
 - Comment å½±è¯„å†…å®¹
 - Comment_Distribution å½±è¯„è¯„åˆ†åˆ†å¸ƒ
 - Like å½±è¯„è·å¾—çš„å–œæ¬¢æ•°
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒ-æ„é€ è¯­æ–™è®­ç»ƒ-word2vec&#34;&gt;äºŒã€ æ„é€ è¯­æ–™&amp;amp;è®­ç»ƒ Word2Vec&lt;/h2&gt;
&lt;h3 id=&#34;21-æ„é€ è¯­æ–™&#34;&gt;2.1 æ„é€ è¯­æ–™&lt;/h3&gt;
&lt;p&gt;å°†å­—æ®µ &lt;strong&gt;&lt;em&gt;Comment&lt;/em&gt;&lt;/strong&gt; ä¸­æ‰€æœ‰æ–‡æœ¬æ±‡æ€»åˆ° &lt;strong&gt;&lt;em&gt;douban-movie-1000w.txt&lt;/em&gt;&lt;/strong&gt;,&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# è¯»å–æ•°æ®ï¼Œåªè¯»å–å­—æ®µsign&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;all_movies_with_id.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;usecols&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sign&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# å°†signåˆ—ä¸­çš„æ‰€æœ‰æ–‡æœ¬æ±‡æ€»åˆ°douban-movie-1000w.txt&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;douban-movie-1000w.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Comment&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fillna&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# åˆ é™¤dfå’Œtextå˜é‡ï¼Œé‡Šæ”¾å†…å­˜&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;del&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;del&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;22-é…ç½®-cntext216&#34;&gt;2.2 é…ç½® cntext2.1.6&lt;/h3&gt;
&lt;p&gt;å°† &lt;strong&gt;&lt;em&gt;cntext-2.1.6-py3-none-any.whl&lt;/em&gt;&lt;/strong&gt; æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ &lt;strong&gt;&lt;em&gt;cmd&lt;/em&gt;&lt;/strong&gt; (è‹¹æœç”µè„‘æ‰“å¼€ terminal)ï¼Œ è¾“å…¥ cd desktop&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;cd desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹ååœ¨ &lt;strong&gt;&lt;em&gt;cmd&lt;/em&gt;&lt;/strong&gt; (è‹¹æœç”µè„‘æ‰“å¼€ terminal) ä¸­ä½¿ç”¨ &lt;strong&gt;&lt;em&gt;pip3&lt;/em&gt;&lt;/strong&gt; å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install cntext-2.1.6-py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡æœ«æœ‰ &lt;strong&gt;&lt;em&gt;cntext-2.1.6-py3-none-any.whl&lt;/em&gt;&lt;/strong&gt; è·å–æ–¹å¼&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;23-è®­ç»ƒ-word2vec&#34;&gt;2.3 è®­ç»ƒ Word2Vec&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cntextä¸º2.1.6&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# è®­ç»ƒWord2Vecæ¨¡å‹&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;w2v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Word2Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;corpus_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;douban-movie-1000w.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                 &lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                 &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                 &lt;span class=&#34;n&#34;&gt;min_count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Mac(Linux) System, Enable Parallel Processing
Cache output/douban-movie-1000w_cache.txt Not Found or Empty, Preprocessing Corpus
Reading Preprocessed Corpus from output/douban-movie-1000w_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 2965 s.
Output Saved To: output/douban-movie-1000w.200.15.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»è¿‡åŠä¸ªå°æ—¶çš„è®­ç»ƒï¼Œ å¾—åˆ°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å‹æ–‡ä»¶ &lt;strong&gt;&lt;em&gt;output/douban-movie-1000w-Word2Vec.200.15.txt&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ¨¡å‹æ–‡ä»¶ &lt;strong&gt;&lt;em&gt;output/douban-movie-1000w-Word2Vec.200.15.bin&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¼“å­˜æ–‡ä»¶ &lt;strong&gt;&lt;em&gt;output/douban-movie-1000w_cache.txt&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­æ¨¡å‹æ–‡ä»¶æœ‰ &lt;strong&gt;&lt;em&gt;txt&lt;/em&gt;&lt;/strong&gt; å’Œ &lt;strong&gt;&lt;em&gt;bin&lt;/em&gt;&lt;/strong&gt; ä¸¤ç§æ ¼å¼ï¼Œ ä¿¡æ¯é‡å®Œå…¨ç­‰åŒã€‚ &lt;strong&gt;&lt;em&gt;txt&lt;/em&gt;&lt;/strong&gt; å¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€æŸ¥çœ‹ï¼Œ è€Œ &lt;strong&gt;&lt;em&gt;bin&lt;/em&gt;&lt;/strong&gt; åˆ™æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ ä½“ç§¯æ›´å°ã€‚ å·²è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œ å›  bin æ ¼å¼ä½“ç§¯æ›´å°ï¼Œ ä¾¿äºåˆ†äº«ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;24-è¯„ä¼°æ¨¡å‹&#34;&gt;2.4 è¯„ä¼°æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹&lt;a href=&#34;https://cntext.readthedocs.io/zh-cn/latest/model.html&#34;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_similarity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;evaluate_analogy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w2v_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&amp;#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   459    |     78     |            0.43            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&amp;lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   615    |     62     |   39.02    |   2.98   |
|   CityInProvince   |   175    |     0      |   28.57    |   4.74   |
| FamilyRelationship |   272    |     0      |   92.65    |   1.48   |
|   SocialScience    |    8     |     62     |   25.00    |   6.00   |
+--------------------+----------+------------+------------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è¿‘ä¹‰æµ‹è¯•&lt;/strong&gt;: Spearman&amp;rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;strong&gt;ç±»æ¯”æµ‹è¯•&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CapitalOfCountries è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å°šå¯ï¼Œå¯èƒ½ç›®å‰ç”µå½±åº“ä¸­æœ‰ä¸€å®šæ¯”ä¾‹çš„å¤–å›½ç´ æã€‚&lt;/li&gt;
&lt;li&gt;CityInProvince è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œä¸å¤ªå¯èƒ½æ˜¯ä¸­å›½ç´ æå¤ªå°‘ï¼Œå¯èƒ½å¤§å¤šæ•°çœå¸‚ä»¥ç±»ä¼¼æ±‰ä¸œçœçš„å½¢å¼å‡ºç°ã€‚è¿™æ˜¯æˆ‘çš„çŒœæµ‹ã€‚ &lt;a href=&#34;https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/&#34;&gt;äººæ°‘ç½‘ç•™è¨€æ¿è¯­æ–™ Word2Vec&lt;/a&gt;ä¸­ï¼Œè¯¥é¡¹å‡†ç¡®ç‡ 100%ã€‚&lt;/li&gt;
&lt;li&gt;FamilyRelationship è±†ç“£å½±è¯„ä½“ç°çš„æ˜¯ç”µå½±ç›¸å…³å†…å®¹ï¼Œè€Œç”µå½±æ°¸è¿œçš„ä¸»é¢˜æ˜¯äººæ€§ï¼Œ å†…å®¹å°‘ä¸äº†å®¶é•¿é‡ŒçŸ­ï¼Œä¸ƒå¤§å§‘å…«å¤§å§¨ï¼Œæ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡é«˜è¾¾ 92.65%ã€‚ ä»¥&lt;a href=&#34;https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/&#34;&gt;å¹´æŠ¥ MD&amp;amp;A&lt;/a&gt;ä¸ºä¾‹ï¼Œæ­¤å¤„å‡†ç¡®ç‡åªæœ‰ 10%ã€‚&lt;/li&gt;
&lt;li&gt;SocialScience è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››ä½¿ç”¨-word2vec&#34;&gt;å››ã€ä½¿ç”¨ Word2Vec&lt;/h2&gt;
&lt;h3 id=&#34;41-å¯¼å…¥-word2vec-æ¨¡å‹æ–‡ä»¶&#34;&gt;4.1 å¯¼å…¥ Word2Vec æ¨¡å‹æ–‡ä»¶&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# å¯¼å…¥æ¨¡å‹ï¼Œè¯·æ³¨æ„è·¯å¾„ã€‚&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# ã€Œå½“å‰ä»£ç ã€ ä¸ ã€Œoutputã€ åŒå¤„äºä¸€ä¸ªæ–‡ä»¶å¤¹å†…&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;output/douban-movie-1000w-Word2Vec.200.15.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# dm_w2v = ct.load_w2v(&amp;#39;output/douban-movie-1000w-Word2Vec.200.15.bin&amp;#39;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Loading output/douban-movie-1000w-Word2Vec.200.15.txt...
&amp;lt;gensim.models.keyedvectors.KeyedVectors at 0x314193830&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;42-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§&#34;&gt;4.2 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.index_to_key&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.key_to_index&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.vector_size&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.get_vector(word)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.similar_by_word(word, topn=10)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;em&gt;KeyedVectors.similar_by_vector(vector, topn=10)&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;h3 id=&#34;43-æŸ¥çœ‹è¯è¡¨&#34;&gt;4.3 æŸ¥çœ‹è¯è¡¨&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹è¯è¡¨æ‰€æœ‰å•è¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index_to_key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[&amp;#39;ç”µå½±&amp;#39;,
 &amp;#39;ä¸€ä¸ª&amp;#39;,
 &amp;#39;æ²¡æœ‰&amp;#39;,
 &amp;#39;å–œæ¬¢&amp;#39;,
 ...
 &amp;#39;è·Ÿç€&amp;#39;,
 &amp;#39;æ„è¯†&amp;#39;,
 &amp;#39;æ€åº¦&amp;#39;,
 ...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œ è¿™é‡Œåªå±•ç¤ºéƒ¨åˆ†æ•°æ®ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;44-è¯è¡¨æ˜ å°„&#34;&gt;4.4 è¯è¡¨æ˜ å°„&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_to_index&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;{&amp;#39;ç”µå½±&amp;#39;: 0,
 &amp;#39;ä¸€ä¸ª&amp;#39;: 1,
 &amp;#39;æ²¡æœ‰&amp;#39;: 2,
...
&amp;#39;è·Ÿç€&amp;#39;: 997,
 &amp;#39;æ„è¯†&amp;#39;: 998,
 &amp;#39;æ€åº¦&amp;#39;: 999,
 ...}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;45-å‘é‡ç»´åº¦æ•°&#34;&gt;4.5 å‘é‡ç»´åº¦æ•°&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;è¯è¡¨æœ‰ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_to_index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt; ä¸ªè¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å‘é‡æ˜¯ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vector_size&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt; ç»´&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;è¯è¡¨æœ‰ 426646 ä¸ªè¯
å‘é‡æ˜¯ 200 ç»´
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;46-è·å–è¯å‘é‡&#34;&gt;4.6 è·å–è¯å‘é‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»™åŠ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;array([-1.24090052e+00, -6.79377019e-01,  1.42518425e+00, -1.46615291e+00,
       -9.53197628e-02,  6.50456071e-01, -2.97696137e+00,  2.20916629e+00,
        6.12876177e-01,  1.63172066e+00,  4.91760701e-01, -9
        ......
        ......
         -1.42494082e+00,  2.49131727e+00, -6.27597034e-01, -7.91438043e-01,
       -4.54898655e-01,  1.37747681e+00, -4.20672953e-01, -1.53694853e-01,
        1.04936564e+00,  2.18786263e+00, -8.07472587e-01, -8.32003877e-02],
      dtype=float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;47-è¿‘ä¹‰è¯&#34;&gt;4.7 è¿‘ä¹‰è¯&lt;/h3&gt;
&lt;p&gt;æ ¹æ®è¯è¯­æŸ¥çœ‹è¿‘ä¹‰è¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿‘ä¹‰è¯&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_word&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»™åŠ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;ç›¸å½“ç»™åŠ›&amp;#39;, 0.6180022358894348),
 (&amp;#39;å¤ªç»™åŠ›&amp;#39;, 0.6019443273544312),
 (&amp;#39;å¸¦åŠ²&amp;#39;, 0.5840415954589844),
 (&amp;#39;ä¸ç»™åŠ›&amp;#39;, 0.5774183869361877),
 (&amp;#39;è¿‡ç˜¾&amp;#39;, 0.5616626739501953),
 (&amp;#39;ç‰›å‰&amp;#39;, 0.553788959980011),
 (&amp;#39;å‡ºå½©&amp;#39;, 0.5414286851882935),
 (&amp;#39;ç²¾å½©&amp;#39;, 0.5332293510437012),
 (&amp;#39;çœ‹å¾—è¿‡ç˜¾&amp;#39;, 0.5250197649002075),
 (&amp;#39;å¤§èµ&amp;#39;, 0.5205727219581604)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;æ ¹æ®å‘é‡æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„è¿‘ä¹‰è¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;word_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»™åŠ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;word_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;ç»™åŠ›&amp;#39;, 1.0),
 (&amp;#39;ç›¸å½“ç»™åŠ›&amp;#39;, 0.6180021166801453),
 (&amp;#39;å¤ªç»™åŠ›&amp;#39;, 0.6019443273544312),
 (&amp;#39;å¸¦åŠ²&amp;#39;, 0.5840415954589844),
 (&amp;#39;ä¸ç»™åŠ›&amp;#39;, 0.5774183869361877),
 (&amp;#39;è¿‡ç˜¾&amp;#39;, 0.5616626739501953),
 (&amp;#39;ç‰›å‰&amp;#39;, 0.5537890195846558),
 (&amp;#39;å‡ºå½©&amp;#39;, 0.5414287447929382),
 (&amp;#39;ç²¾å½©&amp;#39;, 0.5332292914390564),
 (&amp;#39;çœ‹å¾—è¿‡ç˜¾&amp;#39;, 0.5250197649002075)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;48-è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡&#34;&gt;4.8 è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥è®¡ç®—ã€Œå®‡å®™ã€ã€ã€Œé£èˆ¹ã€ã€ã€Œæˆ˜äº‰ã€çš„å®‡å®™è¯­ä¹‰å‘é‡ï¼ˆä¸­å¿ƒå‘é‡ï¼‰ã€‚ å¹¶è¯•å›¾å¯»æ‰¾ä¸­å¿ƒå‘é‡ &lt;strong&gt;&lt;em&gt;universe_vector&lt;/em&gt;&lt;/strong&gt; çš„æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‡ ä¸ªè¯è¯­æ„å»ºçš„å®‡å®™è¯­ä¹‰å‘é‡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;universe_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;semantic_centroid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                                       &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å®‡å®™&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é£èˆ¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æˆ˜äº‰&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;


&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;universe_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;å®‡å®™&amp;#39;, 0.7568532228469849),
 (&amp;#39;æ˜Ÿç³»&amp;#39;, 0.7090039253234863),
 (&amp;#39;é£èˆ¹&amp;#39;, 0.7080673575401306),
 (&amp;#39;äººç±»æ–‡æ˜&amp;#39;, 0.6973789930343628),
 (&amp;#39;æˆ˜èˆ°&amp;#39;, 0.6890057325363159),
 (&amp;#39;æ¯èˆ°&amp;#39;, 0.6864359974861145),
 (&amp;#39;æ˜Ÿçƒ&amp;#39;, 0.6799622774124146),
 (&amp;#39;å«æ˜Ÿ&amp;#39;, 0.6799139976501465),
 (&amp;#39;æ˜Ÿé™…&amp;#39;, 0.6789332032203674),
 (&amp;#39;ç©ºé—´ç«™&amp;#39;, 0.6780815124511719),
 (&amp;#39;åœ°çƒ&amp;#39;, 0.6769616603851318),
 (&amp;#39;å¤–å¤ªç©º&amp;#39;, 0.6683873534202576),
 (&amp;#39;æ ¸æˆ˜&amp;#39;, 0.6669113039970398),
 (&amp;#39;å¤–æ˜Ÿé£èˆ¹&amp;#39;, 0.6592534780502319),
 (&amp;#39;æœ¨æ˜Ÿ&amp;#39;, 0.6586896777153015),
 (&amp;#39;èƒ½æº&amp;#39;, 0.6562989950180054),
 (&amp;#39;æˆ˜äº‰&amp;#39;, 0.6556441187858582),
 (&amp;#39;å·¨å…½&amp;#39;, 0.6544537544250488),
 (&amp;#39;æœˆçƒ&amp;#39;, 0.6525537967681885),
 (&amp;#39;ä¸€è‰˜&amp;#39;, 0.6521110534667969)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯­ä¹‰æ•æ‰çš„å¾ˆå‡†å“¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;49-æ¦‚å¿µè½´&#34;&gt;4.9 æ¦‚å¿µè½´&lt;/h3&gt;
&lt;p&gt;ç”·æ€§æ¦‚å¿µå‘é‡ç”±å¤šä¸ªç”·æ€§è¯çš„å‘é‡åŠ æ€»æ±‚å‡å€¼å¾—åˆ°ï¼Œå¥³æ€§æ¦‚å¿µå‘é‡ç®—æ³•ç±»ä¼¼ã€‚å½“æ€§è´¨æˆ–æ–¹å‘æ˜æ˜¾ç›¸åçš„ä¸¤ä¸ªæ¦‚å¿µå‘é‡ç›¸å‡ï¼Œ å¾—åˆ°çš„æ–°çš„å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º**&lt;em&gt;æ¦‚å¿µè½´å‘é‡ Concept Axis&lt;/em&gt;**ã€‚å¸¸è§çš„æ¦‚å¿µè½´ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- å°ºå¯¸(å¤§, å°)
- æ¹¿åº¦(å¹²ç‡¥,æ½®æ¹¿)
- æ€§åˆ«(ç”·, å¥³)
- è´¢å¯Œ(å¯Œè£•, è´«ç©·)
- ç­‰
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶å®ä»»æ„æ¦‚å¿µçš„å‘é‡ä¹Ÿå¯çœ‹åšæ¦‚å¿µè½´ï¼Œå³è¯¥æ¦‚å¿µå‘é‡ä¸ 0 å‘é‡ç›¸å‡ã€‚åªä¸è¿‡ä¸¤ç»„æ€§è´¨æ–¹å‘ç›¸åçš„æ–¹å¼å¾—åˆ°çš„æ¦‚å¿µè½´ï¼Œ åœ¨è¯­ä¹‰ä¸Šæ›´ç¨³å®šã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;cntext&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ct&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;numpy&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;np&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# å®šä¹‰è¯è¯­åˆ—è¡¨&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;phy_words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¸¸æ³³&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è·‘æ­¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯®çƒ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¾½æ¯›çƒ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é©¬æ‹‰æ¾&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é©¬æœ¯&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¾’æ­¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;rich_words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¯Œè£•&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è´¢å¯Œ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é‡‘é’±&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è±ªå®…&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è±ªè½¦&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥¢ä¾ˆå“&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æŠ•èµ„&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è‚¡ç¥¨&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;åŸºé‡‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é»„é‡‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;é’»çŸ³&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¸¸è‰‡&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç§äººé£æœº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¼ä¸šå®¶&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¯Œè±ª&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;æˆåŠŸ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¹è£&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥¢å&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è´µæ—&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é«˜æ”¶å…¥&amp;#39;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;poor_words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;è´«ç©·&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è´«å›°&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;é¥¥é¥¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¤±ä¸š&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ä½æ”¶å…¥&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç®€é™‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ´æ—§&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ä¹ä¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æµæµª&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¬ å€º&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ´äº§&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›°å¢ƒ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;è‰°éš¾&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æŒ£æ‰&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;åŒ®ä¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;s1&#34;&gt;&amp;#39;è½å&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ— åŠ©&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç»æœ›&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;èµ¤è´«&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¸©é¥±&amp;#39;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;phy_project_on_fortune&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sematic_projection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                                               &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;phy_words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                                               &lt;span class=&#34;n&#34;&gt;poswords&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rich_words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                                               &lt;span class=&#34;n&#34;&gt;negwords&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;poor_words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                                               &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;phy_project_on_fortune&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;è·‘æ­¥&amp;#39;, -1.82),
 (&amp;#39;å¾’æ­¥&amp;#39;, -0.82),
 (&amp;#39;æ¸¸æ³³&amp;#39;, -0.19),
 (&amp;#39;ç¾½æ¯›çƒ&amp;#39;, 0.57),
 (&amp;#39;é©¬æ‹‰æ¾&amp;#39;, 0.62),
 (&amp;#39;é©¬æœ¯&amp;#39;, 1.15),
 (&amp;#39;ç¯®çƒ&amp;#39;, 4.0)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¡ç®—ç»“æœä¸­ï¼Œ æ•°å€¼è¶Šå¤§è¶Šæ¥è¿‘äº c_words2, è¶Šå°è¶Šæ¥è¿‘äº c_words1 ã€‚ å¯ä»¥çœ‹åˆ°åœ¨è´¢å¯Œæ¦‚å¿µè½´å‘é‡ä¸Šçš„æŠ•å½±ï¼Œ ç¯®çƒä¸å¤ªå‡†ï¼Œä½†æ˜¯å…¶ä»–å‡ é¡¹åŸºæœ¬ä¸Šçœ‹å‡ºè¿åŠ¨çš„è´«å¯Œæ€§ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;410-ç±»æ¯”-king-man--woman--queen&#34;&gt;4.10 ç±»æ¯” king-man + woman ~ queen&lt;/h3&gt;
&lt;p&gt;æ¯ä¸ªè¯æ˜¯é«˜ç»´å‘é‡ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œ ä¸¤ä¸ªç‚¹å¯ä»¥ç»„æˆæœ‰æ–¹å‘çš„å‘é‡ï¼Œè€Œå‘é‡å¯ä»¥æ¯”è¾ƒæ–¹å‘ã€‚è¿™é‡Œæ˜¯æ¨ç†è¿‡ç¨‹ï¼Œå—é™äºæ•°æ®ï¼Œå…¬å¼ä¸ä¸€å®šå®Œå…¨æˆç«‹ï¼Œ ä½†æ˜¯æ€ç»´å¯ä»¥ç±»æ¯”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/king-queen-formular.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªè¯ç›¸å‡ï¼ŒæŒ‰æ„Ÿè§‰åº”è¯¥å¾—åˆ°çš„æ˜¯æ€§åˆ«æ–¹å‘ï¼Œé›„æ€§-&amp;gt;é›Œæ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;gender_direction_1 = vector(man)-vector(woman)&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;gender_direction_2 = vector(king)-vector(queen)&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¸¤ä¸ªæ€§åˆ«æ–¹å‘åº”è¯¥è¿‘ä¼¼ï¼Œå³ gender_direction_1 çº¦ç­‰äº gender_direction_2 ï¼Œå°†å…¶çœ‹åšç­‰å¼å°±å¾—åˆ°å¦‚ä¸‹å…¬å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;vector(ç†åº”è¿‘ä¼¼ queen) = vector(king)-vector(men)+vector(women)&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ£€æŸ¥ä¸‰ä¸ªè¯­ä¹‰å‘é‡è®¡ç®—å‡ºçš„æ–°çš„å‘é‡æ˜¯å¦æœ‰ä¸ queen ç›¸å…³çš„è¯­ä¹‰ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;semactic_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;semantic_centroid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                                  &lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vector&lt;/span&gt;


&lt;span class=&#34;n&#34;&gt;men_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;semactic_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”·&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”·å­©&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç”·äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ä»–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;çˆ¶äº²&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;çˆ¸çˆ¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;çˆ·çˆ·&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;women_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;semactic_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥³&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥³å­©&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥³äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ¯äº²&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¦ˆå¦ˆ&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¥¶å¥¶&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;king_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;semactic_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;çš‡å¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¸ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å¤§å¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# å‡è®¾ king- queen çº¦ç­‰äº man -woman&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# result è¿‘ä¼¼ç­‰äº king - queen + women&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;result_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;king_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;men_vector&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;women_vector&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# ç°åœ¨æ£€æŸ¥ result_vector çš„è¯­ä¹‰åº”è¯¥ä¸queenç›¸å…³&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dm_w2v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similar_by_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result_vector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;topn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[(&amp;#39;çš‡å¸&amp;#39;, 0.8448051810264587),
 (&amp;#39;ç‹å&amp;#39;, 0.8056979179382324),
 (&amp;#39;å›½ç‹&amp;#39;, 0.8004385232925415),
 (&amp;#39;å¸ç‹&amp;#39;, 0.7693961262702942),
 (&amp;#39;å›ä¸»&amp;#39;, 0.7663125991821289),
 (&amp;#39;çš‡å&amp;#39;, 0.7614380717277527),
 (&amp;#39;å¤ªå&amp;#39;, 0.7463700175285339),
 (&amp;#39;å¦ƒå­&amp;#39;, 0.7433678507804871),
 (&amp;#39;å›ç‹&amp;#39;, 0.7407413125038147),
 (&amp;#39;çš‡å­&amp;#39;, 0.7380139231681824),
 (&amp;#39;ç‹ä½&amp;#39;, 0.7319545745849609),
 (&amp;#39;çš‡ä¸Š&amp;#39;, 0.7215542197227478),
 (&amp;#39;ç™»åŸº&amp;#39;, 0.7210745215415955),
 (&amp;#39;å¤§è‡£&amp;#39;, 0.714862048625946),
 (&amp;#39;ä¼Šä¸½èç™½ä¸€ä¸–&amp;#39;, 0.702217698097229),
 (&amp;#39;ç‹æœ&amp;#39;, 0.7000151872634888),
 (&amp;#39;å®«å¥³&amp;#39;, 0.6997070908546448),
 (&amp;#39;é©¾å´©&amp;#39;, 0.6992778182029724),
 (&amp;#39;ç‹å¦ƒ&amp;#39;, 0.6981185078620911),
 (&amp;#39;æ˜å›&amp;#39;, 0.6974363923072815)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè¯­ä¹‰å‘é‡å››åˆ™è¿ç®—å‡ºçš„ result_vector ä¸ queen ä»å…·æœ‰è¾ƒé«˜çš„ç›¸å…³æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äº”è·å–èµ„æ–™&#34;&gt;äº”ã€è·å–èµ„æ–™&lt;/h2&gt;
&lt;p&gt;é™¤äº†æœ¬æ–‡ä»‹ç»çš„è¿™ä¸ª 1000w æ¡å½±è¯„æ•°æ®é›†ï¼Œ å¤§é‚“è¿˜æœ‰ 2 ä¸ªç±»ä¼¼çš„è±†ç“£å½±è¯„æ•°æ®é›†ï¼Œå½±è¯„è®°å½•é‡ 212w å’Œ 442 w æ¡ã€‚ ä¸¤ä¸ªæ•°æ®é›†ä¸‹è½½é“¾æ¥æˆ‘éƒ½å…¬å¼€ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥éƒ½ä¸‹è½½ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- å…è´¹  douba-movie-1000w é“¾æ¥: https://pan.baidu.com/s/15C0fn7oyYEFvuQtPO8tw8Q?pwd=1g7m æå–ç : 1g7m
- å…è´¹ douban-movie-1000w-Word2Vec.200.15.bin
é“¾æ¥: https://pan.baidu.com/s/1fK8LhLmK4_xq-eHzNn42lg?pwd=2hwr æå–ç : 2hwr
- å…è´¹ douban-movie-442w é“¾æ¥: https://pan.baidu.com/s/1T_LPuxEZ_W8xfYcxV7rW5Q?pwd=a683 æå–ç : a683
- å…è´¹ douban-movie-212w é“¾æ¥: :https://pan.baidu.com/s/1VBwnOqfMPu_Y48bMlQ4oiw?pwd=t8id
 æå–ç : t8id

- å…è´¹è¯å‘é‡      https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 100å…ƒ  cntext-2.1.6-py3-none-any.whl   å¦‚æœ‰éœ€è¦ï¼ŒåŠ å¾®ä¿¡ ***372335839***ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³å†…å®¹&#34;&gt;ç›¸å…³å†…å®¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-04-17-douban-book-3394w-ratings-comments-dataset/&#34;&gt;æ•°æ®é›† | 3394w æ¡è±†ç“£ä¹¦è¯„æ•°æ®é›†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/&#34;&gt;å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ GloVe æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/&#34;&gt;å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/&#34;&gt;è¯å‘é‡ | ä½¿ç”¨ MD&amp;amp;A2001-2023 è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/&#34;&gt;å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
</description>
      <content:encoded><![CDATA[<p>æœ¬æ–‡å†…å®¹</p>
<ol>
<li>ä»‹ç»è±†ç“£å½±è¯„æ•°æ®é›†</li>
<li>æ„é€ è¯­æ–™è®­ç»ƒ <strong><em>Word2Vec</em></strong> æ¨¡å‹</li>
<li>è·å–æ•°æ® <strong><em>cntext2.x</em></strong> &amp; <strong><em>Word2Vec</em></strong> æ¨¡å‹æ–‡ä»¶</li>
</ol>
<p><br><br></p>
<h2 id="ä¸€è±†ç“£å½±è¯„æ•°æ®é›†">ä¸€ã€è±†ç“£å½±è¯„æ•°æ®é›†</h2>
<h3 id="11-æ•°æ®é›†ä»‹ç»">1.1 æ•°æ®é›†ä»‹ç»</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">æ•°æ®é›†: douba-movie-1000w

æ•°æ®æº: è±†ç“£ç”µå½±

è®°å½•æ•°:
   - ç”µå½± 10269 éƒ¨
   - å½±è¯„ 10310989 æ¡

ä½“ç§¯: 1.35G
</code></pre></div><p>è¯¥æ•°æ®é›†æ­£å¥½å¼¥è¡¥ä¸‹å›½å†…å…¬å¼€ç”µå½±æ•°æ®é›†çš„ç©ºç¼ºï¼Œ æ•°æ®å·²ç»è¿‡åˆæ­¥æ¸…æ´—ï¼Œå¯ç”¨äºæ¨èç³»ç»Ÿã€æƒ…æ„Ÿåˆ†æã€çŸ¥è¯†å›¾è°±ã€æ–°é—»ä¼ æ’­å­¦ã€ç¤¾ä¼šå­¦æ–‡åŒ–å˜è¿ç­‰å¤šä¸ªé¢†åŸŸ(æˆ–ä¸»é¢˜)ã€‚</p>
<br>
<h3 id="12-è¯»å–æ•°æ®">1.2 è¯»å–æ•°æ®</h3>
<p>ä¸‹è½½ <strong><em>douba-movie-1000w.zip</em></strong> è§£å‹åï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®é›†ä¸­æœ‰ä¸€ä¸ª <strong><em>all_movies_with_id.csv</em></strong> æ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;all_movies_with_id.csv&#39;</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><p><img loading="lazy" src="img/01-df.png" alt=""  />
</p>
<br>
<h3 id="13-æ‰€å«å­—æ®µ">1.3 æ‰€å«å­—æ®µ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; - </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"> - ID
 - Movie_Name  ç”µå½±å
 - Score  è±†ç“£ç”µå½±è¯„åˆ†(1-10)
 - Review_People  è¯„è®ºè€…äººæ•°
 - Star_Distribution  è¯„è®ºè¯„åˆ†åˆ†å¸ƒ(1-5, å«å¤šä¸ªæ•°å€¼ï¼Œæ•°å€¼ä»¥%é—´éš”)
 - Craw_Date çˆ¬è™«è¿è¡Œæ—¥æœŸ
 - Username è±†ç“£è¯„è®ºè€…ç”¨æˆ·å
 - Date å½±è¯„æ—¥æœŸ
 - Star  å½±è¯„è¯„åˆ†(1-5)
 - Comment å½±è¯„å†…å®¹
 - Comment_Distribution å½±è¯„è¯„åˆ†åˆ†å¸ƒ
 - Like å½±è¯„è·å¾—çš„å–œæ¬¢æ•°
</code></pre></div><p><br><br></p>
<h2 id="äºŒ-æ„é€ è¯­æ–™è®­ç»ƒ-word2vec">äºŒã€ æ„é€ è¯­æ–™&amp;è®­ç»ƒ Word2Vec</h2>
<h3 id="21-æ„é€ è¯­æ–™">2.1 æ„é€ è¯­æ–™</h3>
<p>å°†å­—æ®µ <strong><em>Comment</em></strong> ä¸­æ‰€æœ‰æ–‡æœ¬æ±‡æ€»åˆ° <strong><em>douban-movie-1000w.txt</em></strong>,</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># è¯»å–æ•°æ®ï¼Œåªè¯»å–å­—æ®µsign</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;all_movies_with_id.csv&#39;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sign&#39;</span><span class="p">])</span>

<span class="c1"># å°†signåˆ—ä¸­çš„æ‰€æœ‰æ–‡æœ¬æ±‡æ€»åˆ°douban-movie-1000w.txt</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;douban-movie-1000w.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Comment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># åˆ é™¤dfå’Œtextå˜é‡ï¼Œé‡Šæ”¾å†…å­˜</span>
<span class="k">del</span> <span class="n">df</span>
<span class="k">del</span> <span class="n">text</span>

</code></pre></div><br>
<h3 id="22-é…ç½®-cntext216">2.2 é…ç½® cntext2.1.6</h3>
<p>å°† <strong><em>cntext-2.1.6-py3-none-any.whl</em></strong> æ”¾ç½®äºæ¡Œé¢ï¼Œæ‰“å¼€ <strong><em>cmd</em></strong> (è‹¹æœç”µè„‘æ‰“å¼€ terminal)ï¼Œ è¾“å…¥ cd desktop</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
</code></pre></div><p>ä¹‹ååœ¨ <strong><em>cmd</em></strong> (è‹¹æœç”µè„‘æ‰“å¼€ terminal) ä¸­ä½¿ç”¨ <strong><em>pip3</em></strong> å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext-2.1.6-py3-none-any.whl
</code></pre></div><p>æ–‡æœ«æœ‰ <strong><em>cntext-2.1.6-py3-none-any.whl</em></strong> è·å–æ–¹å¼</p>
<br>
<h3 id="23-è®­ç»ƒ-word2vec">2.3 è®­ç»ƒ Word2Vec</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># cntextä¸º2.1.6</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># è®­ç»ƒWord2Vecæ¨¡å‹</span>
<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;douban-movie-1000w.txt&#39;</span><span class="p">,</span>
                 <span class="n">vector_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                 <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                 <span class="n">min_count</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/douban-movie-1000w_cache.txt Not Found or Empty, Preprocessing Corpus
Reading Preprocessed Corpus from output/douban-movie-1000w_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 2965 s.
Output Saved To: output/douban-movie-1000w.200.15.txt
</code></pre></div><p>ç»è¿‡åŠä¸ªå°æ—¶çš„è®­ç»ƒï¼Œ å¾—åˆ°</p>
<ul>
<li>æ¨¡å‹æ–‡ä»¶ <strong><em>output/douban-movie-1000w-Word2Vec.200.15.txt</em></strong></li>
<li>æ¨¡å‹æ–‡ä»¶ <strong><em>output/douban-movie-1000w-Word2Vec.200.15.bin</em></strong></li>
<li>ç¼“å­˜æ–‡ä»¶ <strong><em>output/douban-movie-1000w_cache.txt</em></strong></li>
</ul>
<p>å…¶ä¸­æ¨¡å‹æ–‡ä»¶æœ‰ <strong><em>txt</em></strong> å’Œ <strong><em>bin</em></strong> ä¸¤ç§æ ¼å¼ï¼Œ ä¿¡æ¯é‡å®Œå…¨ç­‰åŒã€‚ <strong><em>txt</em></strong> å¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€æŸ¥çœ‹ï¼Œ è€Œ <strong><em>bin</em></strong> åˆ™æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ ä½“ç§¯æ›´å°ã€‚ å·²è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œ å›  bin æ ¼å¼ä½“ç§¯æ›´å°ï¼Œ ä¾¿äºåˆ†äº«ã€‚</p>
<br>
<h3 id="24-è¯„ä¼°æ¨¡å‹">2.4 è¯„ä¼°æ¨¡å‹</h3>
<p>ä½¿ç”¨è¿‘ä¹‰æ³•å’Œç±»æ¯”æ³•ï¼Œ åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cntext.readthedocs.io/zh-cn/latest/model.html">æ–‡æ¡£</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>

<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">w2v_model</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   459    |     78     |            0.43            |
+----------+------------+----------------------------+


ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 99.91it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   615    |     62     |   39.02    |   2.98   |
|   CityInProvince   |   175    |     0      |   28.57    |   4.74   |
| FamilyRelationship |   272    |     0      |   92.65    |   1.48   |
|   SocialScience    |    8     |     62     |   25.00    |   6.00   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p><strong>è¿‘ä¹‰æµ‹è¯•</strong>: Spearman&rsquo;s Rank Coeficient ç³»æ•°å–å€¼[-1, 1], å–å€¼è¶Šå¤§ï¼Œ è¯´æ˜æ¨¡å‹è¡¨ç°è¶Šå¥½ã€‚</p>
<br>
<p><strong>ç±»æ¯”æµ‹è¯•</strong>:</p>
<ul>
<li>CapitalOfCountries è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°å°šå¯ï¼Œå¯èƒ½ç›®å‰ç”µå½±åº“ä¸­æœ‰ä¸€å®šæ¯”ä¾‹çš„å¤–å›½ç´ æã€‚</li>
<li>CityInProvince è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°è¾ƒå·®ï¼Œä¸å¤ªå¯èƒ½æ˜¯ä¸­å›½ç´ æå¤ªå°‘ï¼Œå¯èƒ½å¤§å¤šæ•°çœå¸‚ä»¥ç±»ä¼¼æ±‰ä¸œçœçš„å½¢å¼å‡ºç°ã€‚è¿™æ˜¯æˆ‘çš„çŒœæµ‹ã€‚ <a href="https://textdata.cn/blog/2023-12-28-train-word2vec-using-renmin-gov-leader-board-dataset/">äººæ°‘ç½‘ç•™è¨€æ¿è¯­æ–™ Word2Vec</a>ä¸­ï¼Œè¯¥é¡¹å‡†ç¡®ç‡ 100%ã€‚</li>
<li>FamilyRelationship è±†ç“£å½±è¯„ä½“ç°çš„æ˜¯ç”µå½±ç›¸å…³å†…å®¹ï¼Œè€Œç”µå½±æ°¸è¿œçš„ä¸»é¢˜æ˜¯äººæ€§ï¼Œ å†…å®¹å°‘ä¸äº†å®¶é•¿é‡ŒçŸ­ï¼Œä¸ƒå¤§å§‘å…«å¤§å§¨ï¼Œæ‰€ä»¥æ­¤é¡¹å‡†ç¡®ç‡é«˜è¾¾ 92.65%ã€‚ ä»¥<a href="https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/">å¹´æŠ¥ MD&amp;A</a>ä¸ºä¾‹ï¼Œæ­¤å¤„å‡†ç¡®ç‡åªæœ‰ 10%ã€‚</li>
<li>SocialScience è±†ç“£å½±è¯„è¯­æ–™åœ¨æ­¤é¡¹è¡¨ç°ä¸€èˆ¬ï¼Œ åº”è¯¥æ˜¯è¯­æ–™ä¸­å¸¸è§çš„ç¤¾ä¼šç§‘å­¦è¯è¯­æåŠè¾ƒå°‘ã€‚</li>
</ul>
<p>æ•´ä½“è€Œè¨€ï¼Œè¯­æ–™è®­ç»ƒçš„æ•ˆæœå¾ˆä¸é”™ï¼ŒæŠ“ä½äº†æ•°æ®åœºæ™¯çš„ç‹¬ç‰¹æ€§è¯­ä¹‰ã€‚</p>
<p><br><br></p>
<h2 id="å››ä½¿ç”¨-word2vec">å››ã€ä½¿ç”¨ Word2Vec</h2>
<h3 id="41-å¯¼å…¥-word2vec-æ¨¡å‹æ–‡ä»¶">4.1 å¯¼å…¥ Word2Vec æ¨¡å‹æ–‡ä»¶</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># å¯¼å…¥æ¨¡å‹ï¼Œè¯·æ³¨æ„è·¯å¾„ã€‚</span>
<span class="c1"># ã€Œå½“å‰ä»£ç ã€ ä¸ ã€Œoutputã€ åŒå¤„äºä¸€ä¸ªæ–‡ä»¶å¤¹å†…</span>

<span class="n">dm_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/douban-movie-1000w-Word2Vec.200.15.txt&#39;</span><span class="p">)</span>
<span class="c1"># dm_w2v = ct.load_w2v(&#39;output/douban-movie-1000w-Word2Vec.200.15.bin&#39;)</span>

<span class="n">dm_w2v</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Loading output/douban-movie-1000w-Word2Vec.200.15.txt...
&lt;gensim.models.keyedvectors.KeyedVectors at 0x314193830&gt;
</code></pre></div><br>
<h3 id="42-keyedvectors-çš„æ“ä½œæ–¹æ³•æˆ–å±æ€§">4.2 KeyedVectors çš„æ“ä½œæ–¹æ³•(æˆ–å±æ€§)</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>KeyedVectors.index_to_key</em></strong></td>
<td>è·å–è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.key_to_index</em></strong></td>
<td>è·å–å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.vector_size</em></strong></td>
<td>è·å– GloVe æ¨¡å‹ä¸­ä»»æ„è¯å‘é‡çš„ç»´åº¦ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.get_vector(word)</em></strong></td>
<td>è·å–ç»™å®šå•è¯çš„è¯å‘é‡ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_word(word, topn=10)</em></strong></td>
<td>è·å–æŸè¯è¯­æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
<tr>
<td><strong><em>KeyedVectors.similar_by_vector(vector, topn=10)</em></strong></td>
<td>è·å–è¯å‘é‡æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¿‘ä¹‰è¯ã€‚</td>
</tr>
</tbody>
</table>
<br>
<h3 id="43-æŸ¥çœ‹è¯è¡¨">4.3 æŸ¥çœ‹è¯è¡¨</h3>
<p>æŸ¥çœ‹è¯è¡¨æ‰€æœ‰å•è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">dm_w2v</span><span class="o">.</span><span class="n">index_to_key</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;ç”µå½±&#39;,
 &#39;ä¸€ä¸ª&#39;,
 &#39;æ²¡æœ‰&#39;,
 &#39;å–œæ¬¢&#39;,
 ...
 &#39;è·Ÿç€&#39;,
 &#39;æ„è¯†&#39;,
 &#39;æ€åº¦&#39;,
 ...]
</code></pre></div><p>ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œ è¿™é‡Œåªå±•ç¤ºéƒ¨åˆ†æ•°æ®ã€‚</p>
<br>
<h3 id="44-è¯è¡¨æ˜ å°„">4.4 è¯è¡¨æ˜ å°„</h3>
<p>æŸ¥çœ‹å•è¯åˆ°ç´¢å¼•çš„æ˜ å°„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">dm_w2v</span><span class="o">.</span><span class="n">key_to_index</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;ç”µå½±&#39;: 0,
 &#39;ä¸€ä¸ª&#39;: 1,
 &#39;æ²¡æœ‰&#39;: 2,
...
&#39;è·Ÿç€&#39;: 997,
 &#39;æ„è¯†&#39;: 998,
 &#39;æ€åº¦&#39;: 999,
 ...}
</code></pre></div><br>
<h3 id="45-å‘é‡ç»´åº¦æ•°">4.5 å‘é‡ç»´åº¦æ•°</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è¯è¡¨æœ‰ </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dm_w2v</span><span class="o">.</span><span class="n">key_to_index</span><span class="p">)</span><span class="si">}</span><span class="s1"> ä¸ªè¯&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;å‘é‡æ˜¯ </span><span class="si">{</span><span class="n">dm_w2v</span><span class="o">.</span><span class="n">vector_size</span><span class="si">}</span><span class="s1"> ç»´&#39;</span><span class="p">)</span>

</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¯è¡¨æœ‰ 426646 ä¸ªè¯
å‘é‡æ˜¯ 200 ç»´
</code></pre></div><br>
<h3 id="46-è·å–è¯å‘é‡">4.6 è·å–è¯å‘é‡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;ç»™åŠ›&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([-1.24090052e+00, -6.79377019e-01,  1.42518425e+00, -1.46615291e+00,
       -9.53197628e-02,  6.50456071e-01, -2.97696137e+00,  2.20916629e+00,
        6.12876177e-01,  1.63172066e+00,  4.91760701e-01, -9
        ......
        ......
         -1.42494082e+00,  2.49131727e+00, -6.27597034e-01, -7.91438043e-01,
       -4.54898655e-01,  1.37747681e+00, -4.20672953e-01, -1.53694853e-01,
        1.04936564e+00,  2.18786263e+00, -8.07472587e-01, -8.32003877e-02],
      dtype=float32)
</code></pre></div><br>
<h3 id="47-è¿‘ä¹‰è¯">4.7 è¿‘ä¹‰è¯</h3>
<p>æ ¹æ®è¯è¯­æŸ¥çœ‹è¿‘ä¹‰è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># è¿‘ä¹‰è¯</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_word</span><span class="p">(</span><span class="s1">&#39;ç»™åŠ›&#39;</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ç›¸å½“ç»™åŠ›&#39;, 0.6180022358894348),
 (&#39;å¤ªç»™åŠ›&#39;, 0.6019443273544312),
 (&#39;å¸¦åŠ²&#39;, 0.5840415954589844),
 (&#39;ä¸ç»™åŠ›&#39;, 0.5774183869361877),
 (&#39;è¿‡ç˜¾&#39;, 0.5616626739501953),
 (&#39;ç‰›å‰&#39;, 0.553788959980011),
 (&#39;å‡ºå½©&#39;, 0.5414286851882935),
 (&#39;ç²¾å½©&#39;, 0.5332293510437012),
 (&#39;çœ‹å¾—è¿‡ç˜¾&#39;, 0.5250197649002075),
 (&#39;å¤§èµ&#39;, 0.5205727219581604)]
</code></pre></div><br>
<p>æ ¹æ®å‘é‡æŸ¥æ‰¾æœ€ç›¸ä¼¼çš„è¿‘ä¹‰è¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">word_vector</span> <span class="o">=</span> <span class="n">dm_w2v</span><span class="o">.</span><span class="n">get_vector</span><span class="p">(</span><span class="s1">&#39;ç»™åŠ›&#39;</span><span class="p">)</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">word_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;ç»™åŠ›&#39;, 1.0),
 (&#39;ç›¸å½“ç»™åŠ›&#39;, 0.6180021166801453),
 (&#39;å¤ªç»™åŠ›&#39;, 0.6019443273544312),
 (&#39;å¸¦åŠ²&#39;, 0.5840415954589844),
 (&#39;ä¸ç»™åŠ›&#39;, 0.5774183869361877),
 (&#39;è¿‡ç˜¾&#39;, 0.5616626739501953),
 (&#39;ç‰›å‰&#39;, 0.5537890195846558),
 (&#39;å‡ºå½©&#39;, 0.5414287447929382),
 (&#39;ç²¾å½©&#39;, 0.5332292914390564),
 (&#39;çœ‹å¾—è¿‡ç˜¾&#39;, 0.5250197649002075)]
</code></pre></div><br>
<h3 id="48-è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡">4.8 è®¡ç®—å¤šä¸ªè¯çš„ä¸­å¿ƒå‘é‡</h3>
<p>æˆ‘ä»¬å¯ä»¥è®¡ç®—ã€Œå®‡å®™ã€ã€ã€Œé£èˆ¹ã€ã€ã€Œæˆ˜äº‰ã€çš„å®‡å®™è¯­ä¹‰å‘é‡ï¼ˆä¸­å¿ƒå‘é‡ï¼‰ã€‚ å¹¶è¯•å›¾å¯»æ‰¾ä¸­å¿ƒå‘é‡ <strong><em>universe_vector</em></strong> çš„æœ€ç›¸ä¼¼çš„ 10 ä¸ªè¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># å‡ ä¸ªè¯è¯­æ„å»ºçš„å®‡å®™è¯­ä¹‰å‘é‡</span>
<span class="n">universe_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">semantic_centroid</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">dm_w2v</span><span class="p">,</span>
                                       <span class="n">words</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å®‡å®™&#39;</span><span class="p">,</span> <span class="s1">&#39;é£èˆ¹&#39;</span><span class="p">,</span> <span class="s1">&#39;æˆ˜äº‰&#39;</span><span class="p">])</span>


<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">universe_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;å®‡å®™&#39;, 0.7568532228469849),
 (&#39;æ˜Ÿç³»&#39;, 0.7090039253234863),
 (&#39;é£èˆ¹&#39;, 0.7080673575401306),
 (&#39;äººç±»æ–‡æ˜&#39;, 0.6973789930343628),
 (&#39;æˆ˜èˆ°&#39;, 0.6890057325363159),
 (&#39;æ¯èˆ°&#39;, 0.6864359974861145),
 (&#39;æ˜Ÿçƒ&#39;, 0.6799622774124146),
 (&#39;å«æ˜Ÿ&#39;, 0.6799139976501465),
 (&#39;æ˜Ÿé™…&#39;, 0.6789332032203674),
 (&#39;ç©ºé—´ç«™&#39;, 0.6780815124511719),
 (&#39;åœ°çƒ&#39;, 0.6769616603851318),
 (&#39;å¤–å¤ªç©º&#39;, 0.6683873534202576),
 (&#39;æ ¸æˆ˜&#39;, 0.6669113039970398),
 (&#39;å¤–æ˜Ÿé£èˆ¹&#39;, 0.6592534780502319),
 (&#39;æœ¨æ˜Ÿ&#39;, 0.6586896777153015),
 (&#39;èƒ½æº&#39;, 0.6562989950180054),
 (&#39;æˆ˜äº‰&#39;, 0.6556441187858582),
 (&#39;å·¨å…½&#39;, 0.6544537544250488),
 (&#39;æœˆçƒ&#39;, 0.6525537967681885),
 (&#39;ä¸€è‰˜&#39;, 0.6521110534667969)]
</code></pre></div><p>è¯­ä¹‰æ•æ‰çš„å¾ˆå‡†å“¦ã€‚</p>
<h3 id="49-æ¦‚å¿µè½´">4.9 æ¦‚å¿µè½´</h3>
<p>ç”·æ€§æ¦‚å¿µå‘é‡ç”±å¤šä¸ªç”·æ€§è¯çš„å‘é‡åŠ æ€»æ±‚å‡å€¼å¾—åˆ°ï¼Œå¥³æ€§æ¦‚å¿µå‘é‡ç®—æ³•ç±»ä¼¼ã€‚å½“æ€§è´¨æˆ–æ–¹å‘æ˜æ˜¾ç›¸åçš„ä¸¤ä¸ªæ¦‚å¿µå‘é‡ç›¸å‡ï¼Œ å¾—åˆ°çš„æ–°çš„å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º**<em>æ¦‚å¿µè½´å‘é‡ Concept Axis</em>**ã€‚å¸¸è§çš„æ¦‚å¿µè½´ï¼Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å°ºå¯¸(å¤§, å°)
- æ¹¿åº¦(å¹²ç‡¥,æ½®æ¹¿)
- æ€§åˆ«(ç”·, å¥³)
- è´¢å¯Œ(å¯Œè£•, è´«ç©·)
- ç­‰
</code></pre></div><p>å…¶å®ä»»æ„æ¦‚å¿µçš„å‘é‡ä¹Ÿå¯çœ‹åšæ¦‚å¿µè½´ï¼Œå³è¯¥æ¦‚å¿µå‘é‡ä¸ 0 å‘é‡ç›¸å‡ã€‚åªä¸è¿‡ä¸¤ç»„æ€§è´¨æ–¹å‘ç›¸åçš„æ–¹å¼å¾—åˆ°çš„æ¦‚å¿µè½´ï¼Œ åœ¨è¯­ä¹‰ä¸Šæ›´ç¨³å®šã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># å®šä¹‰è¯è¯­åˆ—è¡¨</span>
<span class="n">phy_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;æ¸¸æ³³&#39;</span><span class="p">,</span> <span class="s1">&#39;è·‘æ­¥&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯®çƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¾½æ¯›çƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;é©¬æ‹‰æ¾&#39;</span><span class="p">,</span> <span class="s1">&#39;é©¬æœ¯&#39;</span><span class="p">,</span> <span class="s1">&#39;å¾’æ­¥&#39;</span><span class="p">]</span>

<span class="n">rich_words</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;å¯Œè£•&#39;</span><span class="p">,</span> <span class="s1">&#39;è´¢å¯Œ&#39;</span><span class="p">,</span> <span class="s1">&#39;é‡‘é’±&#39;</span><span class="p">,</span> <span class="s1">&#39;è±ªå®…&#39;</span><span class="p">,</span> <span class="s1">&#39;è±ªè½¦&#39;</span><span class="p">,</span>
    <span class="s1">&#39;å¥¢ä¾ˆå“&#39;</span><span class="p">,</span> <span class="s1">&#39;æŠ•èµ„&#39;</span><span class="p">,</span> <span class="s1">&#39;è‚¡ç¥¨&#39;</span><span class="p">,</span> <span class="s1">&#39;åŸºé‡‘&#39;</span><span class="p">,</span> <span class="s1">&#39;é»„é‡‘&#39;</span><span class="p">,</span>
    <span class="s1">&#39;é’»çŸ³&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¸¸è‰‡&#39;</span><span class="p">,</span> <span class="s1">&#39;ç§äººé£æœº&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¼ä¸šå®¶&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯Œè±ª&#39;</span><span class="p">,</span>
    <span class="s1">&#39;æˆåŠŸ&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¹è£&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¢å&#39;</span><span class="p">,</span> <span class="s1">&#39;è´µæ—&#39;</span><span class="p">,</span> <span class="s1">&#39;é«˜æ”¶å…¥&#39;</span>
<span class="p">]</span>

<span class="n">poor_words</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;è´«ç©·&#39;</span><span class="p">,</span> <span class="s1">&#39;è´«å›°&#39;</span><span class="p">,</span> <span class="s1">&#39;é¥¥é¥¿&#39;</span><span class="p">,</span> <span class="s1">&#39;å¤±ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;ä½æ”¶å…¥&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ç®€é™‹&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ´æ—§&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¹ä¸&#39;</span><span class="p">,</span> <span class="s1">&#39;æµæµª&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¬ å€º&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ç ´äº§&#39;</span><span class="p">,</span> <span class="s1">&#39;å›°å¢ƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;è‰°éš¾&#39;</span><span class="p">,</span> <span class="s1">&#39;æŒ£æ‰&#39;</span><span class="p">,</span> <span class="s1">&#39;åŒ®ä¹&#39;</span><span class="p">,</span>
    <span class="s1">&#39;è½å&#39;</span><span class="p">,</span> <span class="s1">&#39;æ— åŠ©&#39;</span><span class="p">,</span> <span class="s1">&#39;ç»æœ›&#39;</span><span class="p">,</span> <span class="s1">&#39;èµ¤è´«&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¸©é¥±&#39;</span>
<span class="p">]</span>

<span class="n">phy_project_on_fortune</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">sematic_projection</span><span class="p">(</span><span class="n">wv</span> <span class="o">=</span> <span class="n">dm_w2v</span><span class="p">,</span>
                                               <span class="n">words</span> <span class="o">=</span> <span class="n">phy_words</span><span class="p">,</span>
                                               <span class="n">poswords</span> <span class="o">=</span><span class="n">rich_words</span><span class="p">,</span>
                                               <span class="n">negwords</span> <span class="o">=</span><span class="n">poor_words</span><span class="p">,</span>
                                               <span class="p">)</span>

<span class="n">phy_project_on_fortune</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;è·‘æ­¥&#39;, -1.82),
 (&#39;å¾’æ­¥&#39;, -0.82),
 (&#39;æ¸¸æ³³&#39;, -0.19),
 (&#39;ç¾½æ¯›çƒ&#39;, 0.57),
 (&#39;é©¬æ‹‰æ¾&#39;, 0.62),
 (&#39;é©¬æœ¯&#39;, 1.15),
 (&#39;ç¯®çƒ&#39;, 4.0)]
</code></pre></div><p>è®¡ç®—ç»“æœä¸­ï¼Œ æ•°å€¼è¶Šå¤§è¶Šæ¥è¿‘äº c_words2, è¶Šå°è¶Šæ¥è¿‘äº c_words1 ã€‚ å¯ä»¥çœ‹åˆ°åœ¨è´¢å¯Œæ¦‚å¿µè½´å‘é‡ä¸Šçš„æŠ•å½±ï¼Œ ç¯®çƒä¸å¤ªå‡†ï¼Œä½†æ˜¯å…¶ä»–å‡ é¡¹åŸºæœ¬ä¸Šçœ‹å‡ºè¿åŠ¨çš„è´«å¯Œæ€§ã€‚</p>
<br>
<h3 id="410-ç±»æ¯”-king-man--woman--queen">4.10 ç±»æ¯” king-man + woman ~ queen</h3>
<p>æ¯ä¸ªè¯æ˜¯é«˜ç»´å‘é‡ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œ ä¸¤ä¸ªç‚¹å¯ä»¥ç»„æˆæœ‰æ–¹å‘çš„å‘é‡ï¼Œè€Œå‘é‡å¯ä»¥æ¯”è¾ƒæ–¹å‘ã€‚è¿™é‡Œæ˜¯æ¨ç†è¿‡ç¨‹ï¼Œå—é™äºæ•°æ®ï¼Œå…¬å¼ä¸ä¸€å®šå®Œå…¨æˆç«‹ï¼Œ ä½†æ˜¯æ€ç»´å¯ä»¥ç±»æ¯”ã€‚</p>
<p><img loading="lazy" src="img/king-queen-formular.png" alt=""  />
</p>
<p>è¿™ä¸¤ä¸ªè¯ç›¸å‡ï¼ŒæŒ‰æ„Ÿè§‰åº”è¯¥å¾—åˆ°çš„æ˜¯æ€§åˆ«æ–¹å‘ï¼Œé›„æ€§-&gt;é›Œæ€§ã€‚</p>
<p><strong><em>gender_direction_1 = vector(man)-vector(woman)</em></strong></p>
<p><strong><em>gender_direction_2 = vector(king)-vector(queen)</em></strong></p>
<p>é‚£ä¸¤ä¸ªæ€§åˆ«æ–¹å‘åº”è¯¥è¿‘ä¼¼ï¼Œå³ gender_direction_1 çº¦ç­‰äº gender_direction_2 ï¼Œå°†å…¶çœ‹åšç­‰å¼å°±å¾—åˆ°å¦‚ä¸‹å…¬å¼ï¼š</p>
<p><strong><em>vector(ç†åº”è¿‘ä¼¼ queen) = vector(king)-vector(men)+vector(women)</em></strong></p>
<p>ç°åœ¨æˆ‘ä»¬æ£€æŸ¥ä¸‰ä¸ªè¯­ä¹‰å‘é‡è®¡ç®—å‡ºçš„æ–°çš„å‘é‡æ˜¯å¦æœ‰ä¸ queen ç›¸å…³çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">semactic_vector</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">words</span><span class="p">):</span>
    <span class="n">vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">semantic_centroid</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wv</span><span class="p">,</span>
                                  <span class="n">words</span><span class="o">=</span><span class="n">words</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vector</span>


<span class="n">men_vector</span> <span class="o">=</span> <span class="n">semactic_vector</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ç”·&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·å­©&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;ä»–&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¶äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¸çˆ¸&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ·çˆ·&#39;</span><span class="p">])</span>
<span class="n">women_vector</span> <span class="o">=</span> <span class="n">semactic_vector</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³å­©&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¹&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¯äº²&#39;</span><span class="p">,</span> <span class="s1">&#39;å¦ˆå¦ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥¶å¥¶&#39;</span><span class="p">])</span>
<span class="n">king_vector</span> <span class="o">=</span> <span class="n">semactic_vector</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;çš‡å¸&#39;</span><span class="p">,</span> <span class="s1">&#39;å¸ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å¤§å¸&#39;</span><span class="p">])</span>
<span class="c1"># å‡è®¾ king- queen çº¦ç­‰äº man -woman</span>
<span class="c1"># result è¿‘ä¼¼ç­‰äº king - queen + women</span>
<span class="n">result_vector</span> <span class="o">=</span> <span class="n">king_vector</span> <span class="o">-</span> <span class="n">men_vector</span> <span class="o">+</span> <span class="n">women_vector</span>
<span class="c1"># ç°åœ¨æ£€æŸ¥ result_vector çš„è¯­ä¹‰åº”è¯¥ä¸queenç›¸å…³</span>
<span class="n">dm_w2v</span><span class="o">.</span><span class="n">similar_by_vector</span><span class="p">(</span><span class="n">result_vector</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;çš‡å¸&#39;, 0.8448051810264587),
 (&#39;ç‹å&#39;, 0.8056979179382324),
 (&#39;å›½ç‹&#39;, 0.8004385232925415),
 (&#39;å¸ç‹&#39;, 0.7693961262702942),
 (&#39;å›ä¸»&#39;, 0.7663125991821289),
 (&#39;çš‡å&#39;, 0.7614380717277527),
 (&#39;å¤ªå&#39;, 0.7463700175285339),
 (&#39;å¦ƒå­&#39;, 0.7433678507804871),
 (&#39;å›ç‹&#39;, 0.7407413125038147),
 (&#39;çš‡å­&#39;, 0.7380139231681824),
 (&#39;ç‹ä½&#39;, 0.7319545745849609),
 (&#39;çš‡ä¸Š&#39;, 0.7215542197227478),
 (&#39;ç™»åŸº&#39;, 0.7210745215415955),
 (&#39;å¤§è‡£&#39;, 0.714862048625946),
 (&#39;ä¼Šä¸½èç™½ä¸€ä¸–&#39;, 0.702217698097229),
 (&#39;ç‹æœ&#39;, 0.7000151872634888),
 (&#39;å®«å¥³&#39;, 0.6997070908546448),
 (&#39;é©¾å´©&#39;, 0.6992778182029724),
 (&#39;ç‹å¦ƒ&#39;, 0.6981185078620911),
 (&#39;æ˜å›&#39;, 0.6974363923072815)]
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè¯­ä¹‰å‘é‡å››åˆ™è¿ç®—å‡ºçš„ result_vector ä¸ queen ä»å…·æœ‰è¾ƒé«˜çš„ç›¸å…³æ€§ã€‚</p>
<p><br><br></p>
<h2 id="äº”è·å–èµ„æ–™">äº”ã€è·å–èµ„æ–™</h2>
<p>é™¤äº†æœ¬æ–‡ä»‹ç»çš„è¿™ä¸ª 1000w æ¡å½±è¯„æ•°æ®é›†ï¼Œ å¤§é‚“è¿˜æœ‰ 2 ä¸ªç±»ä¼¼çš„è±†ç“£å½±è¯„æ•°æ®é›†ï¼Œå½±è¯„è®°å½•é‡ 212w å’Œ 442 w æ¡ã€‚ ä¸¤ä¸ªæ•°æ®é›†ä¸‹è½½é“¾æ¥æˆ‘éƒ½å…¬å¼€ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥éƒ½ä¸‹è½½ä¸‹æ¥ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- å…è´¹  douba-movie-1000w é“¾æ¥: https://pan.baidu.com/s/15C0fn7oyYEFvuQtPO8tw8Q?pwd=1g7m æå–ç : 1g7m
- å…è´¹ douban-movie-1000w-Word2Vec.200.15.bin
é“¾æ¥: https://pan.baidu.com/s/1fK8LhLmK4_xq-eHzNn42lg?pwd=2hwr æå–ç : 2hwr
- å…è´¹ douban-movie-442w é“¾æ¥: https://pan.baidu.com/s/1T_LPuxEZ_W8xfYcxV7rW5Q?pwd=a683 æå–ç : a683
- å…è´¹ douban-movie-212w é“¾æ¥: :https://pan.baidu.com/s/1VBwnOqfMPu_Y48bMlQ4oiw?pwd=t8id
 æå–ç : t8id

- å…è´¹è¯å‘é‡      https://cntext.readthedocs.io/zh-cn/latest/embeddings.html

- 100å…ƒ  cntext-2.1.6-py3-none-any.whl   å¦‚æœ‰éœ€è¦ï¼ŒåŠ å¾®ä¿¡ ***372335839***ï¼Œ å¤‡æ³¨ã€Œå§“å-å­¦æ ¡-ä¸“ä¸šã€
</code></pre></div><p><br><br></p>
<h2 id="ç›¸å…³å†…å®¹">ç›¸å…³å†…å®¹</h2>
<ul>
<li><a href="https://textdata.cn/blog/2024-04-17-douban-book-3394w-ratings-comments-dataset/">æ•°æ®é›† | 3394w æ¡è±†ç“£ä¹¦è¯„æ•°æ®é›†</a></li>
<li><a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ GloVe æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</a></li>
<li><a href="https://textdata.cn/blog/2023-03-24-load-w2v-and-expand-your-concpet-dicitonary/">è¯å‘é‡ | ä½¿ç”¨ MD&amp;A2001-2023 è¯­æ–™è®­ç»ƒ Word2Vec æ¨¡å‹</a></li>
<li><a href="https://textdata.cn/blog/2025-03-28-train_a_glove_model_on_chinese_corpus_using_stanfordnlp/">å®éªŒ | ä½¿ç”¨ Stanford Glove ä»£ç è®­ç»ƒä¸­æ–‡è¯­æ–™çš„ Glove æ¨¡å‹</a></li>
</ul>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>word_in_context | æŸ¥çœ‹æŸç±»è¯çš„ä¸Šä¸‹æ–‡ï¼Œæ›´å¥½çš„ç†è§£æ–‡æœ¬æ•°æ®</title>
      <link>https://textdata.cn/blog/2023-03-19-word-in-context/</link>
      <pubDate>Sun, 19 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-03-19-word-in-context/</guid>
      <description>é€šè¿‡ä¸€ä¸ªå•è¯æ‰€å¤„çš„è¯­å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£è¯¥å•è¯çš„å«ä¹‰ã€‚**è¯¥è°šè¯­æºäºè‹±å›½è¯­è¨€å­¦å®¶ J.R. Firth çš„ç†è®ºï¼Œä»–è®¤ä¸ºå•è¯çš„å«ä¹‰æ˜¯ç”±å…¶å‘¨å›´çš„è¯­å¢ƒå’Œä¸ä¹‹ç›¸ä¼´çš„å…¶ä»–å•è¯æ‰€å†³å®šçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡å•è¯å‡ºç°çš„ä¸Šä¸‹æ–‡æ¥ç†è§£å…¶å«ä¹‰ã€‚è¿™ä¸€ç†è®ºåœ¨è¯­è¨€å­¦ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ä¹‹å‰åˆ†äº«è¿‡ [ ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€æ–‡æœ¬å‘é‡åŒ–ã€çº¿æ€§å›å½’ç®—æ³•ä»md&amp;amp;aæ•°æ®ä¸­è®¡ç®— ã€Œä¼ä¸šèèµ„çº¦æŸæŒ‡æ ‡ã€ ]ï¼Œ ä½¿ç”¨çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼è¯†åˆ«èèµ„çº¦æŸæ–‡æœ¬ã€‚ä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼è®¾è®¡ååˆ†å¤æ‚ä¸”æœ‰éš¾åº¦ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œå¦‚æœèƒ½å¤ŸæŸ¥çœ‹æŸäº›èèµ„å…³é”®è¯é™„è¿‘ä¸Šä¸‹æ–‡ï¼Œ å¯å¸®åŠ©ç ”ç©¶è€…æ›´å…¨é¢åœ°äº†è§£æ•°æ®é›†ä¸­å…³é”®è¯çš„ä½¿ç”¨æƒ…å†µå’Œè¯­å¢ƒï¼Œæ›´å¥½çš„è®¾è®¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œäº¦æˆ–è®¸æ„å¤–æ‰¾å‡ºæ–°çš„æœ‰ä»·å€¼çš„çº¿ç´¢ã€‚</description>
      <content:encoded><![CDATA[<p>Firthï¼ˆ1957ï¼‰æœ‰ä¸€å¥åè¨€ï¼Œç†è§£ä¸€ä¸ªè¯è¦ä»taèº«è¾¹å…¥æ‰‹ã€‚</p>
<blockquote>
<p>You shall know a word by the company it keeps</p>
</blockquote>
<p>é€šè¿‡ä¸€ä¸ªå•è¯æ‰€å¤„çš„è¯­å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£è¯¥å•è¯çš„å«ä¹‰ã€‚<strong>è¯¥è°šè¯­æºäºè‹±å›½è¯­è¨€å­¦å®¶ J.R. Firth çš„ç†è®ºï¼Œä»–è®¤ä¸ºå•è¯çš„å«ä¹‰æ˜¯ç”±å…¶å‘¨å›´çš„è¯­å¢ƒå’Œä¸ä¹‹ç›¸ä¼´çš„å…¶ä»–å•è¯æ‰€å†³å®šçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡å•è¯å‡ºç°çš„ä¸Šä¸‹æ–‡æ¥ç†è§£å…¶å«ä¹‰ã€‚è¿™ä¸€ç†è®ºåœ¨è¯­è¨€å­¦ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨</strong>ã€‚ä¹‹å‰åˆ†äº«è¿‡</p>
<p><img loading="lazy" src="img/39faq-firth_words.png" alt=""  />
</p>
<p>ä¹‹å‰åˆ†äº«è¿‡ <a href="https://textdata.cn/blog/2023-12-31-using-regex-to-compute-the-financial_constraints"> ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€æ–‡æœ¬å‘é‡åŒ–ã€çº¿æ€§å›å½’ç®—æ³•ä»md&amp;aæ•°æ®ä¸­è®¡ç®— ã€Œä¼ä¸šèèµ„çº¦æŸæŒ‡æ ‡ã€ </a>ï¼Œ ä½¿ç”¨çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼è¯†åˆ«èèµ„çº¦æŸæ–‡æœ¬ã€‚ä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼è®¾è®¡ååˆ†å¤æ‚ä¸”æœ‰éš¾åº¦ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œå¦‚æœèƒ½å¤ŸæŸ¥çœ‹æŸäº›èèµ„å…³é”®è¯é™„è¿‘ä¸Šä¸‹æ–‡ï¼Œ å¯å¸®åŠ©ç ”ç©¶è€…æ›´å…¨é¢åœ°äº†è§£æ•°æ®é›†ä¸­å…³é”®è¯çš„ä½¿ç”¨æƒ…å†µå’Œè¯­å¢ƒï¼Œæ›´å¥½çš„è®¾è®¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œäº¦æˆ–è®¸æ„å¤–æ‰¾å‡ºæ–°çš„æœ‰ä»·å€¼çš„çº¿ç´¢ã€‚</p>
<br>
<h2 id="ä»£ç ">ä»£ç </h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">jieba</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="k">def</span> <span class="nf">word_in_context</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Given text and keywords, the task is to find the text where the keyword appears
</span><span class="s2">    Args:
</span><span class="s2">        text (str): input document, string format
</span><span class="s2">        keywords (list): keywords
</span><span class="s2">        window (int): return the text where the keyword appears, default is 3, meaning return 3 word.
</span><span class="s2">        lang (str, optional): setting the lang, only support chinese and english. Defaults to &#39;chinese&#39;.
</span><span class="s2">
</span><span class="s2">    Returns:
</span><span class="s2">        list contains multiple dictionaries, where each dictionary contains the sentence, keyword, and the sentence where the keyword appears
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="k">if</span> <span class="n">lang</span><span class="o">==</span><span class="s1">&#39;chinese&#39;</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">lcut</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">words</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&#34;ä½ åº”è¯¥å®‰è£…nltkå’Œå¯¹åº”çš„nltk_data, è¯·çœ‹Bç«™https://www.bilibili.com/video/BV14A411i7DB&#34;</span><span class="p">)</span>
            <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">]</span>
    <span class="n">kw_idxss</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">keyword</span><span class="p">]</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">]</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">keyword</span><span class="p">,</span> <span class="n">kw_idxs</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">keywords</span><span class="p">,</span> <span class="n">kw_idxss</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">kw_idxs</span><span class="p">:</span>
            <span class="n">half</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">window</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">idx</span> <span class="o">-</span> <span class="n">half</span><span class="p">)</span>
            <span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">),</span> <span class="n">idx</span> <span class="o">+</span> <span class="n">half</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="n">keyword</span><span class="p">,</span> 
                   <span class="s1">&#39;context&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">start</span><span class="p">:</span> <span class="n">end</span><span class="p">])</span> <span class="k">if</span> <span class="n">lang</span><span class="o">==</span><span class="s1">&#39;chinese&#39;</span> <span class="k">else</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">start</span><span class="p">:</span> <span class="n">end</span><span class="p">])</span>
                      <span class="p">}</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>


</code></pre></div><p><br><br></p>
<h2 id="ç»ƒä¹ ">ç»ƒä¹ </h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#æµ‹è¯•ä»£ç ï¼Œå‡è®¾zh_textæ˜¯å¹´æŠ¥æ–‡æœ¬ï¼Œä»æ‰¾æ‰¾å‡ºä¸ç½‘è¯ç›¸å…³è¯çš„ä¸Šä¸‹æ–‡</span>
<span class="n">zh_text</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;
</span><span class="s2">ã€æ’å…¥ä¸€æ¡è‡ªå®¶å¹¿å‘Šã€‘å¤§é‚“è‡ªå·±å®¶çš„å®¶ï¼Œ
</span><span class="s2">å®‰å¹³å¿å¤šéš†ä¸ç½‘åˆ¶å“ï¼Œç”Ÿäº§é”€å”®ä¸é”ˆé’¢è½§èŠ±ç½‘ã€
</span><span class="s2">ç”µç„Šç½‘ã€çŸ³ç¬¼ç½‘ã€åˆ€ç‰‡åˆºç»³ã€å†²å­”ç½‘ç­‰ä¸ç½‘åˆ¶å“ã€‚
</span><span class="s2">è”ç³»äºº é‚“é¢–é™ 0318-7686899
</span><span class="s2">
</span><span class="s2">äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦Python
</span><span class="s2">åœ¨ç¤¾ç§‘ä¸­ï¼Œå¯ä»¥ç”¨Pythonåšæ–‡æœ¬åˆ†æ
</span><span class="s2">Pythonæ˜¯ä¸€é—¨åŠŸèƒ½å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¿æ³›åº”ç”¨åœ¨ç»ç®¡ç¤¾ç§‘é¢†åŸŸã€‚
</span><span class="s2">å¯ä»¥åšç½‘ç»œçˆ¬è™«ã€æ–‡æœ¬åˆ†æã€LDAè¯é¢˜æ¨¡å‹ã€ç›¸ä¼¼åº¦åˆ†æç­‰ã€‚
</span><span class="s2">
</span><span class="s2">ä»Šå¹´ç»æµä¸æ™¯æ°”ï¼Œå½¢åŠ¿å¼‚å¸¸ä¸¥å³»ã€‚
</span><span class="s2">ç”±äºç–«æƒ…ä¸æ™¯æ°”ï¼Œé™é»˜ç®¡ç†ï¼Œ äº§å“ç§¯å‹ï¼Œ å…¬å¸ç»è¥å›°éš¾ã€‚
</span><span class="s2">ä¿å°±ä¸šä¿ƒå°±ä¸šï¼Œä»»åŠ¡ååˆ†è‰°å·¨ã€‚
</span><span class="s2">&#34;&#34;&#34;</span>

<span class="c1">#ã€äº§å“è¯ã€‘ä¸Šä¸‹æ–‡</span>
<span class="n">word_in_context</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">zh_text</span><span class="p">,</span> 
                <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;çŸ³ç¬¼&#39;</span><span class="p">],</span> 
                <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
                <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><table>
<thead>
<tr>
<th>keyword</th>
<th>context</th>
</tr>
</thead>
<tbody>
<tr>
<td>çŸ³ç¬¼</td>
<td>ç”µç„Šç½‘ã€çŸ³ç¬¼ç½‘ã€åˆ€ç‰‡åˆºç»³</td>
</tr>
</tbody>
</table>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ã€ç»è¥ã€‘ä¸Šä¸‹æ–‡</span>
<span class="n">word_in_context</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">zh_text</span><span class="p">,</span> 
                <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ç»è¥&#39;</span><span class="p">],</span> 
                <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
                <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><table>
<thead>
<tr>
<th>keyword</th>
<th>context</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç»è¥</td>
<td>&gt;ç§¯å‹ï¼Œ å…¬å¸ç»è¥å›°éš¾ã€‚\nä¿</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ã€Pythonã€‘ä¸Šä¸‹æ–‡</span>
<span class="n">word_in_context</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">zh_text</span><span class="p">,</span> 
                <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">],</span> 
                <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
                <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><table>
<thead>
<tr>
<th>keyword</th>
<th>context</th>
</tr>
</thead>
<tbody>
<tr>
<td>python</td>
<td>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦python\nåœ¨ç¤¾ç§‘ä¸­</td>
</tr>
<tr>
<td>python</td>
<td>ä¸­ï¼Œå¯ä»¥ç”¨pythonåšæ–‡æœ¬åˆ†æ\n</td>
</tr>
<tr>
<td>python</td>
<td>åšæ–‡æœ¬åˆ†æ\npythonæ˜¯ä¸€é—¨åŠŸèƒ½å¼ºå¤§çš„</td>
</tr>
</tbody>
</table>
<p><br><br></p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
