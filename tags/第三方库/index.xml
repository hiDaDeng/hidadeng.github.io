<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>ç¬¬ä¸‰æ–¹åº“ on å¤§é‚“å’Œä»–çš„PYTHON</title>
    <link>/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/</link>
    <description>Recent content in ç¬¬ä¸‰æ–¹åº“ on å¤§é‚“å’Œä»–çš„PYTHON</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 24 Mar 2025 00:00:00 +0000</lastBuildDate><atom:link href="/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>èµ„æº | ä¸åŒç‰ˆæœ¬Chromeé€‚é…çš„chromedriverä¸‹è½½é“¾æ¥</title>
      <link>https://textdata.cn/blog/2025-03-24-setting-chromedriver-environment-for-selenium/</link>
      <pubDate>Mon, 24 Mar 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2025-03-24-setting-chromedriver-environment-for-selenium/</guid>
      <description>&lt;h2 id=&#34;ä¸€chromeç‰ˆæœ¬å·&#34;&gt;ä¸€ã€Chromeç‰ˆæœ¬å·&lt;/h2&gt;
&lt;p&gt;å°†Chromeçš„ç‰ˆæœ¬å·åˆ’åˆ†ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤ä»£ç‰ˆæœ¬ 70.0.3538.16 ~ 114.0.5735.90&lt;/li&gt;
&lt;li&gt;ç°ä»£ç‰ˆæœ¬ 127.0.6533.88 ~ 134.0.6998.165&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒchromedriverä¸‹è½½&#34;&gt;äºŒã€chromedriverä¸‹è½½&lt;/h2&gt;
&lt;h3 id=&#34;21-å¤ä»£ç‰ˆæœ¬&#34;&gt;2.1 å¤ä»£ç‰ˆæœ¬&lt;/h3&gt;
&lt;p&gt;Chromeç‰ˆæœ¬å·åœ¨ 70.0.3538.16 ~ 114.0.5735.90 ä¹‹é—´çš„ï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¸‹è½½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;å¹³å°      ä¸‹è½½é“¾æ¥
https://chromedriver.storage.googleapis.com/index.html

Linux64   https://chromedriver.storage.googleapis.com/{ç‰ˆæœ¬å·}/chromedriver_linux64.zip
Mac       https://chromedriver.storage.googleapis.com/{ç‰ˆæœ¬å·}/chromedriver_mac64.zip
Win32     https://chromedriver.storage.googleapis.com/{ç‰ˆæœ¬å·}/chromedriver_win32.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;22-è¿‘ä»£ç‰ˆæœ¬&#34;&gt;2.2 è¿‘ä»£ç‰ˆæœ¬&lt;/h3&gt;
&lt;p&gt;Chromeç‰ˆæœ¬å·åœ¨ 115.0.5739.0 ~ 127.0.6533.72 ä¹‹é—´çš„ï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¸‹è½½chromedriver&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://chromedriver.storage.googleapis.com/115.0.5739.0/chromedriver_linux64.zip&#34;&gt;https://chromedriver.storage.googleapis.com/115.0.5739.0/chromedriver_linux64.zip&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;å¹³å°          ä¸‹è½½é“¾æ¥

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;23-ç°ä»£ç‰ˆæœ¬&#34;&gt;2.3 ç°ä»£ç‰ˆæœ¬&lt;/h3&gt;
&lt;p&gt;Chromeç‰ˆæœ¬å·åœ¨ 127.0.6533.88 ~ 134.0.6998.165 ä¹‹é—´çš„ï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¸‹è½½chromedriver&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;
å¹³å°          ä¸‹è½½é“¾æ¥
Linux64	      https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/linux64/chromedriver-linux64.zip

Mac(MèŠ¯ç‰‡)	   https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/mac-arm64/chromedriver-mac-arm64.zip

Mac            https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/mac-x64/chromedriver-mac-x64.zip

win32	       https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/win32/chromedriver-win32.zip

win64	       https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/win64/chromedriver-win64.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;æ­¤å¤–ï¼Œ æ›´æ–°çš„å¼€å‘ç‰ˆå¯ä»¥åœ¨æ­¤å¤„ &lt;a href=&#34;https://googlechromelabs.github.io/chrome-for-testing/#stable&#34;&gt;https://googlechromelabs.github.io/chrome-for-testing/#stable&lt;/a&gt; æ‰¾åˆ°ä¸‹è½½èµ„æº&lt;/p&gt;
&lt;br&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€chromeç‰ˆæœ¬å·">ä¸€ã€Chromeç‰ˆæœ¬å·</h2>
<p>å°†Chromeçš„ç‰ˆæœ¬å·åˆ’åˆ†ä¸º</p>
<ul>
<li>å¤ä»£ç‰ˆæœ¬ 70.0.3538.16 ~ 114.0.5735.90</li>
<li>ç°ä»£ç‰ˆæœ¬ 127.0.6533.88 ~ 134.0.6998.165</li>
</ul>
<p><br><br></p>
<h2 id="äºŒchromedriverä¸‹è½½">äºŒã€chromedriverä¸‹è½½</h2>
<h3 id="21-å¤ä»£ç‰ˆæœ¬">2.1 å¤ä»£ç‰ˆæœ¬</h3>
<p>Chromeç‰ˆæœ¬å·åœ¨ 70.0.3538.16 ~ 114.0.5735.90 ä¹‹é—´çš„ï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¸‹è½½</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">å¹³å°      ä¸‹è½½é“¾æ¥
https://chromedriver.storage.googleapis.com/index.html

Linux64   https://chromedriver.storage.googleapis.com/{ç‰ˆæœ¬å·}/chromedriver_linux64.zip
Mac       https://chromedriver.storage.googleapis.com/{ç‰ˆæœ¬å·}/chromedriver_mac64.zip
Win32     https://chromedriver.storage.googleapis.com/{ç‰ˆæœ¬å·}/chromedriver_win32.zip
</code></pre></div><br>
<h3 id="22-è¿‘ä»£ç‰ˆæœ¬">2.2 è¿‘ä»£ç‰ˆæœ¬</h3>
<p>Chromeç‰ˆæœ¬å·åœ¨ 115.0.5739.0 ~ 127.0.6533.72 ä¹‹é—´çš„ï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¸‹è½½chromedriver</p>
<p><a href="https://chromedriver.storage.googleapis.com/115.0.5739.0/chromedriver_linux64.zip">https://chromedriver.storage.googleapis.com/115.0.5739.0/chromedriver_linux64.zip</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">å¹³å°          ä¸‹è½½é“¾æ¥

</code></pre></div><br>
<h3 id="23-ç°ä»£ç‰ˆæœ¬">2.3 ç°ä»£ç‰ˆæœ¬</h3>
<p>Chromeç‰ˆæœ¬å·åœ¨ 127.0.6533.88 ~ 134.0.6998.165 ä¹‹é—´çš„ï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¸‹è½½chromedriver</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">
å¹³å°          ä¸‹è½½é“¾æ¥
Linux64	      https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/linux64/chromedriver-linux64.zip

Mac(MèŠ¯ç‰‡)	   https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/mac-arm64/chromedriver-mac-arm64.zip

Mac            https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/mac-x64/chromedriver-mac-x64.zip

win32	       https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/win32/chromedriver-win32.zip

win64	       https://storage.googleapis.com/chrome-for-testing-public/{ç‰ˆæœ¬å·}/win64/chromedriver-win64.zip
</code></pre></div><br>
<p>æ­¤å¤–ï¼Œ æ›´æ–°çš„å¼€å‘ç‰ˆå¯ä»¥åœ¨æ­¤å¤„ <a href="https://googlechromelabs.github.io/chrome-for-testing/#stable">https://googlechromelabs.github.io/chrome-for-testing/#stable</a> æ‰¾åˆ°ä¸‹è½½èµ„æº</p>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ¨è | æ–‡æœ¬åˆ†æåº“ cntext ä½¿ç”¨æ‰‹å†Œ</title>
      <link>https://textdata.cn/blog/2024-04-27-cntext2x-usage-tutorial/</link>
      <pubDate>Fri, 14 Mar 2025 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-04-27-cntext2x-usage-tutorial/</guid>
      <description>ç¤¾ä¼šå­¦ã€ç»æµå­¦ã€ç®¡ç†å­¦ç­‰å­¦ç§‘é¢†åŸŸï¼Œä¸­æ–‡æ–‡æœ¬åˆ†æPythonåº“cntext2xã€‚</description>
      <content:encoded><![CDATA[<h2 id="cntexté¢å‘ç¤¾ä¼šç§‘å­¦ç ”ç©¶çš„ä¸­æ–‡æ–‡æœ¬åˆ†æå·¥å…·åº“">cntextï¼šé¢å‘ç¤¾ä¼šç§‘å­¦ç ”ç©¶çš„ä¸­æ–‡æ–‡æœ¬åˆ†æå·¥å…·åº“</h2>
<p>cntext æ˜¯ä¸“ä¸º<strong>ç¤¾ä¼šç§‘å­¦å®è¯ç ”ç©¶è€…</strong>è®¾è®¡çš„ä¸­æ–‡æ–‡æœ¬åˆ†æ Python åº“ã€‚å®ƒä¸æ­¢äºè¯é¢‘ç»Ÿè®¡å¼çš„ä¼ ç»Ÿæƒ…æ„Ÿåˆ†æï¼Œè¿˜æ‹¥æœ‰è¯åµŒå…¥è®­ç»ƒã€è¯­ä¹‰æŠ•å½±è®¡ç®—ï¼Œ<strong>å¯ä»å¤§è§„æ¨¡éç»“æ„åŒ–æ–‡æœ¬ä¸­æµ‹é‡æŠ½è±¡æ„å¿µ</strong>â€”â€”å¦‚æ€åº¦ã€è®¤çŸ¥ã€æ–‡åŒ–è§‚å¿µä¸å¿ƒç†çŠ¶æ€ã€‚</p>
<p>ğŸ¯ <strong>ä½ èƒ½ç”¨å®ƒåšä»€ä¹ˆ</strong></p>
<ol>
<li>
<p>æ„å»ºç»“æ„åŒ–ç ”ç©¶æ•°æ®é›†</p>
<ul>
<li>æ±‡æ€»å¤šä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ˆtxt/pdf/docx/csvï¼‰ä¸º DataFrameï¼š<code>ct.read_files()</code></li>
<li>æå–ä¸Šå¸‚å…¬å¸å¹´æŠ¥ä¸­çš„â€œç®¡ç†å±‚è®¨è®ºä¸åˆ†æâ€ï¼ˆMD&amp;Aï¼‰ï¼š<code>ct.extract_mda()</code></li>
<li>è®¡ç®—æ–‡æœ¬å¯è¯»æ€§æŒ‡æ ‡ï¼ˆå¦‚FleschæŒ‡æ•°ï¼‰ï¼š<code>ct.readability()</code></li>
</ul>
</li>
<li>
<p><strong>åŸºç¡€æ–‡æœ¬åˆ†æ(ä¼ ç»Ÿæ–¹æ³•)</strong></p>
<ul>
<li>è¯é¢‘ç»Ÿè®¡ä¸å…³é”®è¯æå–ï¼š<code>ct.word_count()</code></li>
<li>æƒ…æ„Ÿåˆ†æï¼ˆå¯é€‰hownetã€dutirç­‰å†…ç½®è¯å…¸ï¼‰ï¼š<code>ct.sentiment()</code></li>
<li>æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—ï¼ˆä½™å¼¦è·ç¦»ï¼‰ï¼š<code>ct.cosine_sim()</code></li>
</ul>
</li>
<li>
<p><strong>æµ‹é‡å†…éšæ€åº¦ä¸æ–‡åŒ–å˜è¿</strong></p>
<ul>
<li>ä¸¤è¡Œä»£ç è®­ç»ƒé¢†åŸŸä¸“ç”¨è¯å‘é‡ï¼ˆWord2Vec/GloVeï¼‰ï¼š<code>ct.Word2Vec()</code></li>
<li>æ„å»ºæ¦‚å¿µè¯­ä¹‰è½´ï¼ˆå¦‚â€œåˆ›æ–° vs å®ˆæ—§â€ï¼‰ï¼š<code>ct.generate_concept_axis()</code></li>
<li>é€šè¿‡è¯­ä¹‰æŠ•å½±é‡åŒ–åˆ»æ¿å°è±¡ã€ç»„ç»‡æ–‡åŒ–åç§»ï¼š<code>ct.project_text()</code></li>
<li>è®¡ç®—æ–‡æœ¬å¯¹åº”çš„è¯åµŒå…¥æŠ•å½±å¾—åˆ†WEPAï¼š<code>ct.wepa()</code></li>
</ul>
</li>
<li>
<p><strong>èåˆå¤§æ¨¡å‹è¿›è¡Œç»“æ„åŒ–åˆ†æ</strong></p>
<ul>
<li>è°ƒç”¨ LLM å¯¹æ–‡æœ¬è¿›è¡Œè¯­ä¹‰è§£æï¼Œè¿”å›ç»“æ„åŒ–ç»“æœï¼ˆå¦‚æƒ…ç»ªç»´åº¦ã€æ„å›¾åˆ†ç±»ï¼‰ï¼š<code>ct.llm()</code></li>
</ul>
</li>
</ol>
<p>cntext ä¸è¿½æ±‚é»‘ç®±é¢„æµ‹ï¼Œè€Œè‡´åŠ›äºè®©æ–‡æœ¬æˆä¸ºç†è®ºé©±åŠ¨çš„ç§‘å­¦æµ‹é‡å·¥å…·ã€‚ å¼€æºå…è´¹ï¼Œæ¬¢è¿å­¦ç•ŒåŒä»ä½¿ç”¨ã€éªŒè¯ä¸å…±å»ºã€‚</p>
<p><br><br></p>
<h2 id="å®‰è£…-cntext">å®‰è£… cntext</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install cntext --upgrade
</code></pre></div><br>
<p>éœ€è¦æ³¨æ„ï¼Œ <strong>cntext ä½¿ç”¨ç¯å¢ƒä¸º Python3.9 ~ 3.12</strong>,å¦‚å®‰è£…å¤±è´¥ï¼Œé—®é¢˜å¯èƒ½å‡ºåœ¨ python ç‰ˆæœ¬é—®é¢˜ï¼›</p>
<br>
<p>å¦‚cntextå®‰è£…æˆåŠŸï¼Œä½†æ˜¯å¯¼å…¥å¤±è´¥ï¼Œå¯å…ˆå°†scipyã€numpyã€gensimé™åˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œçœ‹èƒ½å¦è§£å†³é—®é¢˜ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip install scipy==1.12.0
pip install numpy==1.26.4
pip install gensim==4.3.3
</code></pre></div><p><br><br></p>
<h2 id="åŠŸèƒ½æ¨¡å—">åŠŸèƒ½æ¨¡å—</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="n">ct</span><span class="o">.</span><span class="n">hello</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/01-hello.jpg" alt=""  />
</p>
<p>cntext å« ioã€modelã€statsã€mind äº”ä¸ªæ¨¡å—</p>
<ol>
<li>å¯¼å…¥æ•°æ®ç”¨ io</li>
<li>è®­ç»ƒæ¨¡å‹æ‰©å±•è¯å…¸ç”¨ model</li>
<li>ç»Ÿè®¡è¯é¢‘ã€æƒ…æ„Ÿåˆ†æã€ç›¸ä¼¼åº¦ç­‰ç”¨ stats</li>
<li>å¯è§†åŒ–æ¨¡å— plot</li>
<li>æ€åº¦è®¤çŸ¥æ–‡åŒ–å˜è¿ç”¨ mind</li>
<li>å¤§æ¨¡å‹ LLM</li>
</ol>
<p>å‡½æ•°éƒ¨åˆ†åŠ ç²—çš„ä¸ºå¸¸ç”¨å‡½æ•°ã€‚</p>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.get_cntext_path()</em></strong></td>
<td>æŸ¥çœ‹ cntext å®‰è£…è·¯å¾„</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.get_dict_list()</em></strong></td>
<td>æŸ¥çœ‹ cntext å†…ç½®è¯å…¸</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><code>ct.get_files(fformat)</code></td>
<td>æŸ¥çœ‹ç¬¦åˆ fformat è·¯å¾„è§„åˆ™çš„æ‰€æœ‰çš„æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><code>ct.detect_encoding(file, num_lines=100)</code></td>
<td>è¯Šæ–­ txtã€csv ç¼–ç æ ¼å¼</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_yaml_dict(yfile)</em></strong></td>
<td>è¯»å–å†…ç½® yaml è¯å…¸</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_pdf(file)</em></strong></td>
<td>è¯»å– PDF æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_docx(file)</em></strong></td>
<td>è¯»å– docx æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_file(file, encodings)</em></strong></td>
<td>è¯»å–æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_files(fformat, encoding)</em></strong></td>
<td>è¯»å–ç¬¦åˆ fformat è·¯å¾„è§„åˆ™çš„æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè¿”å› df</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.extract_mda(text, kws_pattern)</em></strong></td>
<td>æå– A è‚¡å¹´æŠ¥ä¸­çš„ MD&amp;A æ–‡æœ¬å†…å®¹ã€‚å¦‚æœè¿”å›'',åˆ™æå–å¤±è´¥ã€‚</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.traditional2simple(text)</em></strong></td>
<td>ç¹ä½“è½¬ç®€ä½“</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.clean_text(text, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>æ ¹æ®æŒ‡å®šè¯­è¨€å¯¹æ–‡æœ¬è¿›è¡Œæ ‡å‡†åŒ–æ¸…æ´—ã€‚</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.fix_text(text)</em></strong></td>
<td>å°†ä¸æ­£å¸¸çš„ã€æ··ä¹±ç¼–ç çš„æ–‡æœ¬è½¬åŒ–ä¸ºæ­£å¸¸çš„æ–‡æœ¬ã€‚ä¾‹å¦‚å…¨è§’è½¬åŠè§’</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><code>ct.fix_contractions(text)</code></td>
<td>è‹±æ–‡ç¼©å†™(å«ä¿šè¯­è¡¨è¾¾)å¤„ç†ï¼Œ å¦‚ you&rsquo;re -&gt; you are</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.Word2Vec(corpus_file, encoding, lang=&lsquo;chinese&rsquo;, &hellip;)</em></strong></td>
<td>è®­ç»ƒ Word2Vec</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.GloVe(corpus_file, encoding, lang=&lsquo;chinese&rsquo;, &hellip;)</em></strong></td>
<td>GloVe, åº•å±‚ä½¿ç”¨çš„ <a href="https://github.com/standfordnlp/GloVe">Standfordnlp/GloVe</a></td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.evaluate_similarity(wv, file=None)</em></strong></td>
<td>ä½¿ç”¨è¿‘ä¹‰æ³•è¯„ä¼°æ¨¡å‹è¡¨ç°ï¼Œé»˜è®¤ä½¿ç”¨å†…ç½®çš„æ•°æ®è¿›è¡Œè¯„ä¼°ã€‚</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.evaluate_analogy(wv, file=None)</em></strong></td>
<td>ä½¿ç”¨ç±»æ¯”æ³•è¯„ä¼°æ¨¡å‹è¡¨ç°ï¼Œé»˜è®¤ä½¿ç”¨å†…ç½®çš„æ•°æ®è¿›è¡Œè¯„ä¼°ã€‚</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.glove2word2vec(glove_file, word2vec_file)</em></strong></td>
<td>å°† GLoVe æ¨¡å‹.txt æ–‡ä»¶è½¬åŒ–ä¸º Word2Vec æ¨¡å‹.txt æ–‡ä»¶ï¼› ä¸€èˆ¬å¾ˆå°‘ç”¨åˆ°</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.load_w2v(wv_path)</em></strong></td>
<td>è¯»å– cntext2.x è®­ç»ƒå‡ºçš„ Word2Vec/GloVe æ¨¡å‹æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.expand_dictionary(wv, seeddict, topn=100)</em></strong></td>
<td>æ‰©å±•è¯å…¸, ç»“æœä¿å­˜åˆ°è·¯å¾„[output/Word2Vec]ä¸­</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><code>ct.SoPmi(corpus_file, seed_file, lang='chinese')</code></td>
<td>å…±ç°æ³•æ‰©å±•è¯å…¸</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.word_count(text, lang='chinese')</code></td>
<td>è¯é¢‘ç»Ÿè®¡</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>readability(text, lang='chinese', syllables=3)</code></td>
<td>æ–‡æœ¬å¯è¯»æ€§</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.sentiment(text, diction, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>æ— (ç­‰)æƒé‡è¯å…¸çš„æƒ…æ„Ÿåˆ†æ</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.sentiment_by_valence(text, diction, lang='chinese')</code></td>
<td>å¸¦æƒé‡çš„è¯å…¸çš„æƒ…æ„Ÿåˆ†æ</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.word_in_context(text, keywords, window=3, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>åœ¨ text ä¸­æŸ¥æ‰¾ keywords å‡ºç°çš„ä¸Šä¸‹æ–‡å†…å®¹(çª—å£ window)ï¼Œè¿”å› df</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.epu()</em></strong></td>
<td>ä½¿ç”¨æ–°é—»æ–‡æœ¬æ•°æ®è®¡ç®—ç»æµæ”¿ç­–ä¸ç¡®å®šæ€§ EPUï¼Œè¿”å› df</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.fepu(text, ep_pattern='', u_pattern='')</em></strong></td>
<td>ä½¿ç”¨ md&amp;a æ–‡æœ¬æ•°æ®è®¡ç®—ä¼ä¸šä¸ç¡®å®šæ€§æ„ŸçŸ¥ FEPU</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.semantic_brand_score(text, brands, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>è¡¡é‡å“ç‰Œï¼ˆä¸ªä½“ã€å…¬å¸ã€å“ç‰Œã€å…³é”®è¯ç­‰ï¼‰çš„é‡è¦æ€§</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.cosine_sim(text1, text2, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>ä½™å¼¦ç›¸ä¼¼åº¦</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.jaccard_sim(text1, text2, lang='chinese')</code></td>
<td>Jaccard ç›¸ä¼¼åº¦</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.minedit_sim(text1, text2, lang='chinese')</code></td>
<td>æœ€å°ç¼–è¾‘è·ç¦»</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.word_hhi(text)</code></td>
<td>æ–‡æœ¬çš„èµ«èŠ¬è¾¾å°”-èµ«å¸Œæ›¼æŒ‡æ•°</td>
</tr>
<tr>
<td><strong><em>plot</em></strong></td>
<td><code>ct.matplotlib_chinese()</code></td>
<td>æ”¯æŒ matplotlib ä¸­æ–‡ç»˜å›¾</td>
</tr>
<tr>
<td><strong>plot</strong></td>
<td><code>ct.lexical_dispersion_plot1(text, targets_dict, lang, title, figsize)</code></td>
<td>å¯¹æŸä¸€ä¸ªæ–‡æœ¬ textï¼Œ å¯è§†åŒ–ä¸åŒç›®æ ‡ç±»åˆ«è¯ targets_dict åœ¨æ–‡æœ¬ä¸­å‡ºç°ä½ç½®</td>
</tr>
<tr>
<td><strong>plot</strong></td>
<td><code>ct.lexical_dispersion_plot2(texts_dict, targets, lang, title, figsize)</code></td>
<td>å¯¹æŸå‡ ä¸ªæ–‡æœ¬ texts_dictï¼Œ å¯è§†åŒ–æŸäº›ç›®æ ‡è¯ targets åœ¨æ–‡æœ¬ä¸­å‡ºç°ç›¸å¯¹ä½ç½®(0~100)</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.generate_concept_axis(wv, poswords, negwords)</code></td>
<td>ç”Ÿæˆæ¦‚å¿µè½´å‘é‡ã€‚</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><strong><em>tm = ct.Text2Mind(wv)</em></strong><br></td>
<td>å•ä¸ª word2vec å†…æŒ–æ˜æ½œåœ¨çš„æ€åº¦åè§ã€åˆ»æ¿å°è±¡ç­‰ã€‚tm å«å¤šé‡æ–¹æ³•</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>sematic_projection(wv, words, poswords, negwords, return_full=False, cosine=False)</code></td>
<td>æµ‹é‡è¯­ä¹‰æŠ•å½±</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.project_word(wv, a, b, cosine=False)</code></td>
<td>è®¡ç®—è¯è¯­ a åœ¨è¯è¯­ b ä¸Šçš„æŠ•å½±</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.project_text(wv, text, axis, lang='chinese', cosine=False)</code></td>
<td>è®¡ç®—è¯è¯­æ–‡æœ¬textåœ¨æ¦‚å¿µè½´å‘é‡axisä¸Šçš„æŠ•å½±å€¼</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.wepa(wv, text, poswords, negwords, lang='chinese')</code></td>
<td>è®¡ç®—æ–‡æœ¬åœ¨æ¦‚å¿µè½´ä¸Šçš„æŠ•å½±å¾—åˆ†ï¼Œè¿”å›wepaå¾—åˆ†</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.sematic_distance(wv, words1, words2)</code></td>
<td>æµ‹é‡è¯­ä¹‰è·ç¦»</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.divergent_association_task(wv, words)</code></td>
<td>æµ‹é‡å‘æ•£æ€ç»´(åˆ›é€ åŠ›)</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.discursive_diversity_score(wv, words)</code></td>
<td>æµ‹é‡è¯­è¨€å·®å¼‚æ€§(è®¤çŸ¥å·®å¼‚æ€§)</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><strong>ct.procrustes_align(base_wv, other_wv)</strong></td>
<td>ä¸¤ä¸ª word2vec è¿›è¡Œè¯­ä¹‰å¯¹é½ï¼Œå¯ååº”éšæ—¶é—´çš„ç¤¾ä¼šè¯­ä¹‰å˜è¿</td>
</tr>
<tr>
<td><strong><em>LLM</em></strong></td>
<td><strong>ct.llm(text, prompt, output_format, task, backend, base_url, api_key, model_name, temperature)</strong></td>
<td>è°ƒç”¨å¤§æ¨¡å‹æ‰§è¡Œç»“æ„åŒ–æ–‡æœ¬åˆ†æä»»åŠ¡ï¼ˆå¦‚æƒ…æ„Ÿåˆ†æã€å…³é”®è¯æå–ã€åˆ†ç±»ç­‰ï¼‰ã€‚</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<h2 id="quickstart">QuickStart</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;å½“å‰cntextç‰ˆæœ¬: &#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="n">help</span><span class="p">(</span><span class="n">ct</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">å½“å‰cntextç‰ˆæœ¬</span><span class="p">:</span> <span class="mf">2.1.7</span>

<span class="nx">Help</span> <span class="nx">on</span> <span class="kn">package</span> <span class="nx">cntext</span><span class="p">:</span>

<span class="nx">NAME</span>
    <span class="nx">cntext</span>

<span class="nx">PACKAGE</span> <span class="nx">CONTENTS</span>
    <span class="nx">io</span>
    <span class="nx">mind</span>
    <span class="nx">model</span>
    <span class="nx">stats</span>
    <span class="nx">llm</span>
<span class="o">...</span>
</code></pre></div><br>
<br>
<h2 id="ä¸€io-æ¨¡å—">ä¸€ã€IO æ¨¡å—</h2>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.get_dict_list()</em></strong></td>
<td>æŸ¥çœ‹ cntext å†…ç½®è¯å…¸</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_yaml_dict(yfile)</em></strong></td>
<td>è¯»å–å†…ç½® yaml è¯å…¸</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><code>ct.detect_encoding(file, num_lines=100)</code></td>
<td>è¯Šæ–­ txtã€csv ç¼–ç æ ¼å¼</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><code>ct.get_files(fformat)</code></td>
<td>æŸ¥çœ‹ç¬¦åˆ fformat è·¯å¾„è§„åˆ™çš„æ‰€æœ‰çš„æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_yaml_dict(yfile)</em></strong></td>
<td>è¯»å–å†…ç½® yaml è¯å…¸</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_pdf(file)</em></strong></td>
<td>è¯»å– PDF æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_file(file, encoding)</em></strong></td>
<td>è¯»å–æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.read_files(fformat, encoding)</em></strong></td>
<td>è¯»å–ç¬¦åˆ fformat è·¯å¾„è§„åˆ™çš„æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè¿”å› df</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.extract_mda(text, kws_pattern)</em></strong></td>
<td>æå– A è‚¡å¹´æŠ¥ä¸­çš„ MD&amp;A æ–‡æœ¬å†…å®¹ã€‚å¦‚æœè¿”å›'',åˆ™æå–å¤±è´¥ã€‚</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.traditional2simple(text)</em></strong></td>
<td>ç¹ä½“è½¬ç®€ä½“</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><strong><em>ct.fix_text(text)</em></strong></td>
<td>å°†ä¸æ­£å¸¸çš„ã€æ··ä¹±ç¼–ç çš„æ–‡æœ¬è½¬åŒ–ä¸ºæ­£å¸¸çš„æ–‡æœ¬ã€‚ä¾‹å¦‚å…¨è§’è½¬åŠè§’</td>
</tr>
<tr>
<td><strong>io</strong></td>
<td><code>ct.fix_contractions(text)</code></td>
<td>è‹±æ–‡ç¼©å†™(å«ä¿šè¯­è¡¨è¾¾)å¤„ç†ï¼Œ å¦‚ you&rsquo;re -&gt; you are</td>
</tr>
</tbody>
</table>
<h3 id="11-get_dict_list">1.1 get_dict_list()</h3>
<p>æŸ¥çœ‹ cntext å†…ç½®è¯å…¸</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">ct</span><span class="o">.</span><span class="n">get_dict_list</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;zh_common_NTUSD.yaml&#39;,
 &#39;zh_common_DUTIR.yaml&#39;,
 &#39;enzh_common_StopWords.yaml&#39;,
 &#39;en_valence_Concreteness.yaml&#39;,
 &#39;en_common_LoughranMcDonald.yaml&#39;,
 &#39;zh_common_FinanceSenti.yaml&#39;,
 &#39;zh_common_FLS.yaml&#39;,
 &#39;zh_common_TsinghuaPraiseDegrade.yaml&#39;,
 &#39;zh_common_FEPU.yaml&#39;,
 &#39;en_common_ANEW.yaml&#39;,
 &#39;en_common_NRC.yaml&#39;,
 &#39;zh_valence_ChineseEmoBank.yaml&#39;,
 &#39;zh_valence_SixSemanticDimensionDatabase.yaml&#39;,
 &#39;zh_common_FinacialFormalUnformal.yaml&#39;,
 &#39;zh_common_LoughranMcDonald.yaml&#39;,
 &#39;enzh_common_AdvConj.yaml&#39;,
 &#39;en_common_SentiWS.yaml&#39;,
 &#39;zh_common_Digitalization.yaml&#39;,
 &#39;en_common_LSD2015.yaml&#39;,
 &#39;zh_common_HowNet.yaml&#39;,
 &#39;zh_common_EPU.yaml&#39;]
</code></pre></div><h3 id="12-å†…ç½®-yaml-è¯å…¸">1.2 å†…ç½® yaml è¯å…¸</h3>
<table>
<thead>
<tr>
<th>pkl æ–‡ä»¶</th>
<th>è¯å…¸</th>
<th>è¯­è¨€</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>zh_valence_ChineseEmoBank.yaml</em></strong></td>
<td>ä¸­æ–‡æƒ…æ„Ÿè¯å…¸ï¼Œå«<code>æ•ˆä»·valence</code>å’Œ<code>å”¤é†’åº¦arousal</code>ã€‚åœ¨ cntext ä¸­ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº† CVAW è¯è¡¨(å•è¯)ï¼Œå…¶ä»–è¯å…¸å¦‚ CVAP, CVAS, CVAT æ²¡æœ‰çº³å…¥åˆ° ChineseEmoBank.pkl.</td>
<td>Chinese</td>
<td><code>æ•ˆä»·valence</code>å’Œ<code>å”¤é†’åº¦arousal</code></td>
</tr>
<tr>
<td><strong><em>zh_common_DUTIR.yaml</em></strong></td>
<td>å¤§è¿ç†å·¥å¤§å­¦æƒ…æ„Ÿæœ¬ä½“åº“</td>
<td>ä¸­æ–‡</td>
<td>ä¸ƒå¤§ç±»æƒ…ç»ªï¼Œ<code>å“€, å¥½, æƒŠ, æƒ§, ä¹, æ€’, æ¶</code></td>
</tr>
<tr>
<td><strong><em>zh_common_HowNet.yaml</em></strong></td>
<td>çŸ¥ç½‘ Hownet è¯å…¸</td>
<td>ä¸­æ–‡</td>
<td>æ­£é¢è¯ã€è´Ÿé¢è¯</td>
</tr>
<tr>
<td><code>en_common_SentiWS.yaml</code></td>
<td>SentimentWortschatz (SentiWS)</td>
<td>å¾·æ–‡</td>
<td>æ­£é¢è¯ã€è´Ÿé¢è¯ï¼›<br></td>
</tr>
<tr>
<td><strong><em>zh_common_FinacialFormalUnformal.yaml</em></strong></td>
<td>é‡‘èé¢†åŸŸæ­£å¼ã€éæ­£å¼ï¼›ç§¯ææ¶ˆæ</td>
<td>ä¸­æ–‡</td>
<td>formal-posã€<br>formal-negï¼›<br>unformal-posã€<br>unformal-neg</td>
</tr>
<tr>
<td><code>en_common_ANEW.yaml</code></td>
<td>è‹±è¯­å•è¯çš„æƒ…æ„Ÿè§„èŒƒ Affective Norms for English Words (ANEW)</td>
<td>è‹±æ–‡</td>
<td>pleasure, arousal, dominance</td>
</tr>
<tr>
<td><code>en_common_LSD2015.yaml</code></td>
<td>Lexicoder Sentiment Dictionary (2015)</td>
<td>è‹±æ–‡</td>
<td>æ­£é¢è¯ã€è´Ÿé¢è¯</td>
</tr>
<tr>
<td><code>en_common_NRC.yaml</code></td>
<td>NRC Word-Emotion Association Lexicon</td>
<td>è‹±æ–‡</td>
<td>ç»†ç²’åº¦æƒ…ç»ªè¯ï¼›</td>
</tr>
<tr>
<td><strong><em>zh_valence_SixSemanticDimensionDatabase.yaml</em></strong></td>
<td><a href="https://textdata.cn/blog/2023-03-20-nature-six-semantic-dimension-database/"><strong>é€šç”¨ä¸­è‹±æ–‡å…­ç»´è¯­ä¹‰æƒ…æ„Ÿè¯å…¸</strong></a>, å« 17940 ä¸ªä¸­æ–‡è¯çš„å…­ç»´åº¦è¯åº“ï¼Œ ä¸”æ¯ä¸ªç»´åº¦æœ‰æƒé‡ã€‚</td>
<td>ä¸­æ–‡</td>
<td>visionã€socialnessã€emotionã€timeã€spaceã€motor</td>
</tr>
<tr>
<td><code>enzh_common_AdvConj.yaml</code></td>
<td>å‰¯è¯è¿è¯</td>
<td>ä¸­ã€è‹±</td>
<td></td>
</tr>
<tr>
<td><strong><em>enzh_common_StopWords.yaml</em></strong></td>
<td>ä¸­è‹±æ–‡åœç”¨è¯</td>
<td>ä¸­ã€è‹±</td>
<td>åœç”¨è¯</td>
</tr>
<tr>
<td><strong><em>en_valence_Concreteness.yaml</em></strong></td>
<td><a href="https://textdata.cn/blog/jcr_concreteness_computation/">è‹±æ–‡å…·ä½“æ€§è¯å…¸</a></td>
<td>English</td>
<td>word &amp; concreateness score</td>
</tr>
<tr>
<td><strong><em>zh_common_LoughranMcDonald.yaml</em></strong></td>
<td>ä¸­æ–‡ LoughranMcDonald è¯å…¸</td>
<td>ä¸­æ–‡</td>
<td>æ­£é¢ã€è´Ÿé¢è¯</td>
</tr>
<tr>
<td><strong><em>zh_common_Digitalization.yaml</em></strong></td>
<td><a href="https://textdata.cn/blog/2022-11-03-mda-measure-digitalization/">ç®¡ç†ä¸–ç•Œ|å´é(2021)æ•°å­—åŒ–è¯å…¸</a></td>
<td>ä¸­æ–‡</td>
<td>å«äººå·¥æ™ºèƒ½æŠ€æœ¯ã€å¤§æ•°æ®æŠ€æœ¯ã€äº‘è®¡ç®—æŠ€æœ¯ã€åŒºå—é“¾æŠ€æœ¯ã€æ•°å­—æŠ€æœ¯åº”ç”¨ç­‰å…³é”®è¯åˆ—è¡¨ã€‚</td>
</tr>
<tr>
<td><strong><em>en_common_LoughranMcDonald.yaml</em></strong></td>
<td>è‹±æ–‡ LoughranMcDonald è¯å…¸</td>
<td>è‹±æ–‡</td>
<td>é‡‘è LM æƒ…ç»ªè¯å…¸ 2018 å¹´ç‰ˆæœ¬ï¼Œå«ä¸ƒä¸ªè¯è¡¨ï¼Œåˆ†åˆ«æ˜¯ Negative, Positive, Uncertainty, Litigious, StrongModal, WeakModal, Constraining</td>
</tr>
<tr>
<td><strong><em>zh_common_FLS.yaml</em></strong></td>
<td><a href="https://textdata.cn/blog/2023-09-08-earnings-communication-conference-forward-looking-statements-information/"><strong>ä¸šç»©è¯´æ˜ä¼šå‰ç»æ€§è¯å…¸é›†</strong></a></td>
<td>ä¸­æ–‡</td>
<td>å« 174 ä¸ªè¯è¯­</td>
</tr>
<tr>
<td><strong><em>zh_common_RhetoricalNationalism.yaml</em></strong></td>
<td>ä¿®è¾æ°‘æ—ä¸»ä¹‰</td>
<td>ä¸­æ–‡</td>
<td>å«å››ä¸ªç»´åº¦ï¼Œæ°‘æ—è‡ªè±ªæ„Ÿã€æ°‘æ—å¤å…´ã€ä¼ä¸šè§’è‰²ã€æ’å¤–ä¸»ä¹‰ï¼Œæ¯ä¸ªç»´åº¦ 100 ä¸ªè¯ã€‚</td>
</tr>
</tbody>
</table>
<br>
<h3 id="13-read_dict_yaml">1.3 read_dict_yaml()</h3>
<p>ä½¿ç”¨ cntext è¯»å– <strong><em>.yaml</em></strong> è¯å…¸æ–‡ä»¶ï¼› è¿”å›çš„ä¿¡æ¯åŒ…æ‹¬</p>
<ul>
<li>Name è¯å…¸çš„åå­—</li>
<li>Desc è¯å…¸çš„å«ä¹‰ã€æ¦‚å¿µè§£é‡Š</li>
<li>Refer è¯å…¸æ–‡çŒ®å‡ºå¤„</li>
<li>Category è¯å…¸ Dictionary çš„å…³é”®è¯</li>
<li>Dictionary è¯å…¸, python å­—å…¸æ ¼å¼</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">read_yaml_dict</span><span class="p">(</span><span class="s1">&#39;zh_common_Digitalization.yaml&#39;</span><span class="p">))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;Name&#39;: &#39;ä¸­æ–‡æ•°å­—åŒ–è¯å…¸&#39;,
&#39;Desc&#39;: &#39;åŸºäºè¿™ç¯‡è®ºæ–‡ï¼Œæ„å»ºäº†ä¸­æ–‡æ•°å­—åŒ–è¯å…¸ï¼Œå«äººå·¥æ™ºèƒ½æŠ€æœ¯ã€å¤§æ•°æ®æŠ€æœ¯ã€äº‘è®¡ç®—æŠ€æœ¯ã€åŒºå—é“¾æŠ€æœ¯ã€æ•°å­—æŠ€æœ¯åº”ç”¨ç­‰å…³é”®è¯åˆ—è¡¨ã€‚ &#39;, &#39;Refer&#39;: &#39;å´é,èƒ¡æ…§èŠ·,æ—æ…§å¦,ä»»æ™“æ€¡. ä¼ä¸šæ•°å­—åŒ–è½¬å‹ä¸èµ„æœ¬å¸‚åœºè¡¨ç°â€”â€”æ¥è‡ªè‚¡ç¥¨æµåŠ¨æ€§çš„ç»éªŒè¯æ®[J]. ç®¡ç†ä¸–ç•Œ,2021,37(07):130-144+10.&#39;,
&#39;Category&#39;: [&#39;Artificial_Intelligence&#39;, &#39;Big_Data&#39;, &#39;Cloud_Computing&#39;, &#39;Block_Chains&#39;, &#39;Usage_of_Digitalization&#39;],

&#39;Dictionary&#39;:
    {&#39;Artificial_Intelligence&#39;: [&#39;äººå·¥æ™ºèƒ½&#39;, &#39;å•†ä¸šæ™ºèƒ½&#39;, &#39;å›¾åƒç†è§£&#39;, &#39;æŠ•èµ„å†³ç­–è¾…åŠ©ç³»ç»Ÿ&#39;, &#39;æ™ºèƒ½æ•°æ®åˆ†æ&#39;, &#39;æ™ºèƒ½æœºå™¨äºº&#39;, &#39;æœºå™¨å­¦ä¹ &#39;, &#39;æ·±åº¦å­¦ä¹ &#39;, &#39;è¯­ä¹‰æœç´¢&#39;, &#39;ç”Ÿç‰©è¯†åˆ«æŠ€æœ¯&#39;, &#39;äººè„¸è¯†åˆ«&#39;, &#39;è¯­éŸ³è¯†åˆ«&#39;, &#39;èº«ä»½éªŒè¯&#39;, &#39;è‡ªåŠ¨é©¾é©¶&#39;, &#39;è‡ªç„¶è¯­è¨€å¤„ç†&#39;],
    &#39;Big_Data&#39;: [&#39;å¤§æ•°æ®&#39;, &#39;æ•°æ®æŒ–æ˜&#39;, &#39;æ–‡æœ¬æŒ–æ˜&#39;, &#39;æ•°æ®å¯è§†åŒ–&#39;, &#39;å¼‚æ„æ•°æ®&#39;, &#39;å¾ä¿¡&#39;, &#39;å¢å¼ºç°å®&#39;, &#39;æ··åˆç°å®&#39;, &#39;è™šæ‹Ÿç°å®&#39;],
    &#39;Cloud_Computing&#39;: [&#39;äº‘è®¡ç®—&#39;, &#39;æµè®¡ç®—&#39;, &#39;å›¾è®¡ç®—&#39;, &#39;å†…å­˜è®¡ç®—&#39;, &#39;å¤šæ–¹å®‰å…¨è®¡ç®—&#39;, &#39;ç±»è„‘è®¡ç®—&#39;, &#39;ç»¿è‰²è®¡ç®—&#39;, &#39;è®¤çŸ¥è®¡ç®—&#39;, &#39;èåˆæ¶æ„&#39;, &#39;äº¿çº§å¹¶å‘&#39;, &#39;EBçº§å­˜å‚¨&#39;, &#39;ç‰©è”ç½‘&#39;, &#39;ä¿¡æ¯ç‰©ç†ç³»ç»Ÿ&#39;],
    &#39;Block_Chains&#39;: [&#39;åŒºå—é“¾&#39;, &#39;æ•°å­—è´§å¸&#39;, &#39;åˆ†å¸ƒå¼è®¡ç®—&#39;, &#39;å·®åˆ†éšç§æŠ€æœ¯&#39;, &#39;æ™ºèƒ½é‡‘èåˆçº¦&#39;],
    &#39;Usage_of_Digitalization&#39;: [&#39;ç§»åŠ¨äº’è”ç½‘&#39;, &#39;å·¥ä¸šäº’è”ç½‘&#39;, &#39;ç§»åŠ¨äº’è”&#39;, &#39;äº’è”ç½‘åŒ»ç–—&#39;, &#39;ç”µå­å•†åŠ¡&#39;, &#39;ç§»åŠ¨æ”¯ä»˜&#39;, &#39;ç¬¬ä¸‰æ–¹æ”¯ä»˜&#39;, &#39;NFCæ”¯ä»˜&#39;, &#39;æ™ºèƒ½èƒ½æº&#39;, &#39;B2B&#39;, &#39;B2C&#39;, &#39;C2B&#39;, &#39;C2C&#39;, &#39;O2O&#39;, &#39;ç½‘è”&#39;, &#39;æ™ºèƒ½ç©¿æˆ´&#39;, &#39;æ™ºæ…§å†œä¸š&#39;, &#39;æ™ºèƒ½äº¤é€š&#39;, &#39;æ™ºèƒ½åŒ»ç–—&#39;, &#39;æ™ºèƒ½å®¢æœ&#39;, &#39;æ™ºèƒ½å®¶å±…&#39;, &#39;æ™ºèƒ½æŠ•é¡¾&#39;, &#39;æ™ºèƒ½æ–‡æ—…&#39;, &#39;æ™ºèƒ½ç¯ä¿&#39;, &#39;æ™ºèƒ½ç”µç½‘&#39;, &#39;æ™ºèƒ½è¥é”€&#39;, &#39;æ•°å­—è¥é”€&#39;, &#39;æ— äººé›¶å”®&#39;, &#39;äº’è”ç½‘é‡‘è&#39;, &#39;æ•°å­—é‡‘è&#39;, &#39;Fintech&#39;, &#39;é‡‘èç§‘æŠ€&#39;, &#39;é‡åŒ–é‡‘è&#39;, &#39;å¼€æ”¾é“¶è¡Œ&#39;]}}
</code></pre></div><br>
<h3 id="14-detect_encoding">1.4 detect_encoding()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.detect_encoding(file)
</code></pre></div><p>é€šè¿‡è¯»å–å‰ num_lines æ¥è¯†åˆ« txt/csv æ–‡ä»¶çš„ç¼–ç æ ¼å¼</p>
<ul>
<li><strong><em>file</em></strong> æ–‡ä»¶è·¯å¾„</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#è¯»å–dataæ–‡ä»¶å¤¹ä¸‹çš„ã€ä¸‰ä½“.txtã€‘</span>
<span class="c1">#è¯†åˆ«ç¼–ç æ–¹å¼</span>
<span class="n">ct</span><span class="o">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;data/ä¸‰ä½“.txt&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">utf-8
</code></pre></div><br>
<h3 id="15-get_filesfformat">1.5 get_files(fformat)</h3>
<ul>
<li><strong>fformat</strong> fformat æ ¼å¼æ”¯æŒ txt/pdf/docx/xlsx/csv ç­‰ã€‚ <code>*</code>è¡¨ç¤ºé€šé…ç¬¦</li>
</ul>
<p>æŸ¥çœ‹ç¬¦åˆ fformat è·¯å¾„è§„åˆ™çš„æ‰€æœ‰çš„æ–‡ä»¶ï¼Œ fformat æ ¼å¼æ”¯æŒ txt/pdf/docx/xlsx/csv ç­‰ã€‚ <code>*</code>è¡¨ç¤ºé€šé…ç¬¦</p>
<table>
<thead>
<tr>
<th>fformat æ ¼å¼</th>
<th>è¯†åˆ«çš„æ–‡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*.txt</code></td>
<td>åŒ¹é…å½“å‰ä»£ç æ‰€åœ¨è·¯å¾„å†…çš„æ‰€æœ‰ txt</td>
</tr>
<tr>
<td><code>*.pdf</code></td>
<td>åŒ¹é…å½“å‰ä»£ç æ‰€åœ¨è·¯å¾„å†…çš„æ‰€æœ‰ pdf</td>
</tr>
<tr>
<td><code>data/*.txt</code></td>
<td>åŒ¹é…ã€Œæ–‡ä»¶å¤¹ dataã€å†…æ‰€æœ‰çš„ txt</td>
</tr>
<tr>
<td><br></td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#æŸ¥çœ‹ã€æ–‡ä»¶å¤¹dataã€‘å†…æ‰€æœ‰çš„ txtæ–‡ä»¶ã€‚</span>
<span class="n">ct</span><span class="o">.</span><span class="n">get_files</span><span class="p">(</span><span class="n">fformat</span><span class="o">=</span><span class="s1">&#39;data/*.txt&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;data/ä¸‰ä½“.txt&#39;,
 &#39;data/santi.txt&#39;,
 &#39;data/w2v_corpus.txt&#39;,
 &#39;data/sopmi_corpus.txt&#39;,
 &#39;data/brown_corpus.txt&#39;,
 &#39;data/sopmi_seed_words.txt&#39;]
</code></pre></div><br>
<h3 id="16-read_pdf">1.6 read_pdf</h3>
<p>è¯»å– PDFï¼Œè¿”å›æ–‡æœ¬å†…å®¹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>file</em></strong> PDF æ–‡ä»¶è·¯å¾„</li>
</ul>
<p>ç‚¹å‡» <a href="https://textdata.cn/data/%E6%A0%BC%E5%8A%9B%E7%94%B5%E5%99%A82023.pdf"><strong>æ ¼åŠ›ç”µå™¨ 2023.pdf</strong></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s1">&#39;æ ¼åŠ›ç”µå™¨2023.pdf&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡
ç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸
2023å¹´å¹´åº¦æŠ¥å‘Š


äºŒã€‡äºŒå››å¹´å››æœˆ
ç æµ·æ ¼åŠ›ç”µå™¨è‚¡ä»½æœ‰é™å…¬å¸ 2023å¹´å¹´åº¦æŠ¥å‘Šå…¨æ–‡
 ç¬¬ 2 é¡µ å…± 249 é¡µ ç¬¬ä¸€èŠ‚ é‡è¦æç¤ºã€ç›®å½•å’Œé‡Šä¹‰
å…¬å¸è‘£äº‹ä¼šã€ç›‘äº‹ä¼šåŠè‘£äº‹ã€ç›‘äº‹ã€é«˜çº§ç®¡ç†äººå‘˜ä¿è¯å¹´åº¦æŠ¥å‘Šå†…å®¹
çš„çœŸå®ã€å‡†ç¡®ã€å®Œæ•´ï¼Œä¸å­˜åœ¨è™šå‡è®°è½½ã€è¯¯å¯¼æ€§é™ˆè¿°æˆ–é‡å¤§é—æ¼ï¼Œå¹¶æ‰¿æ‹…
ä¸ªåˆ«å’Œè¿å¸¦çš„æ³•å¾‹
......
</code></pre></div><br>
<h3 id="17-read_docx">1.7 read_docx</h3>
<p>è¯»å– docxï¼Œè¿”å›æ–‡æœ¬å†…å®¹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">read_docx</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>file</em></strong> docx æ–‡ä»¶è·¯å¾„</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_docx</span><span class="p">(</span><span class="s1">&#39;test.docx&#39;</span><span class="p">)</span>
<span class="n">text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿™æ˜¯æ¥è‡ªtest.docxé‡Œå†…å®¹
</code></pre></div><br>
<h3 id="18-read_file">1.8 read_file()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.read_file(file, encoding=&#39;utf-8&#39;)
</code></pre></div><ul>
<li><strong>file</strong> å¾…è¯»å–çš„æ–‡ä»¶è·¯å¾„ï¼› æ”¯æŒ txtã€pdfã€docxã€xlsxã€xlsï¼Œ è¿”å› DataFrame(å« doc å’Œ file ä¸¤ä¸ªå­—æ®µ)ã€‚</li>
<li><strong>encoding</strong> å¾…è¯»å–æ–‡ä»¶çš„ç¼–ç æ–¹å¼</li>
</ul>
<p>ä»¥ <code>data/ä¸‰ä½“.txt</code> ä¸ºä¾‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#é»˜è®¤encoding=&#39;utf-8&#39;</span>
<span class="c1">#sdf = ct.read_file(file=&#39;data/ä¸‰ä½“.txt&#39;)</span>

<span class="n">sdf</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;data/ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">sdf</span>
</code></pre></div><p><img loading="lazy" src="img/01-san_ti_df.png" alt=""  />
</p>
<br>
<h3 id="19-read_files">1.9 read_files()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.read_files(fformat, encoding=&#39;utf-8&#39;ï¼‰
</code></pre></div><p>æ‰¹é‡è¯»å–ç¬¦åˆ fformat æ ¼å¼çš„æ‰€æœ‰æ–‡ä»¶æ•°æ®ï¼Œè¿”å› DataFrame(å« doc å’Œ file ä¸¤ä¸ªå­—æ®µ)ã€‚</p>
<p>è¯»å–[æ–‡ä»¶å¤¹ data é‡Œæ‰€æœ‰ txt]</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#é»˜è®¤encoding=&#39;utf-8&#39;</span>
<span class="c1">#ddf = ct.read_files(fformat=&#39;data/*.txt&#39;)</span>

<span class="n">ddf</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_files</span><span class="p">(</span><span class="n">fformat</span><span class="o">=</span><span class="s1">&#39;data/*.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">ddf</span>
</code></pre></div><p><img loading="lazy" src="img/02-ddf.png" alt=""  />
</p>
<br>
<h3 id="110-extract_mda">1.10 extract_mda</h3>
<p>æå– A è‚¡å¹´æŠ¥ä¸­çš„ MD&amp;A æ–‡æœ¬å†…å®¹ã€‚å¦‚æœè¿”å›'',åˆ™æå–å¤±è´¥ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.extract_mda(text, kws_pattern=&#39;&#39;)
</code></pre></div><ul>
<li>text ä¸­å›½ A è‚¡å¹´æŠ¥åŸå§‹æ–‡æœ¬</li>
<li>kws_pattern ç®¡ç†å±‚è®¨è®ºä¸åˆ†æç« èŠ‚è¯†åˆ«å…³é”®è¯çš„æ¨¡æ¿ã€‚cntext å†…ç½®çš„ kws_pattern å†…å®¹å¦‚ä¸‹</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">kws_pattern = &#39;è‘£äº‹ä¼šæŠ¥å‘Š|è‘£äº‹ä¼šæŠ¥å‘Šä¸ç®¡ç†è®¨è®º|ä¼ä¸šè¿è¥ä¸ç®¡ç†è¯„è¿°|ç»è¥æ€»ç»“ä¸åˆ†æ|ç®¡ç†å±‚è¯„ä¼°ä¸æœªæ¥å±•æœ›|è‘£äº‹å±€æŠ¥å‘Š|ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ|ç»è¥æƒ…å†µè®¨è®ºä¸åˆ†æ|ç»è¥ä¸šç»©åˆ†æ|ä¸šåŠ¡å›é¡¾ä¸å±•æœ›|å…¬å¸ç»è¥åˆ†æ|ç®¡ç†å±‚è¯„è®ºä¸åˆ†æ|æ‰§è¡Œæ‘˜è¦ä¸ä¸šåŠ¡å›é¡¾|ä¸šåŠ¡è¿è¥åˆ†æ&#39;
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s1">&#39;æ ¼åŠ›ç”µå™¨2023.pdf&#39;</span><span class="p">)</span>
<span class="n">mda_text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">extract_mda</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mda_text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&#39;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ  \nä¸€ã€æŠ¥å‘ŠæœŸå†…å…¬å¸æ‰€å¤„è¡Œä¸šæƒ…å†µ  \nï¼ˆä¸€ï¼‰è¡Œä¸šå‘å±•ç°çŠ¶  \n1.æ¶ˆè´¹é¢†åŸŸ â€”â€”å®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿ï¼Œç©ºè°ƒå¸‚åœºæ¢å¤æ˜æ˜¾  \n2023å¹´ï¼Œä¸­å›½ç»æµä¿æŒäº†æ•´ä½“æ¢å¤å‘å¥½çš„æ€åŠ¿ï¼Œæ¿€å‘æ¶ˆè´¹æ˜¯ç¨³å¢é•¿çš„é‡ä¸­ä¹‹é‡ã€‚å›½å®¶é¼“åŠ±å’Œæ¨åŠ¨æ¶ˆè´¹å“ä»¥æ—§æ¢\næ–°ï¼Œä¿ƒè¿›æ¶ˆè´¹ç»æµå¤§å¾ªç¯ï¼ŒåŠ é€Ÿæ›´æ–°éœ€æ±‚é‡Šæ”¾ï¼Œæ¨åŠ¨é«˜èƒ½æ•ˆäº§å“è®¾å¤‡é”€å”®å’Œå‡ºå£å¢é•¿ï¼Œè¿›ä¸€æ­¥æ¿€å‘ç»¿è‰²æ¶ˆè´¹æ½œåŠ›ã€‚  \n1ï¼‰å®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿  \n2023å¹´ï¼Œå›½å†…ç»æµæ¢å¤æ˜æ˜¾ï¼Œå®¶ç”µè¡Œä¸šç¨³å®šå¢é•¿ã€‚æ ¹æ®å…¨å›½å®¶ç”¨ç”µå™¨å·¥ä¸šä¿¡æ¯ä¸­å¿ƒå‘å¸ƒçš„ã€Š 2023å¹´ä¸­å›½å®¶ç”µ\nè¡Œä¸šå¹´åº¦æŠ¥å‘Šã€‹ï¼Œå®¶ç”µè¡Œä¸šå¤–é”€æ˜æ˜¾å¢é•¿ï¼Œå‡ºå£è§„æ¨¡ä¸º 6,174äº¿å…ƒï¼ŒåŒæ¯”å¢é•¿ 9.9%ï¼›å›½å†…å¸‚åœºå®ç°ç¨³æ­¥å¢é•¿ï¼Œé”€å”®\nè§„æ¨¡ä¸º7&#39;
.......
.......
</code></pre></div><br>
<p>ä»¥<a href="https://textdata.cn/blog/2023-03-23-china-a-share-market-dataset-mda-from-01-to-21/">2001 å¹´~2023 ä¼šè®¡å¹´åº¦æŠ¥å‘Šæ•°æ®é›†</a>ä¸ºä¾‹ï¼Œ æŸ¥çœ‹ <strong><em>extract_mda</em></strong> çš„æŠ½å– mda çš„èƒ½åŠ›ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;extract_mdaè¯†åˆ«èƒ½åŠ›&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">2024</span><span class="p">):</span>
    <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;å¹´æŠ¥txt/</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">/*.txt&#39;</span><span class="p">):</span>
        <span class="n">mda_text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">extract_mda</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">mda_text</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="n">volume</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;å¹´æŠ¥txt/</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">/*.txt&#39;</span><span class="p">))</span>
    <span class="n">ratio</span> <span class="o">=</span> <span class="n">num</span><span class="o">/</span><span class="n">volume</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">ratio</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">2001: 0.24
2002: 0.37
2003: 0.43
2004: 0.70
2005: 0.77
2006: 0.78
2007: 0.79
2008: 0.77
2009: 0.79
2010: 0.82
2011: 0.84
2012: 0.96
2013: 0.95
2014: 0.98
2015: 0.98
2016: 0.99
2017: 0.98
2018: 0.98
2019: 0.99
2020: 0.97
2021: 0.98
2022: 0.99
2023: 0.99
</code></pre></div><p>å»ºè®®å„ä½ç”¨æœ€è¿‘ 10 å¹´çš„å¹´æŠ¥æ•°æ®ï¼Œé€šè¿‡ extract_mda æå– mda æ–‡æœ¬ï¼Œæˆ–è€…ç›´æ¥è´­ä¹° [æ•°æ®é›† | 2001-2023 å¹´ A è‚¡ä¸Šå¸‚å…¬å¸å¹´æŠ¥&amp;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ](æ•°æ®é›† | 2001-2023 å¹´ A è‚¡ä¸Šå¸‚å…¬å¸å¹´æŠ¥&amp;ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ)</p>
<br>
<h3 id="111-traditional2simple">1.11 traditional2simple()</h3>
<p>ç¹ä½“è½¬ç®€ä½“</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.traditional2simple(text, mode=&#39;t2s&#39;)
</code></pre></div><ul>
<li><strong><em>text</em></strong> å¾…è½¬æ¢çš„æ–‡æœ¬</li>
<li><strong><em>mode</em></strong> è½¬æ¢æ¨¡å¼ï¼Œ é»˜è®¤ mode=&lsquo;t2s&rsquo;ç¹è½¬ç®€; mode è¿˜æ”¯æŒ s2t</li>
</ul>
 <br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;ç°¡é«”æ¼¢å­—&#39;</span>
<span class="n">ct</span><span class="o">.</span><span class="n">traditional2simple</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&#39;ç®€ä½“æ±‰å­—&#39;
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;ç®€ä½“æ±‰å­—&#39;</span>
<span class="n">ct</span><span class="o">.</span><span class="n">traditional2simple</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;s2t&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&#39;ç°¡é«”æ¼¢å­—&#39;
</code></pre></div><br>
<h3 id="112-fix_text">1.12 fix_text()</h3>
<p>å°†ä¸æ­£å¸¸çš„ã€æ··ä¹±ç¼–ç çš„æ–‡æœ¬è½¬åŒ–ä¸ºæ­£å¸¸çš„æ–‡æœ¬ã€‚ä¾‹å¦‚å…¨è§’è½¬åŠè§’</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">raw_text</span> <span class="o">=</span> <span class="s1">&#39;ä»Šæ—¥èµ·å¯ä¸­é‡åˆ°æŠ€æœ¯é—®é¢˜ï¼Œå¯ä»¥æ‹¨æ‰“ç”µè¯ï¼ï¼“ï¼—ï¼‘ï¼ï¼–ï¼–ï¼“ï¼’ï¼‘ï¼™ï¼™ï¼‘ã€ï¼–ï¼–ï¼“ï¼’ï¼‘ï¼™ï¼—ï¼“å’¨è¯¢ã€‚&#39;</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">fix_text</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>
<span class="n">text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ä»Šæ—¥èµ·å¯ä¸­é‡åˆ°æŠ€æœ¯é—®é¢˜ï¼Œå¯ä»¥æ‹¨æ‰“ç”µè¯0371-66321991ã€66321973å’¨è¯¢ã€‚
</code></pre></div><br>
<h3 id="113-fix_contractionstext">1.13 fix_contractions(text)</h3>
<p>å°†è‹±æ–‡ç¼©å†™(å«ä¿šè¯­è¡¨è¾¾)è½¬åŒ–ä¸ºå®Œæ•´çš„è¡¨è¾¾ï¼Œå¦‚å¦‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">- you&#39;re -&gt; you are
- yall  -&gt; you all
- gotta  -&gt; got to
...
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">raw_text</span> <span class="o">=</span> <span class="s2">&#34;yall&#39;re happy now&#34;</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">fix_contractions</span><span class="p">(</span><span class="n">raw_text</span><span class="p">)</span>
<span class="n">text</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&#34;you all are happy now&#34;
</code></pre></div><br>
<h3 id="114-clean_texttext">1.14 clean_text(text)</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>text</em></strong> å¾…å¤„ç†çš„æ–‡æœ¬</li>
<li><strong><em>lang</em></strong> è¯­è¨€ç±»å‹ï¼Œ é»˜è®¤ lang=&lsquo;chinese&rsquo;, æ”¯æŒ&quot;english&quot;ã€&ldquo;chinese&rdquo;</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">chinese_text</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&#34;ä»Šå¤©çš„è®­ç»ƒå¾ˆæ£’ï¼è·‘äº†5.6å…¬é‡Œï¼Œå¿ƒç‡ç¨³å®šã€‚&#34;</span>
                <span class="s2">&#34;æŸ¥çœ‹ https://example.com/data ğŸ˜Š #å¥èº«æ‰“å¡&#34;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;&gt;&gt;&gt; ä¸­æ–‡æ¸…æ´—&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;åŸå§‹:&#34;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">chinese_text</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;æ¸…æ´—:&#34;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">clean_text</span><span class="p">(</span><span class="n">chinese_text</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&#34;chinese&#34;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">()</span>

    <span class="c1"># è‹±æ–‡æµ‹è¯•</span>
<span class="n">english_text</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&#34;Great workout today! Ran 5.6 miles, HR stable. &#34;</span>
                <span class="s2">&#34;Check https://example.com/data ğŸ˜Š #Fitness&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;&gt;&gt;&gt; è‹±æ–‡æ¸…æ´—&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;åŸå§‹:&#34;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">english_text</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;æ¸…æ´—:&#34;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">clean_text</span><span class="p">(</span><span class="n">english_text</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&#34;english&#34;</span><span class="p">)))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; ä¸­æ–‡æ¸…æ´—
åŸå§‹: &#39;ä»Šå¤©çš„è®­ç»ƒå¾ˆæ£’ï¼è·‘äº†5.6å…¬é‡Œï¼Œå¿ƒç‡ç¨³å®šã€‚æŸ¥çœ‹ https://example.com/data ğŸ˜Š #å¥èº«æ‰“å¡&#39;
æ¸…æ´—: &#39;ä»Šå¤©çš„è®­ç»ƒå¾ˆæ£’ï¼è·‘äº†æ•°å­—å…¬é‡Œï¼Œå¿ƒç‡ç¨³å®šã€‚æŸ¥çœ‹   å¥èº«æ‰“å¡&#39;

&gt;&gt;&gt; è‹±æ–‡æ¸…æ´—
åŸå§‹: &#39;Great workout today! Ran 5.6 miles, HR stable. Check https://example.com/data ğŸ˜Š #Fitness&#39;
æ¸…æ´—: &#39;great workout today! ran NUMBER miles, hr stable. check  ğŸ˜Š #fitness&#39;
</code></pre></div><p><br><br></p>
<h2 id="äºŒstats-æ¨¡å—">äºŒã€Stats æ¨¡å—</h2>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.word_count(text, lang='chinese')</code></td>
<td>è¯é¢‘ç»Ÿè®¡</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.readability(text, lang='chinese')</code></td>
<td>æ–‡æœ¬å¯è¯»æ€§</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.sentiment(text, diction, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>æ— (ç­‰)æƒé‡è¯å…¸çš„æƒ…æ„Ÿåˆ†æ</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.sentiment_by_valence(text, diction, lang='chinese')</code></td>
<td>å¸¦æƒé‡çš„è¯å…¸çš„æƒ…æ„Ÿåˆ†æ</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.word_in_context(text, keywords, window=3, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>åœ¨ text ä¸­æŸ¥æ‰¾ keywords å‡ºç°çš„ä¸Šä¸‹æ–‡å†…å®¹(çª—å£ window)ï¼Œè¿”å› df</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.epu(text, e_pattern, p_pattern, u_pattern)</em></strong></td>
<td>ä½¿ç”¨æ–°é—»æ–‡æœ¬æ•°æ®è®¡ç®—ç»æµæ”¿ç­–ä¸ç¡®å®šæ€§ EPUï¼Œè¿”å› df</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.fepu(text, ep_pattern='&rsquo;, u_pattern='')</em></strong></td>
<td>ä½¿ç”¨ md&amp;a æ–‡æœ¬æ•°æ®è®¡ç®—ä¼ä¸šä¸ç¡®å®šæ€§æ„ŸçŸ¥ FEPU</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.semantic_brand_score(text, brands, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>è¡¡é‡å“ç‰Œï¼ˆä¸ªä½“ã€å…¬å¸ã€å“ç‰Œã€å…³é”®è¯ç­‰ï¼‰çš„é‡è¦æ€§</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><strong><em>ct.cosine_sim(text1, text2, lang=&lsquo;chinese&rsquo;)</em></strong></td>
<td>ä½™å¼¦ç›¸ä¼¼åº¦</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.jaccard_sim(text1, text2, lang='chinese')</code></td>
<td>Jaccard ç›¸ä¼¼åº¦</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.minedit_sim(text1, text2, lang='chinese')</code></td>
<td>æœ€å°ç¼–è¾‘è·ç¦»</td>
</tr>
<tr>
<td><strong>stats</strong></td>
<td><code>ct.word_hhi(text)</code></td>
<td>æ–‡æœ¬çš„èµ«èŠ¬è¾¾å°”-èµ«å¸Œæ›¼æŒ‡æ•°</td>
</tr>
</tbody>
</table>
<br>
<h3 id="21-word_count">2.1 word_count()</h3>
<p>ç»Ÿè®¡è¯é¢‘ï¼Œ è¿”å› Counter(ç±»ä¼¼äº python å­—å…¸) ï¼› æ”¯æŒä¸­è‹±æ–‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.word_count(text, lang=&#39;chinese&#39;, return_df=False)
</code></pre></div><ul>
<li><strong>text</strong> å¾…åˆ†æçš„æ–‡æœ¬å­—ç¬¦ä¸²</li>
<li><strong>lang</strong> æ–‡æœ¬çš„è¯­è¨€ç±»å‹ï¼Œ ä¸­æ–‡ chineseã€è‹±æ–‡ englishï¼Œé»˜è®¤ä¸­æ–‡ã€‚</li>
<li><strong>return_df</strong> è¿”å›ç»“æœæ˜¯å¦ä¸º dataframeï¼Œé»˜è®¤ False</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;è‡´åŠ›äºè‡´åŠ›äºä»¥é›¶æ–‡ç« å¤„ç†è´¹æˆ–è®¢é˜…è´¹å‘å¸ƒä¼˜è´¨ç ”ç©¶è½¯ä»¶ã€‚&#39;</span>

<span class="c1">#ct.word_count(text, lang=&#39;chinese&#39;)</span>
<span class="n">ct</span><span class="o">.</span><span class="n">word_count</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Counter({&#39;è‡´åŠ›äº&#39;: 2,
         &#39;æ–‡ç« &#39;: 1,
         &#39;å¤„ç†è´¹&#39;: 1,
         &#39;è®¢é˜…è´¹&#39;: 1,
         &#39;å‘å¸ƒ&#39;: 1,
         &#39;ä¼˜è´¨&#39;: 1,
         &#39;ç ”ç©¶&#39;: 1,
         &#39;è½¯ä»¶&#39;: 1})
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">word_count</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">return_df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/09-term_freq.png" alt=""  />
</p>
<br>
<h3 id="22-readability">2.2 readability()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.readability(text, lang=&#39;chinese&#39;, syllables=3, return_series=False)
</code></pre></div><p>è®¡ç®—æ–‡æœ¬å¯è¯»æ€§å¸¸è§æŒ‡æ ‡ï¼› å« Gunning Fog Indexã€ SMOG Indexã€Coleman Liau Indexã€ Automated Readability Index(ARI)ã€Readability Index(Rix)ï¼› æŒ‡æ ‡è¶Šå¤§ï¼Œå¤æ‚åº¦è¶Šé«˜ï¼Œæ–‡æœ¬çš„å¯è¯»æ€§è¶Šå·®ã€‚</p>
<ul>
<li><strong>text</strong> å¾…åˆ†æçš„æ–‡æœ¬å­—ç¬¦ä¸²</li>
<li><strong>lang</strong> æ–‡æœ¬çš„è¯­è¨€ç±»å‹ï¼Œ ä¸­æ–‡ chineseã€è‹±æ–‡ englishï¼Œé»˜è®¤ä¸­æ–‡ã€‚</li>
<li><strong>syllables</strong> éŸ³èŠ‚æ•°(æ±‰å­—æ•°)å¤§äºç­‰äº syllables ä¸ºå¤æ‚è¯. é»˜è®¤å€¼ä¸º 3</li>
<li><strong>return_series</strong>: è®¡ç®—ç»“æœæ˜¯å¦è¾“å‡ºä¸º pd.Series ç±»å‹ï¼Œé»˜è®¤ä¸º False</li>
</ul>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Gunning Fog Index = 0.4 * (Total_Words/Total_Sentences + 100 * Complex_Words/Total_Words)
SMOG Index = 1.0430 * sqrt(Complex_Words/Total_Sentences) * 30 + 3.1291
Coleman-Liau Index = 0.0588 * (100*Total_Letters/Total_Words) -0.296*(100*Total_Sentences/Total_Words) - 15.8
Automated Readability Index(ARI) = 4.71 * (Total_Characters/Total_Words) + 0.5*(Total_Words/Total_Sentences) - 21.43
Readability Index(RIX) = Complex_Words * (6 + Total_characters) / Total_Sentences
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;è‡´åŠ›äºä»¥é›¶æ–‡ç« å¤„ç†è´¹æˆ–è®¢é˜…è´¹å‘å¸ƒä¼˜è´¨ç ”ç©¶è½¯ä»¶ã€‚&#39;</span>

<span class="n">ct</span><span class="o">.</span><span class="n">readability</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">syllables</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;fog_index&#39;: 120.4,
 &#39;flesch_kincaid_grade_level&#39;: 20.2,
 &#39;smog_index&#39;: 57.32,
 &#39;coleman_liau_index&#39;: 83.96,
 &#39;ari&#39;: 87.4,
 &#39;rix&#39;: 87.0}
</code></pre></div><br>
<h3 id="23-sentimenttext-diction-lang">2.3 sentiment(text, diction, lang)</h3>
<p>å¸¸è§çš„æƒ…æ„Ÿåˆ†æé»˜è®¤æƒ…ç»ªè¯æ— (ç­‰)æƒé‡ï¼Œ é€šè¿‡ç»Ÿè®¡è¯è¯­ä¸ªæ•°æ¥ååº”æƒ…æ„Ÿä¿¡æ¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">sentiment(text, diction, lang=&#39;chinese&#39;, return_series=False)
</code></pre></div><ul>
<li><strong>text</strong> å¾…åˆ†æçš„æ–‡æœ¬å­—ç¬¦ä¸²</li>
<li><strong>diction</strong> æ ¼å¼ä¸º Python å­—å…¸ç±»å‹ã€‚å½¢å¦‚ä¸‹é¢çš„æ¡ˆä¾‹</li>
<li><strong>lang</strong> æ–‡æœ¬çš„è¯­è¨€ç±»å‹ï¼Œ ä¸­æ–‡ chineseã€è‹±æ–‡ englishï¼Œé»˜è®¤ä¸­æ–‡ã€‚</li>
<li><strong>return_series</strong> è®¡ç®—ç»“æœæ˜¯å¦è¾“å‡ºä¸º pd.Series ç±»å‹ï¼Œé»˜è®¤ä¸º False</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">diction</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;é«˜å…´&#39;</span><span class="p">,</span> <span class="s1">&#39;å¿«ä¹&#39;</span><span class="p">,</span> <span class="s1">&#39;åˆ†äº«&#39;</span><span class="p">],</span>
           <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;éš¾è¿‡&#39;</span><span class="p">,</span> <span class="s1">&#39;æ‚²ä¼¤&#39;</span><span class="p">],</span>
           <span class="s1">&#39;adv&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;å¾ˆ&#39;</span><span class="p">,</span> <span class="s1">&#39;ç‰¹åˆ«&#39;</span><span class="p">]}</span>

<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;æˆ‘ä»Šå¤©å¾—å¥–äº†ï¼Œå¾ˆé«˜å…´ï¼Œæˆ‘è¦å°†å¿«ä¹åˆ†äº«å¤§å®¶ã€‚&#39;</span>
<span class="n">ct</span><span class="o">.</span><span class="n">sentiment</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
             <span class="n">diction</span><span class="o">=</span><span class="n">diction</span><span class="p">,</span>
             <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;pos_num&#39;: 3,
 &#39;neg_num&#39;: 0,
 &#39;adv_num&#39;: 1,
 &#39;stopword_num&#39;: 8,
 &#39;word_num&#39;: 14,
 &#39;sentence_num&#39;: 1}
</code></pre></div><br>
<h3 id="24-sentiment_by_valence">2.4 sentiment_by_valence()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.sentiment_by_valence(text, diction, lang=&#39;chinese&#39;, return_series=False)
</code></pre></div><ul>
<li><strong>text</strong> å¾…åˆ†æçš„æ–‡æœ¬å­—ç¬¦ä¸²</li>
<li><strong>diction</strong> æ ¼å¼ä¸º Python å­—å…¸ç±»å‹ã€‚å½¢å¦‚ä¸‹é¢çš„æ¡ˆä¾‹</li>
<li><strong>lang</strong> æ–‡æœ¬çš„è¯­è¨€ç±»å‹ï¼Œ ä¸­æ–‡ chineseã€è‹±æ–‡ englishï¼Œé»˜è®¤ä¸­æ–‡ã€‚</li>
<li><strong>return_series</strong> è®¡ç®—ç»“æœæ˜¯å¦è¾“å‡ºä¸º pd.Series ç±»å‹ï¼Œé»˜è®¤ä¸º False</li>
</ul>
<p>å¸¸è§çš„æƒ…æ„Ÿåˆ†ææ˜¯æ— (ç­‰)æƒé‡, ä½†å®é™…ä¸Šä¸åŒçš„è¯è¯­æ‰€æºå¸¦çš„æƒ…æ„Ÿä¿¡æ¯çš„å¼ºåº¦å·®å¼‚æ˜¯å¾ˆå¤§çš„ã€‚æ®æ­¤å­¦è€…ä»¬å¼€å‘å‡ºå¾ˆå¤šå¸¦æƒé‡çš„è¯å…¸ï¼Œä¾‹å¦‚</p>
<ul>
<li>è‹±æ–‡å…·ä½“æ€§è¯å…¸ en_valence_Concreteness.yamlï¼Œ è¯å…¸ä¸­æ¯ä¸ªè¯éƒ½æœ‰ä¸€ä¸ª concreteness å€¼</li>
<li>ä¸­æ–‡å…­ç»´åº¦è¯­ä¹‰è¯å…¸ zh_valence_SixSemanticDimensionDatabase.yaml, æ¯ä¸ªä¸­æ–‡è¯æœ‰å…­ä¸ªå€¼ã€‚</li>
</ul>
<p>ä»¥å…·ä½“æ€§ä¸ºä¾‹ï¼Œ <strong>è¯­è¨€å…·ä½“æ€§ Concreteness</strong>æè¿°äº†ä¸€ä¸ªè¯åœ¨å¤šå¤§ç¨‹åº¦ä¸Šæ˜¯æŒ‡ä¸€ä¸ªå®é™…çš„ã€æœ‰å½¢çš„æˆ–â€œçœŸå®çš„â€å®ä½“ï¼Œä»¥ä¸€ç§æ›´å…·ä½“ã€æ›´ç†Ÿæ‚‰ã€æ›´å®¹æ˜“è¢«çœ¼ç›æˆ–å¿ƒçµæ„ŸçŸ¥çš„æ–¹å¼æè¿°å¯¹è±¡å’Œè¡Œä¸ºï¼ˆå³ï¼Œå¯æƒ³è±¡æˆ–ç”ŸåŠ¨ï¼›Brysbaert, Warriner, and Kuperman 2014; Semin and Fiedler 1988)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">concreteness_dict</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">read_yaml_dict</span><span class="p">(</span><span class="s1">&#39;en_valence_Concreteness.yaml&#39;</span><span class="p">)[</span><span class="s1">&#39;Dictionary&#39;</span><span class="p">]</span>
<span class="n">concreteness_dict</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;roadsweeper&#39;: {&#39;concreteness&#39;: 4.85},
 &#39;traindriver&#39;: {&#39;concreteness&#39;: 4.54},
 &#39;tush&#39;: {&#39;concreteness&#39;: 4.45},
 &#39;hairdress&#39;: {&#39;concreteness&#39;: 3.93},
 &#39;pharmaceutics&#39;: {&#39;concreteness&#39;: 3.77},
 &#39;hoover&#39;: {&#39;concreteness&#39;: 3.76},
 &#39;shopkeeping&#39;: {&#39;concreteness&#39;: 3.18},
 &#39;pushiness&#39;: {&#39;concreteness&#39;: 2.48},
 ......
 }
</code></pre></div><p>å¯èƒ½ **<em>concreteness_dict</em>**ä¸å¤Ÿç›´è§‚ï¼Œ å¦‚æœæ•´ç†è½¬åŒ–ä¸€ä¸‹å¤§æ¦‚ç±»ä¼¼äº</p>
<p><img loading="lazy" src="img/11-concreteness_df.png" alt=""  />
</p>
<p><a href="https://textdata.cn/blog/jcr_concreteness_computation/"><strong>JCR2021 | è®¡ç®—æ–‡æœ¬çš„è¯­è¨€å…·ä½“æ€§</strong></a> æ–‡ä¸­æä¾›äº†ä¸€ä¸ªæ¡ˆä¾‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">reply</span> <span class="o">=</span> <span class="s2">&#34;I&#39;ll go look for that&#34;</span>

<span class="n">score</span><span class="o">=</span><span class="n">ct</span><span class="o">.</span><span class="n">sentiment_by_valence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">reply</span><span class="p">,</span>
                              <span class="n">diction</span><span class="o">=</span><span class="n">concreteness_dict</span><span class="p">,</span>
                              <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>

<span class="n">score</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;concreteness&#39;: 9.28,
&#39;word_num&#39;: 6}
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">employee_replys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;I&#39;ll go look for that&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;I&#39;ll go search for that&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;I&#39;ll go search for that top&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;I&#39;ll go search for that t-shirt&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;I&#39;ll go look for that t-shirt in grey&#34;</span><span class="p">,</span>
                   <span class="s2">&#34;I&#39;ll go search for that t-shirt in grey&#34;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">reply</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">employee_replys</span><span class="p">):</span>
    <span class="n">score</span><span class="o">=</span><span class="n">ct</span><span class="o">.</span><span class="n">sentiment_by_valence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">reply</span><span class="p">,</span>
                                  <span class="n">diction</span><span class="o">=</span><span class="n">concreteness_dict</span><span class="p">,</span>
                                  <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>

    <span class="n">template</span> <span class="o">=</span> <span class="s2">&#34;Concreteness Score: </span><span class="si">{score:.2f}</span><span class="s2"> | Example-</span><span class="si">{idx}</span><span class="s2">: </span><span class="si">{exmaple}</span><span class="s2">&#34;</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">[</span><span class="s1">&#39;concreteness&#39;</span><span class="p">],</span>
                          <span class="n">idx</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
                          <span class="n">exmaple</span><span class="o">=</span><span class="n">reply</span><span class="p">))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Concreteness Score: 9.28 | Example-0: I&#39;ll go look for that
Concreteness Score: 9.32 | Example-1: I&#39;ll go search for that
Concreteness Score: 13.25 | Example-2: I&#39;ll go search for that top
Concreteness Score: 14.25 | Example-3: I&#39;ll go search for that t-shirt
Concreteness Score: 21.32 | Example-4: I&#39;ll go look for that t-shirt in grey
Concreteness Score: 21.36 | Example-5: I&#39;ll go search for that t-shirt in grey
</code></pre></div><br>
<h3 id="25-word_in_context">2.5 word_in_context()</h3>
<p>You shall know a word by the company it keeps é€šè¿‡ä¸€ä¸ªå•è¯æ‰€å¤„çš„è¯­å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£è¯¥å•è¯çš„å«ä¹‰ã€‚</p>
<p>åœ¨ text ä¸­æŸ¥æ‰¾ keywords å‡ºç°çš„ä¸Šä¸‹æ–‡å†…å®¹(çª—å£ window)ï¼Œè¿”å› dfã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.word_in_context(text, keywords, window=3, lang=&#39;chinese&#39;)
</code></pre></div><ul>
<li><strong>text</strong> å¾…åˆ†ææ–‡æœ¬</li>
<li><strong>keywords</strong> å…³é”®è¯åˆ—è¡¨</li>
<li><strong>window</strong> å…³é”®è¯ä¸Šä¸‹æ–‡çª—å£å¤§å°</li>
<li><strong>lang</strong> æ–‡æœ¬çš„è¯­è¨€ç±»å‹ï¼Œ ä¸­æ–‡ chineseã€è‹±æ–‡ englishï¼Œé»˜è®¤ä¸­æ–‡ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#æµ‹è¯•ä»£ç ï¼Œå‡è®¾zh_textæ˜¯å¹´æŠ¥æ–‡æœ¬ï¼Œä»æ‰¾æ‰¾å‡ºä¸ç½‘è¯ç›¸å…³è¯çš„ä¸Šä¸‹æ–‡</span>
<span class="n">zh_text</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;
</span><span class="s2">ã€æ’å…¥ä¸€æ¡è‡ªå®¶å¹¿å‘Šã€‘å¤§é‚“è‡ªå·±å®¶çš„å®¶ï¼Œ
</span><span class="s2">å®‰å¹³å¿å¤šéš†ä¸ç½‘åˆ¶å“ï¼Œç”Ÿäº§é”€å”®ä¸é”ˆé’¢è½§èŠ±ç½‘ã€
</span><span class="s2">ç”µç„Šç½‘ã€çŸ³ç¬¼ç½‘ã€åˆ€ç‰‡åˆºç»³ã€å†²å­”ç½‘ç­‰ä¸ç½‘åˆ¶å“ã€‚
</span><span class="s2">è”ç³»äºº é‚“é¢–é™ 0318-7686899
</span><span class="s2">
</span><span class="s2">äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦Python
</span><span class="s2">åœ¨ç¤¾ç§‘ä¸­ï¼Œå¯ä»¥ç”¨Pythonåšæ–‡æœ¬åˆ†æ
</span><span class="s2">Pythonæ˜¯ä¸€é—¨åŠŸèƒ½å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¿æ³›åº”ç”¨åœ¨ç»ç®¡ç¤¾ç§‘é¢†åŸŸã€‚
</span><span class="s2">å¯ä»¥åšç½‘ç»œçˆ¬è™«ã€æ–‡æœ¬åˆ†æã€LDAè¯é¢˜æ¨¡å‹ã€ç›¸ä¼¼åº¦åˆ†æç­‰ã€‚
</span><span class="s2">
</span><span class="s2">ä»Šå¹´ç»æµä¸æ™¯æ°”ï¼Œå½¢åŠ¿å¼‚å¸¸ä¸¥å³»ã€‚
</span><span class="s2">ç”±äºç–«æƒ…ä¸æ™¯æ°”ï¼Œé™é»˜ç®¡ç†ï¼Œ äº§å“ç§¯å‹ï¼Œ å…¬å¸ç»è¥å›°éš¾ã€‚
</span><span class="s2">ä¿å°±ä¸šä¿ƒå°±ä¸šï¼Œä»»åŠ¡ååˆ†è‰°å·¨ã€‚
</span><span class="s2">&#34;&#34;&#34;</span>

<span class="c1">#ã€pythonã€‘ä¸Šä¸‹æ–‡</span>
<span class="n">ct</span><span class="o">.</span><span class="n">word_in_context</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">zh_text</span><span class="p">,</span>
                   <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">],</span>
                   <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                   <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/20-word-in-context.png" alt=""  />
</p>
<br>
<h3 id="26-epu">2.6 epu()</h3>
<p><a href="https://textdata.cn/blog/2023-12-20-measure-china-economic-policy-uncertainty/"><strong>ä»£ç  | ä½¿ç”¨æ–°é—»æ•°æ®æµ‹é‡ç»æµæ”¿ç­–ä¸ç¡®å®šæ€§ EPU</strong></a></p>
<p><img loading="lazy" src="img/13-epu-plot.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">epu(df, freq=&#39;Y&#39;, e_pattern=&#39;&#39;, p_pattern=&#39;&#39;, u_pattern=&#39;&#39;)
</code></pre></div><ul>
<li><strong>df</strong> æ–°é—»æ•°æ® DataFrameï¼Œ å« text å’Œ date ä¸¤ä¸ªå­—æ®µã€‚ æ¯ä¸€è¡Œä»£è¡¨ä¸€æ¡æ–°é—»è®°å½•</li>
<li><strong>freq</strong> å­—ç¬¦ä¸²ï¼› ç¡®å®š EPU æŒ‡æ•°çš„æ—¶é—´é¢—ç²’åº¦ï¼› å¦‚å¹´ Y, æœˆ m, æ—¥ d, é»˜è®¤ freq=&lsquo;Y&rsquo;</li>
<li><strong>e_pattern</strong> å­—ç¬¦ä¸²ï¼›ç»æµç±»è¯å…¸ï¼Œç”¨<code>|</code>é—´éš”è¯è¯­ï¼Œå½¢å¦‚ <strong>e_pattern = â€˜ç»æµ|é‡‘èâ€™</strong></li>
<li><strong>p_pattern</strong> å­—ç¬¦ä¸²ï¼›æ”¿ç­–è¯å…¸ï¼Œç”¨<code>|</code>é—´éš”è¯è¯­ï¼Œå½¢å¦‚ <strong>p_pattern = â€˜æ”¿ç­–|æ²»ç†|è¡Œæ”¿â€™</strong></li>
<li><strong>u_pattern</strong> å­—ç¬¦ä¸²ï¼›ä¸ç¡®å®šæ€§è¯å…¸ï¼Œç”¨<code>|</code>é—´éš”è¯è¯­ï¼Œå½¢å¦‚ <strong>u_pattern = â€˜é£é™©|å±æœº|éš¾ä»¥é¢„æµ‹â€™</strong></li>
</ul>
<p>å‡†å¤‡å¦‚ä¸‹å›¾æ ¼å¼çš„æ•°æ® <strong><em>news_df</em></strong></p>
<p><img loading="lazy" src="img/12-news-df.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#çœç•¥ï¼Œè¯»å–æ•°æ®å¾—åˆ° news_df</span>

<span class="n">epu_df</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">epu</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">news_df</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="n">epu_df</span>
</code></pre></div><p><img loading="lazy" src="img/13-epu-df.png" alt=""  />
</p>
<br>
<h3 id="27-fepu">2.7 fepu()</h3>
<p><a href="https://textdata.cn/blog/2024-04-25-firm-economic-policy-uncertainty/">ä½¿ç”¨ç®¡ç†å±‚è®¨è®ºä¸åˆ†ææ–‡æœ¬æ•°æ®æµ‹é‡ã€Œä¼ä¸šæ„ŸçŸ¥ä¸ç¡®å®šæ€§ã€(Subjective perception of economic policy uncertainty, FEPU)</a></p>
<p><img loading="lazy" src="img/16-fepu-plot.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.fepu(text, ep_pattern, u_pattern)
</code></pre></div><ul>
<li><strong><em>text</em></strong> ï¼›æŸæ—¶æœŸ t æŸä¼ä¸š i çš„ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ md&amp;a æ–‡æœ¬</li>
<li><strong><em>ep_pattern</em></strong> å­—ç¬¦ä¸²ï¼›ç»æµæ”¿ç­–ç±»è¯å…¸ï¼Œç”¨<code>|</code>é—´éš”è¯è¯­ï¼Œå½¢å¦‚ <strong>ep_pattern = â€˜ç»æµ|é‡‘è|æ”¿ç­–|æ²»ç†|è¡Œæ”¿â€™</strong></li>
<li><strong><em>u_pattern</em></strong> å­—ç¬¦ä¸²ï¼›ä¸ç¡®å®šæ€§è¯å…¸ï¼Œç”¨<code>|</code>é—´éš”è¯è¯­ï¼Œå½¢å¦‚ <strong>u_pattern = â€˜é£é™©|å±æœº|éš¾ä»¥é¢„æµ‹â€™</strong></li>
</ul>
<p>å‡†å¤‡å¦‚ä¸‹å›¾æ ¼å¼çš„æ•°æ® <strong><em>mda_df</em></strong></p>
<p><img loading="lazy" src="img/14-mdadf.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1">#çœç•¥ï¼Œè¯»å–æ•°æ®å¾—åˆ° mda_df</span>

<span class="n">fepu_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ç»è¥è®¨è®ºä¸åˆ†æå†…å®¹&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">fepu</span><span class="p">)</span>
<span class="n">res_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;ä¼šè®¡å¹´åº¦&#39;</span><span class="p">,</span> <span class="s1">&#39;è‚¡ç¥¨ä»£ç &#39;</span><span class="p">]],</span> <span class="n">fepu_df</span><span class="p">],</span>   <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">res_df</span>
</code></pre></div><p><img loading="lazy" src="img/15-fepu.png" alt=""  />
</p>
<br>
<br>
<h3 id="28-semantic_brand_score">2.8 semantic_brand_score()</h3>
<p><a href="https://textdata.cn/blog/2024-04-12-semantic-brand-score/">æ–‡çŒ®&amp;ä»£ç  | ä½¿ç”¨ Python è®¡ç®—è¯­ä¹‰å“ç‰Œè¯„åˆ†(Semantic Brand Score, SBS)</a> ï¼Œ é€šè¿‡ SBS æ¥è¡¡é‡å“ç‰Œï¼ˆä¸ªä½“ã€å…¬å¸ã€å“ç‰Œã€å…³é”®è¯ç­‰ï¼‰çš„é‡è¦æ€§ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.semantic_brand_score(text, brands, lang=&#39;chinese&#39;)
</code></pre></div><ul>
<li><strong><em>text</em></strong> å¾…åˆ†ææ–‡æœ¬</li>
<li><strong><em>brands</em></strong> è¯è¯­åˆ—è¡¨ï¼›</li>
<li><strong><em>lang</em></strong> è¯­è¨€ç±»å‹ï¼Œ&ldquo;chinese&quot;æˆ–&quot;english&rdquo;ï¼Œé»˜è®¤&quot;chinese&quot;</li>
</ul>
<p>ä»¥ä¸‰ä½“å°è¯´ä¸ºä¾‹ï¼Œé€šè¿‡æµ‹é‡å“ç‰Œè¯­ä¹‰è¯„åˆ† SBS æ¥åæ˜ å°è¯´è§’è‰²çš„é‡è¦æ€§ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">brands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;æ±ªæ·¼&#39;</span><span class="p">,</span> <span class="s1">&#39;å²å¼º&#39;</span><span class="p">,</span> <span class="s1">&#39;ç½—è¾‘&#39;</span><span class="p">,</span> <span class="s1">&#39;å¶æ–‡æ´&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¼Šæ–‡æ–¯&#39;</span><span class="p">]</span>

<span class="c1">#å‡†å¤‡santi_test_text</span>
<span class="c1">#å°è¯´ç­‰åˆ†20ä»½ï¼Œ è¯»å–ç¬¬ä¸€ä»½å¾—åˆ°santi_test_text</span>

<span class="n">sbs_df</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">semantic_brand_score</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">santi_test_text</span><span class="p">,</span>
                               <span class="n">brands</span><span class="o">=</span><span class="n">brands</span><span class="p">,</span>
                               <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
<span class="n">sbs_df</span>
</code></pre></div><p><img loading="lazy" src="img/19-1st-sbs.png" alt=""  />
</p>
<p>å¦‚æœå°†ä¸‰ä½“å°è¯´åˆ†æˆ 20 ä»½ï¼Œ æ¯ä¸€ä»½éƒ½æµ‹ç®—å‡ºæ¯ä¸ªè§’è‰²çš„ SBSï¼Œç»˜åˆ¶å‡ºæŠ˜çº¿å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img loading="lazy" src="img/18-sbs-plot.png" alt=""  />
</p>
<h3 id="29-æ–‡æœ¬ç›¸ä¼¼åº¦">2.9 æ–‡æœ¬ç›¸ä¼¼åº¦</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.cosine_sim(text1, text2, lang=&#39;chinese&#39;)   cosä½™å¼¦ç›¸ä¼¼
ct.jaccard_sim(text1, text2, lang=&#39;chinese&#39;)  jaccardç›¸ä¼¼
ct.minedit_sim(text1, text2, lang=&#39;chinese&#39;)  æœ€å°ç¼–è¾‘è·ç¦»ç›¸ä¼¼åº¦ï¼›
ct.simple_sim(text1, text2, lang=&#39;chinese&#39;)   æ›´æ”¹å˜åŠ¨ç®—æ³•
</code></pre></div><p>ç®—æ³•å®ç°å‚è€ƒè‡ª <code>Cohen, Lauren, Christopher Malloy, and Quoc Nguyen. Lazy prices. No. w25084. National Bureau of Economic Research, 2018.</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;ç¼–ç¨‹çœŸå¥½ç©ç¼–ç¨‹çœŸå¥½ç©&#39;</span>
<span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;æ¸¸æˆçœŸå¥½ç©ç¼–ç¨‹çœŸå¥½ç©&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">cosine_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;jaccard&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">jaccard_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;minedit&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">minedit_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;simple&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">simple_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cosine  0.82
jaccard 0.67
minedit 1.00
simple 0.84
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>


<span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;Programming is fun!&#39;</span>
<span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;Programming is interesting!&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">cosine_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;jaccard&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">jaccard_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;minedit&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">minedit_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;simple&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">simple_sim</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cosine  0.67
jaccard 0.50
minedit 1.00
simple 0.78
</code></pre></div><br>
<h3 id="210-word_hhi">2.10 word_hhi</h3>
<p>æ–‡æœ¬çš„èµ«èŠ¬è¾¾å°”-èµ«å¸Œæ›¼æŒ‡æ•°ã€‚ct.word_hhi(text, lang=&lsquo;chinese&rsquo;)</p>
<br>
<p><strong>èµ«èŠ¬è¾¾å°”-èµ«å¸Œæ›¼æŒ‡æ•°</strong>(<strong>Herfindahl-Hirschman Index</strong>)ä½œä¸ºä¸€ç§è¡¡é‡å¸‚åœºé›†ä¸­åº¦çš„ç»æµæŒ‡æ ‡ï¼Œé€šå¸¸ç”¨äºåˆ†æäº§ä¸šæˆ–å¸‚åœºä¸­ä¼ä¸šä»½é¢çš„åˆ†å¸ƒæƒ…å†µã€‚</p>
<p><img loading="lazy" src="img/word-hhi-algo.png" alt=""  />
</p>
<p>å‰äººç±»æ¯”å¸‚åœºé›†ä¸­ç¨‹åº¦ï¼Œç”¨äºæµ‹é‡ä¸“åˆ©è´¨é‡(çŸ¥è¯†å®½åº¦)ã€‚ é‚£æ”¾åœ¨æ–‡æœ¬è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬æ˜¯å¦å¯èƒ½åˆ©ç”¨ HHI æ¥é‡åŒ–æŸä¸ªè¯­æ–™åº“ä¸­ä¸åŒè¯æ±‡çš„ä½¿ç”¨é¢‘ç‡åˆ†å¸ƒï¼Œä»¥æ­¤æ¥åˆ†æä¸ªäººã€ç¾¤ä½“æˆ–æ—¶ä»£çš„è¯­è¨€é£æ ¼ã€è¯æ±‡ä¸°å¯Œåº¦ã€æˆ–æ˜¯è¯­è¨€æ ‡å‡†åŒ–ä¸å˜åŒ–çš„è¶‹åŠ¿ã€‚</p>
<ul>
<li>å¦‚æœè¯æ±‡åˆ†å¸ƒéå¸¸å‡åŒ€ï¼Œè¡¨æ˜è¯­è¨€ä½¿ç”¨ä¸­çš„è¯æ±‡å¤šæ ·æ€§é«˜ï¼ŒHHI å€¼å°±ä¼šè¾ƒä½ï¼›</li>
<li>åä¹‹ï¼Œå¦‚æœå°‘æ•°è¯æ±‡å æ®äº†å¤§éƒ¨åˆ†æ–‡æœ¬ç©ºé—´ï¼Œè¡¨æ˜è¯æ±‡ä½¿ç”¨é›†ä¸­ï¼ŒHHI å€¼åˆ™è¾ƒé«˜ã€‚</li>
</ul>
<p>ç»“åˆå…¶ä»–è¯­è¨€å­¦æŒ‡æ ‡ä¸€èµ·ä½¿ç”¨ï¼Œæ¯”å¦‚ TTRï¼ˆType-Token Ratioï¼Œç±»å‹-æ ‡è®°æ¯”ç‡ï¼‰ã€Shannon entropyï¼ˆé¦™å†œç†µï¼‰ç­‰ï¼Œå…±åŒè¯„ä¼°è¯­è¨€è¡¨è¾¾çš„å¤æ‚åº¦å’Œå¤šæ ·æ€§ã€‚ä¸è¿‡ï¼Œè¿™ç±»ç ”ç©¶çš„æ–‡çŒ®ç›¸å¯¹è¾ƒå°‘ï¼Œå› ä¸ºè¯­è¨€å­¦é¢†åŸŸæœ‰è‡ªå·±ä¸€å¥—æˆç†Ÿä¸”ä¸“ä¸šçš„åˆ†æå·¥å…·å’Œæ–¹æ³•ï¼ŒHHI æ›´å¤šåœ°è¢«è§†ä¸ºè·¨å­¦ç§‘åº”ç”¨çš„ä¸€ä¸ªåˆ›æ–°å°è¯•ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">personA</span> <span class="o">=</span> <span class="s1">&#39;è¿™åœºéŸ³ä¹ä¼šå¤ªå—¨äº†&#39;</span>
<span class="n">personB</span> <span class="o">=</span> <span class="s1">&#39;è¿™åœºéŸ³ä¹ä¼šè¯´å‡ºæ¥ä»¤ä½ ä¸æ•¢ç›¸ä¿¡ï¼Œä¸»åŠæ–¹ç­–åˆ’æœ‰æ–¹ï¼Œç¾¤ä¼—æ¿€æƒ…æ»¡æ»¡ï¼Œæˆ‘å°è±¡æ·±åˆ»ï¼Œä½“éªŒæ„Ÿæ‹‰æ»¡&#39;</span>


<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A-hhi&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">word_hhi</span><span class="p">(</span><span class="n">personA</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;B-hhi&#39;</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">word_hhi</span><span class="p">(</span><span class="n">personB</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Aè¯æ±‡å¤šæ ·æ€§&#39;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">ct</span><span class="o">.</span><span class="n">word_hhi</span><span class="p">(</span><span class="n">personA</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Bè¯æ±‡å¤šæ ·æ€§&#39;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">ct</span><span class="o">.</span><span class="n">word_hhi</span><span class="p">(</span><span class="n">personB</span><span class="p">))</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">A-hhi 0.20000000000000004
B-hhi 0.07024793388429751

Aè¯æ±‡å¤šæ ·æ€§ 0.7999999999999999
Bè¯æ±‡å¤šæ ·æ€§ 0.9297520661157025
</code></pre></div><br>
<br>
<h2 id="ä¸‰plot-æ¨¡å—">ä¸‰ã€Plot æ¨¡å—</h2>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>plot</strong></td>
<td><code>ct.matplotlib_chinese()</code></td>
<td>æ”¯æŒ matplotlib ä¸­æ–‡ç»˜å›¾</td>
</tr>
<tr>
<td><strong>plot</strong></td>
<td><code>ct.lexical_dispersion_plot1(text, targets_dict, lang, title, figsize)</code></td>
<td>å¯¹æŸä¸€ä¸ªæ–‡æœ¬ textï¼Œ å¯è§†åŒ–ä¸åŒç›®æ ‡ç±»åˆ«è¯ targets_dict åœ¨æ–‡æœ¬ä¸­å‡ºç°ä½ç½®</td>
</tr>
<tr>
<td><strong>plot</strong></td>
<td><code>ct.lexical_dispersion_plot2(texts_dict, targets, lang, title, figsize)</code></td>
<td>å¯¹æŸå‡ ä¸ªæ–‡æœ¬ texts_dictï¼Œ å¯è§†åŒ–æŸäº›ç›®æ ‡è¯ targets åœ¨æ–‡æœ¬ä¸­å‡ºç°ç›¸å¯¹ä½ç½®(0~100)</td>
</tr>
</tbody>
</table>
<br>
<h3 id="31-matplotlib_chinese">3.1 matplotlib_chinese()</h3>
<p>matplotlib é»˜è®¤ä¸æ”¯æŒä¸­æ–‡å¯è§†åŒ–ï¼Œ cntext æ–°å¢è¯¥å‡½æ•°ï¼Œå¯ä»¥è§£å†³ä¸­æ–‡å¯è§†åŒ–é—®é¢˜</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">plt</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">matplotlib_chinese</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ä¸­æ–‡å›¾è¡¨&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/27-chinese-matplotlib.png" alt=""  />
</p>
<br>
<h3 id="32-lexical_dispersion_plot1">3.2 lexical_dispersion_plot1()</h3>
<p>è¯æ±‡åˆ†æ•£å›¾å¯è§†åŒ–ï¼Œ å¯¹æŸä¸€ä¸ªæ–‡æœ¬ textï¼Œ å¯è§†åŒ–ä¸åŒç›®æ ‡ç±»åˆ«è¯ targets_dict åœ¨æ–‡æœ¬ä¸­å‡ºç°ä½ç½®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">targets_dict</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ç‰¹å®šè¯æ±‡åœ¨ä¸åŒæ–‡æœ¬æ¥æºçš„ç›¸å¯¹ç¦»æ•£å›¾&#39;</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>text</em></strong>: æ–‡æœ¬æ•°æ®</li>
<li><strong><em>targets_dict</em></strong>: ç›®æ ‡ç±»åˆ«è¯å­—å…¸ï¼› targets_dict={&lsquo;pos&rsquo;: [&lsquo;å¼€å¿ƒ&rsquo;, &lsquo;å¿«ä¹&rsquo;], &lsquo;neg&rsquo;: [&lsquo;æ‚²ä¼¤&rsquo;, &lsquo;éš¾è¿‡&rsquo;]}</li>
<li><strong><em>lang</em></strong>: æ–‡æœ¬æ•°æ® texts_dict çš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤&rsquo;chinese'.</li>
<li><strong><em>figsize</em></strong>: å›¾çš„é•¿å®½å°ºå¯¸. é»˜è®¤ (8, 5).</li>
<li><strong><em>title</em></strong> : å›¾çš„æ ‡é¢˜ï¼›</li>
<li><strong><em>prop</em></strong>: æ¨ªåæ ‡å­—ç¬¦ä½ç½®æ˜¯å¦ä¸ºç›¸å¯¹ä½ç½®. é»˜è®¤ Trueï¼Œæ¨ªåæ ‡ç´¢å¼•å€¼å–å€¼èŒƒå›´ 0 ~ 100</li>
</ul>
<br>
<p>ç‚¹å‡»ä¸‹è½½ <a href="https://textdata.cn/data/%E4%B8%89%E4%BD%93.txt"><strong>ä¸‰ä½“.txt</strong></a>ã€<a href="https://textdata.cn/data/%E5%9F%BA%E5%9C%B0.txt"><strong>åŸºåœ°.txt</strong></a>ä¸¤æœ¬å°è¯´æ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">roles_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&#34;æ±ªæ·¼&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;æ±ªæ·¼&#39;</span><span class="p">],</span>
    <span class="s2">&#34;å¶æ–‡æ´&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;å¶æ–‡æ´&#39;</span><span class="p">],</span>
    <span class="s2">&#34;ç½—è¾‘&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ç½—è¾‘&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">santi_text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">santi_text</span><span class="p">,</span>  <span class="c1">#æ–‡æœ¬æ•°æ®</span>
                            <span class="n">targets_dict</span> <span class="o">=</span> <span class="n">roles_dict</span><span class="p">,</span> <span class="c1">#è§’è‰²</span>
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1">#å°ºå¯¸å¤§å°</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span>  <span class="c1">#ä¸­æ–‡æ•°æ®</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;ã€Šä¸‰ä½“ã€‹å°è¯´è§’è‰²å‡ºç°ä½ç½®&#39;</span><span class="p">,</span> <span class="c1">#æ ‡é¢˜</span>
                            <span class="n">prop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>    <span class="c1">#ç›¸å¯¹ä½ç½®(æ¨ªåæ ‡è½´å–å€¼èŒƒå›´0-100)</span>
<span class="n">ax</span>
</code></pre></div><p><img loading="lazy" src="img/23-lexical_dispersion_plot1-relative.png" alt=""  />
</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">santi_text</span><span class="p">,</span>  <span class="c1">#æ–‡æœ¬æ•°æ®</span>
                            <span class="n">targets_dict</span> <span class="o">=</span> <span class="n">roles_dict</span><span class="p">,</span> <span class="c1">#è§’è‰²</span>
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1">#å°ºå¯¸å¤§å°</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span>  <span class="c1">#ä¸­æ–‡æ•°æ®</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;ã€Šä¸‰ä½“ã€‹å°è¯´è§’è‰²å‡ºç°ä½ç½®&#39;</span><span class="p">,</span> <span class="c1">#æ ‡é¢˜</span>
                            <span class="n">prop</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>    <span class="c1">#ç»å¯¹ä½ç½®(æ¨ªåæ ‡è½´å–å€¼èŒƒå›´ä¸å°è¯´æ–‡æœ¬é•¿åº¦æœ‰å…³)</span>
</code></pre></div><p><img loading="lazy" src="img/24-lexical_dispersion_plot1-absolute.png" alt=""  />
</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># diyäº†ä¸€ä¸ªå°è¯å…¸</span>
<span class="n">senti_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;å¼€å¿ƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;å¹¸ç¦&#39;</span><span class="p">,</span> <span class="s1">&#39;å¿«ä¹&#39;</span><span class="p">,</span> <span class="s1">&#39;å®‰å®&#39;</span><span class="p">,</span> <span class="s1">&#39;å¸Œæœ›&#39;</span><span class="p">],</span>
    <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ç´§å¼ &#39;</span><span class="p">,</span> <span class="s1">&#39;ææƒ§&#39;</span><span class="p">,</span> <span class="s1">&#39;å®³æ€•&#39;</span><span class="p">,</span> <span class="s1">&#39;ç»æœ›&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">santi_text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot1</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="n">santi_text</span><span class="p">,</span>
                            <span class="n">targets_dict</span> <span class="o">=</span> <span class="n">senti_dict</span><span class="p">,</span>
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;ã€Šä¸‰ä½“ã€‹æƒ…ç»ªè¯å‡ºç°ä½ç½®&#39;</span><span class="p">,</span>
                            <span class="n">prop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span>
</code></pre></div><p><img loading="lazy" src="img/25-santi_sentiment.png" alt=""  />
</p>
<br>
<h3 id="33-lexical_dispersion_plot2">3.3 lexical_dispersion_plot2()</h3>
<p>è¯æ±‡åˆ†æ•£å›¾å¯è§†åŒ–ï¼Œ å¯¹æŸå‡ ä¸ªæ–‡æœ¬ texts_dictï¼Œ å¯è§†åŒ–æŸäº›ç›®æ ‡è¯ targets åœ¨æ–‡æœ¬ä¸­å‡ºç°ç›¸å¯¹ä½ç½®(0~100)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot2</span><span class="p">(</span><span class="n">texts_dict</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ç‰¹å®šè¯æ±‡åœ¨ä¸åŒæ–‡æœ¬æ¥æºçš„ç›¸å¯¹ç¦»æ•£å›¾&#39;</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>texts_dict</em></strong>: å¤šä¸ªæ–‡æœ¬çš„å­—å…¸æ•°æ®ã€‚å½¢å¦‚{&lsquo;source1&rsquo;: &lsquo;source1 çš„æ–‡æœ¬å†…å®¹&rsquo;, &lsquo;source2&rsquo;: &lsquo;source2 çš„æ–‡æœ¬å†…å®¹&rsquo;}</li>
<li><strong><em>targets</em></strong>: ç›®æ ‡è¯åˆ—è¡¨</li>
<li><strong><em>lang</em></strong>: æ–‡æœ¬æ•°æ® texts_dict çš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤&rsquo;chinese'.</li>
<li><strong><em>figsize</em></strong>: å›¾çš„é•¿å®½å°ºå¯¸. é»˜è®¤ (8, 5).</li>
<li><strong><em>title</em></strong> : å›¾çš„æ ‡é¢˜ï¼›</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;å¤ªç©º&#39;</span><span class="p">,</span> <span class="s1">&#39;å®‡å®™&#39;</span><span class="p">]</span>

<span class="n">texts_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ä¸‰ä½“&#39;</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ä¸‰ä½“.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
              <span class="s1">&#39;åŸºåœ°&#39;</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;åŸºåœ°.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()}</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">lexical_dispersion_plot2</span><span class="p">(</span><span class="n">texts_dict</span> <span class="o">=</span> <span class="n">texts_dict</span><span class="p">,</span>
                            <span class="n">targets</span> <span class="o">=</span> <span class="n">targets</span><span class="p">,</span>
                            <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;&#34;å¤ªç©º/å®‡å®™&#34;è¯è¯­å‡ºç°ä½ç½®&#39;</span><span class="p">,</span>
                            <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
<span class="n">ax</span>
</code></pre></div><p><img loading="lazy" src="img/26-santi_base.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="å››model-æ¨¡å—">å››ã€Model æ¨¡å—</h2>
<p>æœ¬éƒ¨åˆ†ä¸»è¦å†…å®¹æ˜¯è¯åµŒå…¥æ¨¡å‹ç›¸å…³æŠ€æœ¯ï¼Œ åŒ…æ‹¬ Word2Vec(GLove)çš„è®­ç»ƒã€è¯»å–ã€æ‰©å±•è¯å…¸ã€‚</p>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°(ç±»)</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.Word2Vec(corpus_file, encoding, lang, window_size, vector_size,&hellip;)</em></strong></td>
<td>è®­ç»ƒ Word2Vec</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.GloVe(corpus_file, encoding, lang, window_size, vector_size, &hellip;)</em></strong></td>
<td>è®­ç»ƒ GLove æ¨¡å‹ã€‚</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong>ct.evaluate_similarity(wv, file=None)</strong></td>
<td>ä½¿ç”¨è¿‘ä¹‰æ³•è¯„ä¼°æ¨¡å‹è¡¨ç°ï¼Œé»˜è®¤ä½¿ç”¨å†…ç½®çš„æ•°æ®è¿›è¡Œè¯„ä¼°ã€‚</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong>ct.evaluate_analogy(wv, file=None)</strong></td>
<td>ä½¿ç”¨ç±»æ¯”æ³•è¯„ä¼°æ¨¡å‹è¡¨ç°ï¼Œé»˜è®¤ä½¿ç”¨å†…ç½®çš„æ•°æ®è¿›è¡Œè¯„ä¼°ã€‚</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.load_w2v(wv_path)</em></strong></td>
<td>è¯»å– cntext2.x è®­ç»ƒå‡ºçš„ Word2Vec/GloVe æ¨¡å‹æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.glove2word2vec(glove_file, word2vec_file)</em></strong></td>
<td>å°† GLoVe æ¨¡å‹.txt æ–‡ä»¶è½¬åŒ–ä¸º Word2Vec æ¨¡å‹.txt æ–‡ä»¶ï¼›æ³¨æ„è¿™é‡Œçš„ GLoVe æ¨¡å‹.txt æ˜¯é€šè¿‡<a href="https://github.com/standfordnlp/GloVe">Standfordnlp/GloVe</a> è®­ç»ƒå¾—åˆ°çš„ã€‚</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><strong><em>ct.expand_dictionary(wv, seeddict, topn=100)</em></strong></td>
<td>æ‰©å±•è¯å…¸, ç»“æœä¿å­˜åˆ°è·¯å¾„[output/Word2Vec]ä¸­</td>
</tr>
<tr>
<td><strong>model</strong></td>
<td><code>ct.SoPmi(corpus_file, seed_file, lang='chinese')</code></td>
<td>å…±ç°æ³•æ‰©å±•è¯å…¸</td>
</tr>
</tbody>
</table>
<h3 id="41-word2vec">4.1 Word2Vec()</h3>
<p>å¯ç›´æ¥å¯¹åŸå§‹è¯­æ–™ txt æ–‡ä»¶è¿›è¡Œè‡ªåŠ¨ Word2vec è®­ç»ƒã€‚è¯¥å‡½æ•°ä¼šè‡ªåŠ¨å¤„ç†æ–‡æœ¬é¢„å¤„ç†(åˆ†è¯ã€å»åœè¯)ã€å†…å­˜ç®¡ç†ã€å‚æ•°è°ƒæ•´ç­‰é—®é¢˜ï¼Œç¡®ä¿è®­ç»ƒè¿‡ç¨‹é¡ºåˆ©è¿›è¡Œã€‚</p>
<p>åœ¨ <strong><em>gensim.models.word2vec.Word2Vec</em></strong> åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸­è‹±æ–‡çš„é¢„å¤„ç†ï¼Œ ç®€åŒ–äº†ä»£ç ä½¿ç”¨ã€‚é…ç½®å¥½ cntext2.x ç¯å¢ƒï¼Œ å¯ä»¥åšåˆ°</p>
<ul>
<li>
<ol>
<li>è®­ç»ƒåªç”¨ä¸€è¡Œä»£ç </li>
</ol>
</li>
<li>
<ol start="2">
<li>è¯»å–è°ƒç”¨åªç”¨ä¸€è¡Œä»£ç </li>
</ol>
</li>
</ul>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.Word2Vec(corpus_file, lang=&#39;chinese&#39;, dict_file=None, stopwords_file=None, vector_size=100, window_size=6, min_count=5, max_iter=5, chunksize=10000, only_binary=True, **kwargs)
</code></pre></div><ul>
<li><strong><em>corpus_file</em></strong>: è¯­æ–™åº“æ–‡ä»¶çš„è·¯å¾„ã€‚</li>
<li><strong><em>lang</em></strong>: è¯­è¨€ç±»å‹ï¼Œæ”¯æŒ &lsquo;chinese&rsquo; å’Œ &lsquo;english&rsquo;ï¼Œé»˜è®¤ä¸º &lsquo;chinese&rsquo;ã€‚</li>
<li><strong><em>dict_file</em></strong>: è‡ªå®šä¹‰è¯å…¸ txt æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º Noneã€‚utf-8 ç¼–ç ã€‚</li>
<li><strong><em>stopwords_file</em></strong>: åœç”¨è¯æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º Noneã€‚utf-8 ç¼–ç ã€‚</li>
<li><strong><em>vector_size</em></strong>: è¯å‘é‡çš„ç»´åº¦ï¼Œé»˜è®¤ä¸º 50ã€‚</li>
<li><strong><em>window_size</em></strong>: ä¸Šä¸‹æ–‡çª—å£çš„å¤§å°ï¼Œé»˜è®¤ä¸º 6ã€‚</li>
<li><strong><em>min_count</em></strong>: æœ€å°è¯é¢‘ï¼Œé»˜è®¤ä¸º 10ã€‚</li>
<li><strong><em>max_iter</em></strong>: æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 5ã€‚</li>
<li><strong><em>chunksize</em></strong>: æ¯æ¬¡è¯»å–çš„è¡Œæ•°ã€‚é»˜è®¤ä¸º 10000ã€‚è¶Šå¤§é€Ÿåº¦è¶Šå¿«ã€‚</li>
<li><strong><em>only_binary</em></strong> : æ˜¯å¦åªä¿å­˜æ¨¡å‹ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚é»˜è®¤ä¸º Trueï¼Œ ä¿å­˜ä¸º binã€‚False æ—¶åªä¿å­˜ binã€txtã€‚</li>
<li><strong><em>kwargs</em></strong>: å…¶ä»– gensim å¯é€‰å‚æ•°ï¼Œå¦‚ negativeã€sampleã€hs ç­‰ã€‚</li>
</ul>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">corpus_file</span> <span class="o">=</span> <span class="s1">&#39;data/ä¸‰ä½“.txt&#39;</span><span class="p">,</span>
                  <span class="n">lang</span> <span class="o">=</span> <span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                  <span class="n">window_size</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
                  <span class="n">vector_size</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>


<span class="n">w2v</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/ä¸‰ä½“_cache.txt Not Found or Empty, Preprocessing Corpus
Reading Preprocessed Corpus from output/ä¸‰ä½“_cache.txt
Start Training Word2Vec
Word2Vec Training Cost 10 s.
Output Saved To: output/Word2Vec/ä¸‰ä½“-Word2Vec.50.6.bin
</code></pre></div><p>[data/ä¸‰ä½“.txt]ä½“ç§¯ 2.7Mï¼Œ è®­ç»ƒæ—¶é—´ 10sï¼Œ æ¨¡å‹æ–‡ä»¶å­˜å‚¨äº <strong><em>output/Word2Vec/ä¸‰ä½“-Word2Vec.50.6.bin</em></strong></p>
<p><img loading="lazy" src="img/03-word2vec.png" alt=""  />
</p>
<br>
<br>
<h3 id="42-glove">4.2 GloVe()</h3>
<p>ä½¿ç”¨ Stanford GloVe ä»£ç å·¥å…·è®­ç»ƒ GloVe æ¨¡å‹ã€‚è¯¥å‡½æ•°ä¼šè‡ªåŠ¨å¤„ç†æ–‡æœ¬é¢„å¤„ç†ã€å†…å­˜ç®¡ç†ã€å‚æ•°è°ƒæ•´ç­‰é—®é¢˜ï¼Œç¡®ä¿è®­ç»ƒè¿‡ç¨‹é¡ºåˆ©è¿›è¡Œã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.GloVe(corpus_file, lang=&#39;chinese&#39;, dict_file=None, stopwords_file=None, vector_size=100, window_size=15, min_count=5, max_memory=4.0, max_iter=15, x_max=10, only_binary=True, chunksize=10000)
</code></pre></div><ul>
<li><strong><em>corpus_file</em></strong>: è¾“å…¥è¯­æ–™æ–‡ä»¶è·¯å¾„ï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰ã€‚è¯¥æ–‡ä»¶ä¸ºåˆ†è¯åçš„è¯­æ–™æ–‡ä»¶ã€‚</li>
<li><strong><em>lang</em></strong>: è¯­æ–™æ–‡ä»¶çš„è¯­è¨€ç±»å‹ï¼Œé»˜è®¤ä¸º &lsquo;chinese&rsquo;ã€‚</li>
<li><strong><em>dict_file</em></strong>: è‡ªå®šä¹‰è¯å…¸ txt æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º Noneã€‚utf-8 ç¼–ç ã€‚</li>
<li><strong><em>stopwords_file</em></strong>: åœç”¨è¯æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º Noneã€‚utf-8 ç¼–ç ã€‚</li>
<li><strong><em>vector_size</em></strong>: è¯å‘é‡ç»´åº¦ï¼Œé»˜è®¤ 100ã€‚</li>
<li><strong><em>window_size</em></strong>: ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼Œé»˜è®¤ 15ã€‚</li>
<li><strong><em>min_count</em></strong>: å¿½ç•¥å‡ºç°æ¬¡æ•°ä½äºæ­¤å€¼çš„å•è¯ï¼Œé»˜è®¤ 5ã€‚</li>
<li><strong><em>max_memory</em></strong>: å¯ä¾›ä½¿ç”¨çš„æœ€å¤§å†…å­˜å¤§å°ï¼Œå•ä½ä¸º GBï¼Œé»˜è®¤ 4; è¯¥å‚æ•°è¶Šå¤§ï¼Œè®­ç»ƒè¶Šå¿«ã€‚</li>
<li><strong><em>max_iter</em></strong>: è®­ç»ƒçš„æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤ 15ã€‚</li>
<li><strong><em>x_max</em></strong>: å…±ç°çŸ©é˜µä¸­å…ƒç´ çš„æœ€å¤§è®¡æ•°å€¼ï¼Œé»˜è®¤ 10ã€‚</li>
<li><strong><em>chunksize</em></strong>: æ¯æ¬¡è¯»å–çš„è¡Œæ•°ã€‚é»˜è®¤ä¸º 10000ã€‚è¶Šå¤§é€Ÿåº¦è¶Šå¿«ã€‚</li>
<li><strong><em>only_binary</em></strong> : æ˜¯å¦åªä¿å­˜æ¨¡å‹ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚é»˜è®¤ä¸º Trueï¼Œ ä¿å­˜ä¸º binã€‚False æ—¶åªä¿å­˜ binã€txtã€‚</li>
</ul>
<br>
<p>ct.GloVe å†…ç½® <a href="https://nlp.stanford.edu/projects/glove/">Stanford GloVe</a>ç®—æ³•ï¼Œ è®­ç»ƒé€Ÿåº¦éå¸¸å¿«ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">glove</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">GloVe</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;data/ä¸‰ä½“.txt&#39;</span><span class="p">,</span>
                 <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span>
                 <span class="n">vector_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                 <span class="n">window_size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">glove</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Mac(Linux) System, Enable Parallel Processing
Cache output/ä¸‰ä½“_cache.txt Not Found or Empty, Preprocessing Corpus
Start Training GloVe
BUILDING VOCABULARY
Using vocabulary of size 6975.

COUNTING COOCCURRENCES
Merging cooccurrence files: processed 2106999 lines.

Using random seed 1743474106
SHUFFLING COOCCURRENCES
Merging temp files: processed 2106999 lines.

TRAINING MODEL
Read 2106999 lines.
Using random seed 1743474106
04/01/25 - 10:21.46AM, iter: 001, cost: 0.055981
04/01/25 - 10:21.46AM, iter: 002, cost: 0.050632
......
04/01/25 - 10:21.48AM, iter: 014, cost: 0.030047
04/01/25 - 10:21.48AM, iter: 015, cost: 0.029100

GloVe Training Cost 9 s.
Output Saved To: output/ä¸‰ä½“-GloVe.50.15.bin
&lt;gensim.models.keyedvectors.KeyedVectors at 0x331517440&gt;
</code></pre></div><p><img loading="lazy" src="img/05-glove.png" alt=""  />
</p>
<p>è®­ç»ƒç”Ÿæˆçš„ <code>output/GloVe/ä¸‰ä½“-GloVe.50.15.bin</code> å¯ç”¨ <strong><em>ct.load_w2v</em></strong> è¯»å–ï¼Œåœ¨åé¢ä¼šæœ‰å±•ç¤ºã€‚</p>
<br>
<h3 id="43-evaluate_similarity">4.3 evaluate_similarity()</h3>
<p>è¯„ä¼°è¯å‘é‡æ¨¡å‹è¯­ä¹‰ç›¸ä¼¼è¡¨ç°ã€‚ ä½¿ç”¨ Spearman&rsquo;s Rank Coeficient ä½œä¸ºè¯„ä»·æŒ‡æ ‡ï¼Œ å–å€¼[-1, 1], 1 å®Œå…¨ç›¸å…³ï¼Œ-1 å®Œå…¨è´Ÿç›¸å…³ï¼Œ 0 æ¯«æ— ç›¸å…³æ€§ã€‚</p>
<p>cntext2.x å†…ç½® 537 æ¡è¿‘ä¹‰å®éªŒæ•°æ®ï¼Œ å¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<p><img loading="lazy" src="img/01-similar.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong>wv</strong> è¯­æ–™ txt æ–‡ä»¶è·¯å¾„</li>
<li><strong>file</strong> è¯„ä¼°æ•°æ®æ–‡ä»¶ï¼Œtxt æ ¼å¼ï¼Œé»˜è®¤ä½¿ç”¨ cntext å†…ç½®çš„è¯„ä¼°æ•°æ®æ–‡ä»¶ã€‚ txt æ–‡ä»¶æ¯è¡Œä¸¤ä¸ªè¯ä¸€ä¸ªæ•°å­—ï¼Œå¦‚ä¸‹æ‰€ç¤º</li>
</ul>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¶³çƒ	è¶³çƒ	4.98
è€è™	è€è™	4.8888888889
æ’æ˜Ÿ	æ’æ˜Ÿ	4.7222222222
å…¥åœºåˆ¸	é—¨ç¥¨	4.5962962963
ç©ºé—´	åŒ–å­¦	0.9222222222
è‚¡ç¥¨	ç”µè¯	0.92
å›½ç‹	è½¦	0.9074074074
ä¸­åˆ	å­—ç¬¦ä¸²	0.6
æ”¶éŸ³æœº	å·¥ä½œ	0.6
æ•™æˆ	é»„ç“œ	0.5
è‡ªè¡Œè½¦	é¸Ÿ	0.5
è›‹ç™½è´¨	æ–‡ç‰©	0.15
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># å¯åœ¨ https://cntext.readthedocs.io/zh-cn/latest/embeddings.html ä¸‹è½½è¯¥æ¨¡å‹æ–‡ä»¶</span>
<span class="n">dm_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/douban-movie-1000w-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>

<span class="c1"># ä½¿ç”¨å†…ç½®è¯„ä¼°æ–‡ä»¶</span>
<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_similarity</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">dm_w2v</span><span class="p">)</span>
<span class="c1"># ä½¿ç”¨è‡ªå®šä¹‰è¯„ä¼°æ–‡ä»¶</span>
<span class="c1"># ct.evaluate_similarity(wv=dm_w2v, file=&#39;diy_similarity.txt&#39;)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">è¿‘ä¹‰æµ‹è¯•: similarity.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/similarity.txt
Processing Similarity Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 537/537 [00:00&lt;00:00, 85604.55it/s]

è¯„ä¼°ç»“æœï¼š
+----------+------------+----------------------------+
| å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | Spearman&#39;s Rank Coeficient |
+----------+------------+----------------------------+
|   459    |     78     |            0.43            |
+----------+------------+----------------------------+
</code></pre></div><br>
<h3 id="44-evaluate_analogy">4.4 evaluate_analogy()</h3>
<p>ç”¨äºè¯„ä¼°è¯å‘é‡æ¨¡å‹åœ¨ç±»æ¯”æµ‹è¯•ï¼ˆanalogy testï¼‰ä¸­è¡¨ç°çš„å‡½æ•°ã€‚å®ƒé€šè¿‡è¯»å–æŒ‡å®šçš„ç±»æ¯”æµ‹è¯•æ–‡ä»¶ï¼Œè®¡ç®—æ¨¡å‹å¯¹è¯è¯­å…³ç³»é¢„æµ‹çš„å‡†ç¡®æ€§ï¼Œå¹¶è¾“å‡ºæ¯ä¸ªç±»åˆ«çš„å‡†ç¡®ç‡ã€å‘ç°è¯è¯­æ•°é‡ã€æœªå‘ç°è¯è¯­æ•°é‡ä»¥åŠå¹³å‡æ’åç­‰æŒ‡æ ‡ã€‚</p>
<ul>
<li>é›…å…¸ä¹‹äºå¸Œè…Šï¼Œä¼¼å¦‚å·´æ ¼è¾¾ä¹‹äºä¼Šæ‹‰å…‹ã€‚</li>
<li>å“ˆå°”æ»¨ä¹‹äºé»‘é¾™æ±Ÿï¼Œä¼¼å¦‚é•¿æ²™ä¹‹äºæ¹–å—ã€‚</li>
<li>å›½ç‹ä¹‹äºç‹åï¼Œä¼¼å¦‚ç”·äººä¹‹äºå¥³äººã€‚</li>
</ul>
<p><img loading="lazy" src="img/02-analogy-woman.png" alt=""  />
</p>
<p>cntext2.x å†…ç½® 1194 æ¡ç±»æ¯”ï¼Œ æ ¼å¼å¦‚ä¸‹</p>
<p><img loading="lazy" src="img/03-analogy.png" alt=""  />
</p>
<p>ç±»æ¯”æµ‹è¯•çš„æ ¸å¿ƒæ˜¯è§£å†³å½¢å¦‚ &ldquo;A : B :: C : D&rdquo; çš„é—®é¢˜ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯&quot;A ä¹‹äº Bï¼Œä¼¼å¦‚ C ä¹‹äº D&quot;ï¼› å³é€šè¿‡ AB ç±»æ¯”å…³ç³»ï¼Œæ‰¾åˆ° C çš„å…³ç³»è¯ Dã€‚è¯¥å‡½æ•°é€šè¿‡è¯å‘é‡æ¨¡å‹çš„ç›¸ä¼¼æ€§æœç´¢åŠŸèƒ½ï¼Œè®¡ç®—é¢„æµ‹ç»“æœä¸çœŸå®ç­”æ¡ˆçš„åŒ¹é…ç¨‹åº¦ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong>wv</strong> è¯­æ–™ txt æ–‡ä»¶è·¯å¾„</li>
<li><strong>file</strong> è¯„ä¼°æ•°æ®æ–‡ä»¶ï¼Œtxt æ ¼å¼ï¼Œé»˜è®¤ä½¿ç”¨ cntext å†…ç½®çš„è¯„ä¼°æ•°æ®æ–‡ä»¶ã€‚ txt æ–‡ä»¶æ¯è¡Œä¸¤ä¸ªè¯ä¸€ä¸ªæ•°å­—ï¼Œå¦‚ä¸‹æ‰€ç¤º</li>
</ul>
<br>
<p>è¯„ä¼°æ•°æ® txt æ–‡ä»¶æ ¼å¼ï¼Œå¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">: CapitalOfCountries
é›…å…¸ å¸Œè…Š å·´æ ¼è¾¾ ä¼Šæ‹‰å…‹
å“ˆç“¦é‚£ å¤å·´ é©¬å¾·é‡Œ è¥¿ç­ç‰™
æ²³å†… è¶Šå— ä¼¦æ•¦ è‹±å›½
: CityInProvince
çŸ³å®¶åº„ æ²³åŒ— å—æ˜Œ æ±Ÿè¥¿
æ²ˆé˜³ è¾½å® å—æ˜Œ æ±Ÿè¥¿
å—äº¬ æ±Ÿè‹ éƒ‘å· æ²³å—
: FamilyRelationship
ç”·å­© å¥³å­© å…„å¼Ÿ å§å¦¹
ç”·å­© å¥³å­© å›½ç‹ ç‹å
çˆ¶äº² æ¯äº² å›½ç‹ ç‹å
ä¸ˆå¤« å¦»å­ å”å” é˜¿å§¨
: SocialScience-Concepts
ç¤¾ä¼š ç¤¾ä¼šç»“æ„ å®¶åº­ å®¶åº­ç»“æ„
æ–‡åŒ– æ–‡åŒ–ä¼ æ‰¿ è¯­è¨€ è¯­è¨€ä¼ æ‰¿
ç¾¤ä½“ ç¾¤ä½“è¡Œä¸º ç»„ç»‡ ç»„ç»‡è¡Œä¸º
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># å¯åœ¨ https://cntext.readthedocs.io/zh-cn/latest/embeddings.html ä¸‹è½½è¯¥æ¨¡å‹æ–‡ä»¶</span>
<span class="n">dm_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;output/douban-movie-1000w-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>

<span class="c1"># ä½¿ç”¨å†…ç½®è¯„ä¼°æ–‡ä»¶</span>
<span class="n">ct</span><span class="o">.</span><span class="n">evaluate_analogy</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">dm_w2v</span><span class="p">)</span>
<span class="c1"># ä½¿ç”¨è‡ªå®šä¹‰è¯„ä¼°æ–‡ä»¶</span>
<span class="c1"># ct.evaluate_analogy(wv=dm_w2v, file=&#39;diy_analogy.txt&#39;)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ç±»æ¯”æµ‹è¯•: analogy.txt
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/cntext/model/evaluate_data/analogy.txt
Processing Analogy Test: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1198/1198 [00:11&lt;00:00, 103.52it/s]

è¯„ä¼°ç»“æœï¼š
+--------------------+----------+------------+------------+----------+
|      Category      | å‘ç°è¯è¯­ | æœªå‘ç°è¯è¯­ | å‡†ç¡®ç‡ (%) | å¹³å‡æ’å |
+--------------------+----------+------------+------------+----------+
| CapitalOfCountries |   615    |     62     |   39.02    |   2.98   |
|   CityInProvince   |   175    |     0      |   28.57    |   4.74   |
| FamilyRelationship |   272    |     0      |   92.65    |   1.48   |
|   SocialScience    |    8     |     62     |   25.00    |   6.00   |
+--------------------+----------+------------+------------+----------+
</code></pre></div><p>è±†ç“£ç”µå½±åœ¨ FamilyRelationship è¯„ä¼°ä¸­è¡¨ç°è¾ƒå¥½ï¼Œå¤§æ¦‚ç‡æ˜¯å› ä¸ºç”µå½±ä¸»è¦åæ˜ çš„æ˜¯äººä¸äººä¹‹é—´çš„å…³ç³»ï¼Œè¦†ç›–äº†ç»å¤§å¤šæ•° FamilyRelationship å®¶åº­ç±»æ¯”å…³ç³»ï¼Œæ‰€ä»¥ç±»æ¯”è¡¨ç°å·¨å¥½ï¼Œä½†åœ¨å…¶ä»–æ–¹é¢è¡¨ç°è¾ƒå·®ã€‚</p>
<p>å¦‚æœæ˜¯ç»´åŸºç™¾ç§‘è¯­æ–™ï¼Œå¯èƒ½åœ¨ CapitalOfCountriesã€CityInProvinceã€SocialScience ä¸­è¡¨ç°è¾ƒå¥½ã€‚</p>
<br>
<h3 id="45-sopmi">4.5 SoPmi()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">SoPmi</span><span class="p">(</span><span class="n">corpus_file</span><span class="p">,</span> <span class="n">seed_file</span><span class="p">)</span>       <span class="c1">#äººå·¥æ ‡æ³¨çš„åˆå§‹ç§å­è¯</span>
</code></pre></div><ul>
<li><strong>corpus_file</strong> è¯­æ–™ txt æ–‡ä»¶è·¯å¾„</li>
<li><strong>seed_file</strong> åˆå§‹ç§å­è¯ txt æ–‡ä»¶è·¯å¾„</li>
</ul>
<p>å…±ç°æ³•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">ct</span><span class="o">.</span><span class="n">SoPmi</span><span class="p">(</span><span class="n">corpus_file</span><span class="o">=</span><span class="s1">&#39;data/sopmi_corpus.txt&#39;</span><span class="p">,</span>
         <span class="n">seed_file</span><span class="o">=</span><span class="s1">&#39;data/sopmi_seed.txt&#39;</span><span class="p">)</span>       <span class="c1"># äººå·¥æ ‡æ³¨çš„åˆå§‹ç§å­è¯</span>

</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Step 1/4:...Preprocess   Corpus ...
Step 2/4:...Collect co-occurrency information ...
Step 3/4:...Calculate   mutual information ...
Step 4/4:...Save    candidate words ...
Finish! used 19.74 s
</code></pre></div><p><img loading="lazy" src="img/06-sopmi.png" alt=""  />
</p>
<br>
<h3 id="46-load_w2v">4.6 load_w2v()</h3>
<p>å¯¼å…¥ cntext2.x é¢„è®­ç»ƒçš„ word2vec æ¨¡å‹ .txt æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">w2v_path</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong>w2v_path</strong> æ¨¡å‹æ–‡ä»¶è·¯å¾„</li>
</ul>
<p>è¯»å– <strong><em>output/ä¸‰ä½“.100.6.txt</em></strong> æ¨¡å‹æ–‡ä»¶, è¿”å› <code>gensim.models.word2vec.Word2Vec</code> ç±»å‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">santi_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">w2v_path</span><span class="o">=</span><span class="s1">&#39;output/ä¸‰ä½“-Word2Vec.50.6.bin&#39;</span><span class="p">)</span>
<span class="c1"># santi_w2v = ct.load_wv(wv_path=&#39;output/ä¸‰ä½“-Word2Vec.50.6.txt&#39;)</span>

<span class="n">santi_glove</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="n">w2v_path</span><span class="o">=</span><span class="s1">&#39;output/ä¸‰ä½“-GloVe.50.15.bin&#39;</span><span class="p">)</span>
<span class="c1"># santi_glove = ct.load_wv(wv_path=&#39;output/ä¸‰ä½“-GloVe.50.15.bin&#39;)</span>

<span class="n">santi_w2v</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Loading output/ä¸‰ä½“-Word2Vec.50.6.bin...
Loading output/ä¸‰ä½“-GloVe.50.15.bin...
&lt;gensim.models.keyedvectors.KeyedVectors at 0x33aa9cf80&gt;
</code></pre></div><br>
<h3 id="47-glove2word2vec">4.7 glove2word2vec()</h3>
<p>å°† GLoVe æ¨¡å‹.txt æ–‡ä»¶è½¬åŒ–ä¸º Word2Vec æ¨¡å‹.txt æ–‡ä»¶ï¼› é™¤éä»ç½‘ç»œä¸‹è½½çš„ GloVe æ¨¡å‹èµ„æºï¼Œ å¦åˆ™ä¸€èˆ¬æƒ…å†µç”¨ä¸åˆ°è¿™ä¸ªå‡½æ•°ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">glove2word2vec</span><span class="p">(</span><span class="n">glove_file</span><span class="p">,</span> <span class="n">word2vec_file</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>glove_file</em></strong>: GLoVe æ¨¡å‹.txt æ–‡ä»¶è·¯å¾„</li>
<li><strong><em>word2vec_file</em></strong>: Word2Vec æ¨¡å‹.txt æ–‡ä»¶è·¯å¾„</li>
</ul>
<br>
<p>æ³¨æ„è¿™é‡Œçš„ GLoVe æ¨¡å‹.txt æ˜¯é€šè¿‡<a href="https://github.com/standfordnlp/GloVe">Standfordnlp/GloVe</a> è®­ç»ƒå¾—åˆ°çš„</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="n">ct</span><span class="o">.</span><span class="n">glove2word2vec</span><span class="p">(</span><span class="n">glove_file</span><span class="o">=</span><span class="s1">&#39;data/GloVe.6B.50d.txt&#39;</span><span class="p">,</span>
                  <span class="n">word2vec_file</span><span class="o">=</span><span class="s1">&#39;output/word2vec_format_GloVe.6B.50d.txt&#39;</span><span class="p">)</span>
</code></pre></div><br>
<h3 id="æ³¨æ„">æ³¨æ„</h3>
<ul>
<li><strong><em>ct.load_w2v()</em></strong> å¯¼å…¥åå¾—åˆ°çš„æ•°æ®ç±»å‹æ˜¯ <strong><em>gensim.models.keyedvectors.KeyedVectors</em></strong> ã€‚</li>
<li><strong><em>gensim.models.word2vec.Word2Vec</em></strong> å¯ä»¥è½¬åŒ–ä¸º <strong><em>gensim.models.keyedvectors.KeyedVectors</em></strong> ï¼Œ</li>
</ul>
<br>
<h3 id="48-expand_dictionary">4.8 expand_dictionary()</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.expand_dictionary(wv,  seeddict, topn=100)
</code></pre></div><ul>
<li><strong>wv</strong> é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li><strong>seeddict</strong> å‚æ•°ç±»ä¼¼äºç§å­è¯ï¼›æ ¼å¼ä¸º PYTHON å­—å…¸ï¼›</li>
<li><strong>topn</strong> è¿”å› topn ä¸ªè¯­ä¹‰æœ€æ¥è¿‘ seeddict çš„è¯</li>
</ul>
<p>æ ¹æ®è®¾ç½®çš„ seeddict, å¯æŒ‰ç±»åˆ«æ‰©å±•å¹¶ç”Ÿæˆå¯¹åº”çš„è¯å…¸ txt æ–‡ä»¶ï¼Œ txt æ–‡ä»¶ä½äº[output]æ–‡ä»¶å¤¹å†…ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">seeddict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;äººç‰©&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;å¶æ–‡æ´&#39;</span><span class="p">,</span> <span class="s1">&#39;å²å¼º&#39;</span><span class="p">,</span> <span class="s1">&#39;ç½—è¾‘&#39;</span><span class="p">],</span>
    <span class="s1">&#39;ç‰©ä½“&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;é£èˆ¹&#39;</span><span class="p">,</span> <span class="s1">&#39;è½¦è¾†&#39;</span><span class="p">]</span>
<span class="p">}</span>


<span class="n">ct</span><span class="o">.</span><span class="n">expand_dictionary</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">santi_w2v</span><span class="o">.</span><span class="n">wv</span><span class="p">,</span>
                     <span class="n">seeddict</span><span class="o">=</span><span class="n">seeddict</span><span class="p">,</span>
                     <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/04-expand.png" alt=""  />
</p>
<br>
<br>
<h2 id="äº”mind-æ¨¡å—">äº”ã€Mind æ¨¡å—</h2>
<p>è¯åµŒå…¥ä¸­è•´å«ç€äººç±»çš„è®¤çŸ¥ä¿¡æ¯ï¼Œä»¥å¾€çš„è¯åµŒå…¥å¤§å¤šæ˜¯æ¯”è¾ƒä¸€ä¸ªæ¦‚å¿µä¸­ä¸¤ç»„åä¹‰è¯ä¸æŸå¯¹è±¡çš„è·ç¦»è®¡ç®—è®¤çŸ¥ä¿¡æ¯ã€‚</p>
<ul>
<li>
<p><strong>å¤šä¸ªå¯¹è±¡ä¸æŸæ¦‚å¿µçš„è¯­ä¹‰è¿œè¿‘</strong>ï¼ŒèŒä¸šä¸æ€§åˆ«ï¼ŒæŸä¸ªèŒä¸šæ˜¯å¦å­˜åœ¨äº²è¿‘ç”·æ€§ï¼Œè€Œæ’æ–¥å¥³æ€§</p>
</li>
<li>
<p>å¤šä¸ªå¯¹è±¡åœ¨æŸæ¦‚å¿µå‘é‡æŠ•å½±çš„å¤§å°ï¼Œ äººç±»è¯­è¨€ä¸­ç•™å­˜ç€å¯¹ä¸åŒåŠ¨ç‰©ä½“ç§¯çš„è®¤çŸ¥è®°å¿†ï¼Œå¦‚å°é¼ å¤§è±¡ã€‚åŠ¨ç‰©è¯åœ¨è¯å‘é‡ç©ºé—´ä¸­æ˜¯å¦èƒ½ç•™å­˜ç€è¿™ç§å¤§å°çš„è®°å¿†</p>
</li>
</ul>
<p>æœ¬æ¨¡å—ä¸»è¦æ˜¯åˆ©ç”¨å·²è®­ç»ƒå‡ºçš„ word2vec æ¨¡å‹ï¼ŒæŒ–æ˜æ½œåœ¨çš„æ€åº¦åè§ã€åˆ»æ¿å°è±¡ç­‰ã€‚ è¿™éƒ¨åˆ†éš¾åº¦è¾ƒå¤§ï¼Œ å»ºè®®æœ‰ç²¾åŠ›ä¸”ç”µè„‘æ€§èƒ½å¥½çš„åŒå­¦å¯ä»¥ç”¨ cntext è®­ç»ƒæ¨¡å‹ï¼Œ å†æ¥å®éªŒ Mind æ¨¡å—ã€‚</p>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°(ç±»)</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.semantic_centroid(wv, words)</code></td>
<td>è®¡ç®—å¤šä¸ªè¯è¯­çš„è¯­ä¹‰ä¸­å¿ƒå‘é‡</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.generate_concept_axis(wv, poswords, negwords)</code></td>
<td>ç”Ÿæˆæ¦‚å¿µè½´å‘é‡ã€‚</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>sematic_projection(wv, words, poswords, negwords)</code></td>
<td>æµ‹é‡è¯­ä¹‰æŠ•å½±</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.project_word(wv, a, b, cosine=False)</code></td>
<td>åœ¨è¯å‘é‡ç©ºé—´ä¸­ï¼Œ è®¡ç®—è¯è¯­ a åœ¨è¯è¯­ b ä¸Šçš„æŠ•å½±</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.project_text(wv, text, axis, lang='chinese', cosine=False)</code></td>
<td>è®¡ç®—è¯è¯­æ–‡æœ¬textåœ¨æ¦‚å¿µè½´å‘é‡axisä¸Šçš„æŠ•å½±å€¼</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.wepa(wv, text, poswords, negwords, lang='chinese')</code></td>
<td>è®¡ç®—æ–‡æœ¬åœ¨æ¦‚å¿µè½´ä¸Šçš„æŠ•å½±å¾—åˆ†ï¼Œè¿”å›wepaå¾—åˆ†</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.sematic_distance(wv, words1, words2)</code></td>
<td>æµ‹é‡è¯­ä¹‰è·ç¦»</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.divergent_association_task(wv, words)</code></td>
<td>æµ‹é‡å‘æ•£æ€ç»´(åˆ›é€ åŠ›)</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><code>ct.discursive_diversity_score(wv, words)</code></td>
<td>æµ‹é‡è¯­è¨€å·®å¼‚æ€§(è®¤çŸ¥å·®å¼‚æ€§)</td>
</tr>
<tr>
<td><strong>mind</strong></td>
<td><strong>ct.procrustes_align(base_wv, other_wv)</strong></td>
<td>ä¸¤ä¸ª word2vec è¿›è¡Œè¯­ä¹‰å¯¹é½ï¼Œå¯ååº”éšæ—¶é—´çš„ç¤¾ä¼šè¯­ä¹‰å˜è¿</td>
</tr>
</tbody>
</table>
<br>
<h3 id="51-semantic_centroidwv-words">5.1 semantic_centroid(wv, words)</h3>
<p>è®¡ç®—å¤šä¸ªè¯è¯­çš„è¯­ä¹‰ä¸­å¿ƒå‘é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># è·å–è¯å‘é‡æ–‡ä»¶ https://cntext.readthedocs.io/zh-cn/latest/embeddings.html</span>
<span class="n">w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;ä¸“åˆ©æ‘˜è¦-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="n">semantic_centroid</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">w2v</span><span class="p">,</span> <span class="n">words</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;é¢ è¦†&#39;</span><span class="p">])</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([ 0.15567462, -0.05117003, -0.18534171,  0.20808656, -0.01133028,
        0.10738188, -0.02571066,  0.06051835,  0.00107351,  0.08017981,
        0.08914138,  0.01845527,  0.06232869, -0.03851539, -0.17092938,
        0.02196799, -0.04136903,  0.11350462, -0.09539546,  0.04907424,
        0.01268489,  0.05294977,  0.08449743, -0.02762416,  0.02332745,
        0.08865491, -0.06260188, -0.0378293 ,  0.04771722,  0.05745243,
        0.04417403, -0.04126203, -0.02403288, -0.03834526,  0.08115771,
        0.01508994,  0.07678635,  0.01395652,  0.1360324 ,  0.03027042,
       -0.02819572,  0.02339242,  0.11504567,  0.02910597,  0.06149592,
        0.01126606, -0.10132807,  0.07762785, -0.01214836,  0.03780747,
        0.12758181, -0.03115267, -0.19343086, -0.21930983,  0.05253006,
       -0.01452067, -0.07067247, -0.04237257, -0.08911953,  0.08573315,
        0.02742999,  0.05392318,  0.02916237,  0.04465031, -0.0788566 ,
       -0.07088121,  0.03111146,  0.00387428, -0.04032568,  0.14935694,
       -0.03880607,  0.07259471,  0.01711774, -0.05551507,  0.01039889,
        0.00666137,  0.03313185,  0.03169986,  0.08127907,  0.0239668 ,
       -0.00991806, -0.04201584,  0.01199235, -0.08669737, -0.02087858,
       -0.03440931,  0.02360864,  0.06623896, -0.01020982,  0.01200165,
        0.01059455,  0.13041293,  0.01103112,  0.03814259, -0.01519256,
        0.02946554,  0.00593279,  0.08796389,  0.0198915 , -0.0569265 ,
       -0.14622693,  0.07680258, -0.02288322, -0.04959924,  0.03325186,
        0.11031196,  0.06893978,  0.04289736, -0.0307357 , -0.09662723,
        0.02554002,  0.05394766,  0.047071  , -0.09522557, -0.08160087,
       -0.01467315, -0.01304489,  0.07513782,  0.04484766, -0.0516454 ,
        0.00648148,  0.01093231, -0.00303798, -0.06217093,  0.02755075,
       -0.10749754, -0.05205868, -0.02562402,  0.09068517,  0.05208463,
       -0.11790312,  0.02881086, -0.02414756,  0.00192055,  0.03881926,
       -0.05390498,  0.06648378,  0.02055933, -0.07083403, -0.07248309,
       -0.12991821,  0.0603951 ,  0.14131376, -0.01507344, -0.06480791,
       -0.08994781, -0.03397571,  0.0108852 , -0.02777362,  0.01159309,
        0.00121858, -0.0690551 , -0.07747664,  0.03437752, -0.14576062,
        0.06320656, -0.10743124, -0.01910913,  0.15803815, -0.03027673,
       -0.02909171, -0.03350233, -0.0694584 , -0.09807504, -0.09133697,
       -0.01123043,  0.04894681, -0.01971908, -0.08290677, -0.00336836,
        0.09619438, -0.03496556,  0.09733834, -0.0421683 ,  0.01408717,
        0.03355598,  0.00748263,  0.011903  , -0.12909584,  0.01545653,
        0.07656407,  0.09496018,  0.0608537 ,  0.00597665, -0.01628997,
        0.06285962, -0.16796936, -0.0486528 ,  0.01525079, -0.03067709,
       -0.02952635, -0.02731965, -0.06351878,  0.03577968,  0.0457835 ,
        0.08370785, -0.03491699, -0.12606403, -0.08686454, -0.04782247])
</code></pre></div><br>
<h3 id="52-generate_concept_axiswv-poswords-negwords">5.2 generate_concept_axis(wv, poswords, negwords)</h3>
<p>ç”Ÿæˆæ¦‚å¿µè½´å‘é‡ã€‚</p>
<ul>
<li><strong><em>wv</em></strong> ç”Ÿæˆæ¦‚å¿µè½´å‘é‡ã€‚</li>
<li><strong><em>poswords</em></strong> ç¬¬ä¸€ä¸ªè¯è¯­åˆ—è¡¨ï¼Œè¡¨ç¤ºæ¦‚å¿µæ­£ä¹‰è¯ã€‚</li>
<li><strong><em>negwords</em></strong> ç¬¬äºŒä¸ªè¯è¯­åˆ—è¡¨ï¼Œè¡¨ç¤ºæ¦‚å¿µåä¹‰è¯ã€‚</li>
</ul>
<p>éœ€è¦æ³¨æ„ï¼Œ æ¦‚å¿µ 1 ä¸ æ¦‚å¿µ 2 æ˜¯æ€§è´¨(æ–¹å‘)ç›¸åçš„ä¸¤ä¸ªæ¦‚å¿µï¼Œ å¦‚</p>
<ul>
<li>æ€§åˆ«(ç”·, å¥³)</li>
<li>å°ºå¯¸(å¤§, å°)</li>
<li>æ–¹å‘(é«˜, ä½)</li>
<li>æ–¹å‘(å‰, å)</li>
<li>æ¹¿åº¦(å¹², æ¹¿)</li>
<li>è´¢å¯Œ(è´«, å¯Œ)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># è·å–è¯å‘é‡æ–‡ä»¶</span>
<span class="c1"># https://github.com/hiDaDeng/Chinese-Pretrained-Word-Embeddings</span>
<span class="n">dm_w2v</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;douban-movie-1000w-Word2Vec.200.15.bin&#39;</span><span class="p">)</span>
<span class="n">gender_axis_vector</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">generate_concept_axis</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">dm_w2v</span><span class="p">,</span>
                                              <span class="n">poswords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ç”·&#39;</span><span class="p">,</span> <span class="s1">&#39;ç”·äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ¶äº²&#39;</span><span class="p">],</span>
                                              <span class="n">negwords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;å¥³&#39;</span><span class="p">,</span> <span class="s1">&#39;å¥³äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¯äº²&#39;</span><span class="p">])</span>
<span class="n">gender_axis_vector</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">array([-0.0118976 ,  0.03178174, -0.04656127,  0.00613294, -0.03692355,
       -0.06293361, -0.04739443,  0.01368712,  0.02603469, -0.02268519,
       -0.09925436,  0.05780286,  0.11218373,  0.07519485,  0.06885784,
        0.05505687, -0.04097392,  0.1737831 ,  0.05118835, -0.06879821,
        0.04762978,  0.02224233, -0.04891564, -0.08712718, -0.01432874,
       -0.07395219,  0.01229804,  0.06655715, -0.01864985, -0.04864848,
        0.00260787,  0.06843776,  0.00472286,  0.03623124,  0.11959086,
       -0.04683099, -0.11005358,  0.0271024 , -0.05976011,  0.12669185,
        0.03592191, -0.01125782, -0.02587771, -0.02719228,  0.0507662 ,
       -0.09198377,  0.09546432, -0.01937146,  0.06106697, -0.0405688 ,
       -0.1311393 ,  0.06090249,  0.03515694,  0.01364273, -0.02491697,
        0.03379048, -0.06635275,  0.01432849,  0.01212378, -0.0625283 ,
       -0.03481676, -0.0422427 , -0.17145215, -0.06323837,  0.02563147,
       -0.02371969,  0.01217621, -0.00346871,  0.07024875,  0.08295133,
        0.00731711, -0.01932047,  0.02165518, -0.09927654, -0.08531073,
        0.01949702,  0.00536061,  0.10426087, -0.02010326,  0.02297032,
       -0.10657956,  0.1035546 ,  0.00569263, -0.0849498 ,  0.1098236 ,
        0.05310893, -0.0802139 , -0.01034231, -0.12204715,  0.01407488,
       -0.01781198, -0.0134118 ,  0.09836894,  0.16098371,  0.00609895,
        0.05433145, -0.08940306,  0.00136946, -0.08455469, -0.08432727,
        0.04675778, -0.03415223, -0.18552355, -0.05219543, -0.01127822,
        0.02059881, -0.08120015, -0.15610164,  0.01439221,  0.01727759,
       -0.14516874,  0.01783531, -0.13099317,  0.03820422,  0.03033866,
       -0.01779634,  0.07759558,  0.15866944,  0.00191632, -0.00905253,
        0.0312649 , -0.05698524,  0.07270953, -0.00734233,  0.06289094,
        0.01014149, -0.0052088 ,  0.02478063, -0.0112649 , -0.0930789 ,
        0.14639418, -0.08183327, -0.08392337, -0.01458992, -0.0163887 ,
        0.06790476, -0.03252221,  0.08593727,  0.10469338, -0.01363467,
        0.00749907, -0.01320484,  0.08405331,  0.0489707 , -0.11343482,
       -0.10319041, -0.02415894,  0.13382405, -0.01983603, -0.00990637,
       -0.03335103,  0.11718886, -0.05802442, -0.18935862, -0.07409969,
       -0.08306517, -0.04423901,  0.11331058,  0.00588326,  0.06339834,
        0.04405889,  0.1263905 , -0.007273  , -0.02706875,  0.02325469,
       -0.13092995,  0.02056245, -0.0442118 , -0.01964739, -0.06501938,
        0.02196051, -0.1823353 ,  0.04273191,  0.01935809, -0.01464438,
       -0.02626805,  0.09194217,  0.02489716,  0.05376589, -0.00484252,
        0.02822759,  0.06744799, -0.14196248,  0.03016541, -0.05347864,
       -0.16907257,  0.05094757,  0.0721257 , -0.00421157,  0.03022675,
       -0.00047884,  0.07792547, -0.00209365,  0.0669208 ,  0.02009218,
        0.11358768, -0.05002993,  0.01760067,  0.03407429, -0.0893421 ],
      dtype=float32)
</code></pre></div><br>
<h3 id="53-sematic_distance">5.3 sematic_distance()</h3>
<p><strong>å¤šä¸ªå¯¹è±¡ä¸æŸæ¦‚å¿µçš„è¯­ä¹‰è¿œè¿‘</strong>ï¼Œä¾‹å¦‚æˆåŠŸä¸æ€§åˆ«ï¼ŒæˆåŠŸæ˜¯å¦å­˜åœ¨äº²è¿‘ç”·æ€§ï¼Œè€Œæ’æ–¥å¥³æ€§</p>
<p><img loading="lazy" src="img/21-music-success-genderbias.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.sematic_distance(wv, words1, words2)
</code></pre></div><ul>
<li><strong><em>wv</em></strong> æ¨¡å‹æ•°æ®ï¼Œ æ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li><strong><em>words1</em></strong>ã€<strong>words2</strong> å‡ä¸ºè¯è¯­åˆ—è¡¨</li>
</ul>
<p>åˆ†åˆ«è®¡ç®— <strong><em>words1</em></strong> ä¸ <strong><em>words2</em></strong> è¯­ä¹‰è·ç¦»ï¼Œè¿”å›è·ç¦»å·®å€¼ã€‚ä¾‹å¦‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">male_concept = [&#39;male&#39;, &#39;man&#39;, &#39;he&#39;, &#39;him&#39;]
female_concept = [&#39;female&#39;, &#39;woman&#39;, &#39;she&#39;, &#39;her&#39;]
engineer_concept  = [&#39;engineer&#39;,  &#39;programming&#39;,  &#39;software&#39;]

dist(male, engineer) = distance(male_concept,  engineer_concept)
dist(female, engineer) = distance(female_concept,  engineer_concept)
</code></pre></div><p>å¦‚æœ <strong><em>dist(male, engineer)-dist(female, engineer)&lt;0</em></strong>ï¼Œè¯´æ˜åœ¨è¯­ä¹‰ç©ºé—´ä¸­ï¼Œ<strong><em>engineer_concept</em></strong> æ›´æ¥è¿‘ <strong><em>male_concept</em></strong> ï¼Œæ›´è¿œç¦» <strong><em>female_concept</em></strong> ã€‚</p>
<p>æ¢è¨€ä¹‹ï¼Œåœ¨è¯¥è¯­æ–™ä¸­ï¼Œäººä»¬å¯¹è½¯ä»¶å·¥ç¨‹å¸ˆè¿™ä¸€ç±»å·¥ä½œï¼Œå¯¹å¥³æ€§å­˜åœ¨åˆ»æ¿å°è±¡(åè§)ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># glove_w2v.6B.100d.txté“¾æ¥: https://pan.baidu.com/s/1MMfQ7M0YCzL9Klp4zrlHBw æå–ç : 72l0</span>
<span class="n">g_wv</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;data/glove_w2v.6B.100d.txt&#39;</span><span class="p">)</span>

<span class="n">engineer</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;program&#39;</span><span class="p">,</span> <span class="s1">&#39;software&#39;</span><span class="p">,</span> <span class="s1">&#39;computer&#39;</span><span class="p">]</span>
<span class="n">man_words</span> <span class="o">=</span>  <span class="p">[</span><span class="s2">&#34;man&#34;</span><span class="p">,</span> <span class="s2">&#34;he&#34;</span><span class="p">,</span> <span class="s2">&#34;him&#34;</span><span class="p">]</span>
<span class="n">woman_words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;woman&#34;</span><span class="p">,</span> <span class="s2">&#34;she&#34;</span><span class="p">,</span> <span class="s2">&#34;her&#34;</span><span class="p">]</span>

<span class="n">dist_male_engineer</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">sematic_distance</span><span class="p">(</span><span class="n">male_concept</span><span class="p">,</span>  <span class="n">engineer_concept</span><span class="p">)</span>
<span class="n">dist_female_engineer</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">sematic_distance</span><span class="p">(</span><span class="n">female_concept</span><span class="p">,</span>  <span class="n">engineer_concept</span><span class="p">)</span>

<span class="n">dist_male_engineer</span> <span class="o">-</span> <span class="n">dist_female_engineer</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">-0.5
</code></pre></div><p>dist_male_engineer &lt; dist_female_engineerï¼Œåœ¨è¯­ä¹‰ç©ºé—´ä¸­ï¼Œå·¥ç¨‹å¸ˆæ›´æ¥è¿‘äºç”·äººï¼Œè€Œä¸æ˜¯å¥³äººã€‚</p>
<br>
<h3 id="54-sematic_projection">5.4 sematic_projection()</h3>
<p>å¤šä¸ªå¯¹è±¡åœ¨æŸæ¦‚å¿µå‘é‡æŠ•å½±çš„å¤§å°</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">sematic_projection</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">words</span><span class="p">,</span> <span class="n">poswords</span><span class="p">,</span> <span class="n">negwords</span><span class="p">,</span> <span class="n">return_full</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cosine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong><em>wv</em></strong> æ¨¡å‹æ•°æ®ï¼Œ æ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li><strong><em>words</em></strong>ã€<strong><em>poswords</em></strong>ã€<strong><em>negwords</em></strong> å‡ä¸ºè¯è¯­åˆ—è¡¨</li>
<li><strong>cosine</strong>: æ˜¯å¦ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œé»˜è®¤ä¸ºFalseï¼Œè¿”å›æŠ•å½±å€¼ï¼›Trueæ—¶è¿”å›ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li><strong>return_full</strong>: æ˜¯å¦è¿”å›å®Œæ•´å…ƒç»„åˆ—è¡¨ï¼Œé»˜è®¤ä¸ºTrue</li>
</ul>
<br>
<p>ä¸ºäº†è§£é‡Šè¯å‘é‡æ¨¡å‹çš„è¯­ä¹‰æŠ•å½±ï¼Œæˆ‘ä½¿ç”¨äº† 2022 å¹´ Nature è®ºæ–‡ä¸­çš„å›¾ç‰‡[@Grand2022SemanticPR]ã€‚ å…³äºåŠ¨ç‰©çš„åå­—ï¼Œäººç±»å¯¹åŠ¨ç‰©å¤§å°çš„è®¤çŸ¥ä¿¡æ¯éšè—åœ¨è¯­æ–™åº“æ–‡æœ¬ä¸­ã€‚ é€šè¿‡å°†<strong>LARGE WORDS</strong> å’Œ<strong>SMALL WORDS</strong>çš„å«ä¹‰ç”¨ä¸åŒçš„<strong>animals</strong>çš„å‘é‡æŠ•å½±ï¼ŒåŠ¨ç‰©åœ¨<strong>size å‘é‡</strong>ä¸Šçš„æŠ•å½±ï¼ˆå°±åƒä¸‹å›¾ä¸­çš„çº¢çº¿ ) å¾—åˆ°ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è®¡ç®—æ¯”è¾ƒåŠ¨ç‰©çš„å¤§å°ã€‚</p>
<p>æ ¹æ®ä¸¤ç»„åä¹‰è¯ <strong><em>poswords</em></strong> , <strong><em>negwords</em></strong> æ„å»ºä¸€ä¸ªæ¦‚å¿µ(è®¤çŸ¥)å‘é‡, words ä¸­çš„æ¯ä¸ªè¯å‘é‡åœ¨æ¦‚å¿µå‘é‡ä¸­æŠ•å½±ï¼Œå³å¯å¾—åˆ°è®¤çŸ¥ä¿¡æ¯ã€‚</p>
<p>åˆ†å€¼è¶Šå¤§ï¼Œ<strong><em>words</em></strong> è¶Šä½äº <strong><em>poswords</em></strong> ä¸€ä¾§ã€‚</p>
<blockquote>
<p>Grand, G., Blank, I.A., Pereira, F. and Fedorenko, E., 2022. Semantic projection recovers rich human knowledge of multiple object features from word embeddings. <em>Nature Human Behaviour</em>, pp.1-13.&quot;</p>
</blockquote>
<p><img loading="lazy" src="img/22-semantic_projection.png" alt=""  />
</p>
<p>ä¾‹å¦‚ï¼Œäººç±»çš„è¯­è¨€ä¸­ï¼Œå­˜åœ¨å°ºå¯¸ã€æ€§åˆ«ã€å¹´é¾„ã€æ”¿æ²»ã€é€Ÿåº¦ã€è´¢å¯Œç­‰ä¸åŒçš„æ¦‚å¿µã€‚æ¯ä¸ªæ¦‚å¿µå¯ä»¥ç”±ä¸¤ç»„åä¹‰è¯ç¡®å®šæ¦‚å¿µçš„å‘é‡æ–¹å‘ã€‚</p>
<p>ä»¥å°ºå¯¸ä¸ºä¾‹ï¼ŒåŠ¨ç‰©åœ¨äººç±»è®¤çŸ¥ä¸­å¯èƒ½å­˜åœ¨ä½“ç§¯å°ºå¯¸å¤§å°å·®å¼‚ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>
<span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;horse&#39;</span><span class="p">,</span>  <span class="s1">&#39;pig&#39;</span><span class="p">,</span> <span class="s1">&#39;whale&#39;</span><span class="p">]</span>
<span class="n">small_words</span><span class="o">=</span> <span class="p">[</span><span class="s2">&#34;small&#34;</span><span class="p">,</span> <span class="s2">&#34;little&#34;</span><span class="p">,</span> <span class="s2">&#34;tiny&#34;</span><span class="p">]</span>
<span class="n">large_words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;large&#34;</span><span class="p">,</span> <span class="s2">&#34;big&#34;</span><span class="p">,</span> <span class="s2">&#34;huge&#34;</span><span class="p">]</span>

<span class="c1"># wiki_wv = ct.load_w2v(&#39;wikiçš„word2vecæ¨¡å‹æ–‡ä»¶è·¯å¾„&#39;)</span>
<span class="c1"># wiki_wv</span>

<span class="c1"># In size conception, mouse is smallest, horse is biggest.</span>
<span class="c1"># åœ¨å¤§å°æ¦‚å¿µä¸Šï¼Œè€é¼ æœ€å°ï¼Œé©¬æ˜¯æœ€å¤§çš„ã€‚</span>
<span class="n">ct</span><span class="o">.</span><span class="n">sematic_projection</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">wiki_wv</span><span class="p">,</span>
                      <span class="n">words</span><span class="o">=</span><span class="n">animals</span><span class="p">,</span>
                      <span class="n">poswords</span><span class="o">=</span><span class="n">large_words</span><span class="p">,</span>
                      <span class="n">negwords</span><span class="o">=</span><span class="n">small_words</span><span class="p">,</span>
                      <span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[(&#39;mouse&#39;, -1.68),
 (&#39;cat&#39;, -0.92),
 (&#39;pig&#39;, -0.46),
 (&#39;whale&#39;, -0.24),
 (&#39;horse&#39;, 0.4)]
</code></pre></div><p>å…³äºå°ºå¯¸çš„è®¤çŸ¥ï¼Œäººç±»åœ¨æ–‡æœ¬ä¸­éšå«ç€è€é¼ è¾ƒå°ï¼Œé©¬è¾ƒå¤§ã€‚</p>
<br>
<h3 id="55-project_word">5.5 project_word</h3>
<p>åœ¨å‘é‡ç©ºé—´ä¸­ï¼Œ è®¡ç®—è¯è¯­aåœ¨è¯è¯­bä¸Šçš„æŠ•å½±(ä½™å¼¦ç›¸ä¼¼åº¦)ã€‚é»˜è®¤è¿”å›çš„æ˜¯æŠ•å½±å€¼ã€‚
å¦‚æœ cosine=Trueï¼Œè¿”å›è¯è¯­aä¸è¯è¯­bçš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">project_word</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">cosine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong>wv</strong> è¯­æ–™ txt æ–‡ä»¶è·¯å¾„</li>
<li><strong>a</strong> è¯è¯­ a å­—ç¬¦ä¸²æˆ–åˆ—è¡¨</li>
<li><strong>b</strong> è¯è¯­å­—ç¬¦ä¸²ã€è¯è¯­åˆ—è¡¨ã€æˆ–æŸæ¦‚å¿µå‘é‡</li>
<li><em><strong>cosine</strong></em>: æ˜¯å¦ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œ é»˜è®¤ä¸ºFalseï¼Œè¿”å›aåœ¨bä¸Šçš„æŠ•å½±å€¼ï¼› Trueæ—¶ï¼Œè¿”å›aä¸bçš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">b</span><span class="o">=</span><span class="s1">&#39;è‹—æ¡&#39;</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;æ€§æ„Ÿ&#39;</span><span class="p">,</span><span class="s1">&#39;ç¾ä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯çˆ±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸‘é™‹&#39;</span><span class="p">]:</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">]åœ¨[</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">]æŠ•å½±å€¼: </span><span class="si">{</span><span class="n">proj</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>


<span class="n">b</span><span class="o">=</span><span class="s1">&#39;ä¿®é•¿&#39;</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;æ€§æ„Ÿ&#39;</span><span class="p">,</span><span class="s1">&#39;ç¾ä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯çˆ±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸‘é™‹&#39;</span><span class="p">]:</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">]åœ¨[</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">]æŠ•å½±å€¼: </span><span class="si">{</span><span class="n">proj</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[æ€§æ„Ÿ]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 14.172947883605957
[ç¾ä¸½]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 7.0944623947143555
[å¯çˆ±]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 6.935092926025391
[ä¸‘é™‹]åœ¨[è‹—æ¡]æŠ•å½±å€¼: 1.235807180404663

[æ€§æ„Ÿ]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 14.599699974060059
[ç¾ä¸½]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 9.360642433166504
[å¯çˆ±]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 4.740543842315674
[ä¸‘é™‹]åœ¨[ä¿®é•¿]æŠ•å½±å€¼: 4.010622501373291
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œ åœ¨è±†ç“£ç”µå½±è¯­æ–™ä¸­ï¼Œ åœ¨[è‹—æ¡ã€ä¿®é•¿]ç»´åº¦çš„è®¤çŸ¥ä¸­ï¼Œéƒ½è®¤ä¸º</p>
<ul>
<li>[æ€§æ„Ÿ]æ„å‘³ç€èº«ææœ€ç˜¦é•¿</li>
<li>[ç¾ä¸½]æ¬¡ä¹‹ã€[å¯çˆ±]ç•¥æ˜¾ä¸é‚£ä¹ˆä¿®é•¿è‹—æ¡</li>
<li>[ä¸‘é™‹]æ„å‘³ç€åŸºæœ¬ä¸[è‹—æ¡ã€ä¿®é•¿]æ— å…³ï¼Œæ•°å€¼æœ€å°ã€‚</li>
</ul>
<br>
<p>ä¸ºäº†è®©æŠ•å½±å€¼æ›´ç¨³å®šï¼Œå¯ä»¥é€‰æ‹©è¯ç»„ï¼Œç¡®å®š[è‹—æ¡ã€ä¿®é•¿]è¿™ä¸ªæ¦‚å¿µçš„æ¦‚å¿µè½´å‘é‡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;æ€§æ„Ÿ&#39;</span><span class="p">,</span><span class="s1">&#39;ç¾ä¸½&#39;</span><span class="p">,</span> <span class="s1">&#39;å¯çˆ±&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸‘é™‹&#39;</span><span class="p">]:</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">project_word</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">dm_w2v</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ä¿®é•¿&#39;</span><span class="p">,</span> <span class="s1">&#39;è‹—æ¡&#39;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">]åœ¨[ä¿®é•¿ï¼Œè‹—æ¡]æŠ•å½±å€¼: </span><span class="si">{</span><span class="n">proj</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[æ€§æ„Ÿ]åœ¨[ä¿®é•¿ï¼Œè‹—æ¡]æŠ•å½±å€¼: 15.807487487792969
[ç¾ä¸½]åœ¨[ä¿®é•¿ï¼Œè‹—æ¡]æŠ•å½±å€¼: 9.040315628051758
[å¯çˆ±]åœ¨[ä¿®é•¿ï¼Œè‹—æ¡]æŠ•å½±å€¼: 6.414511203765869
[ä¸‘é™‹]åœ¨[ä¿®é•¿ï¼Œè‹—æ¡]æŠ•å½±å€¼: 2.882350444793701
</code></pre></div><br>
<h3 id="56-project_text">5.6 project_text()</h3>
<p>åœ¨å‘é‡ç©ºé—´ä¸­ï¼Œè®¡ç®—æ–‡æœ¬åœ¨æ¦‚å¿µè½´å‘é‡ä¸Šçš„æŠ•å½±å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">project_text</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">,</span> <span class="n">cosine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong>wv</strong>: è¯­è¨€æ¨¡å‹çš„KeyedVectors</li>
<li><strong>text</strong>: æ–‡æœ¬å­—ç¬¦ä¸²</li>
<li><strong>lang</strong>:  è¯­è¨€,æœ‰chineseå’Œenglishä¸¤ç§; é»˜è®¤&quot;chinese&quot;</li>
<li><strong>axis</strong>:  æ¦‚å¿µå‘é‡</li>
<li><strong>cosine</strong>: æŠ•å½±å€¼æ˜¯å¦ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œ é»˜è®¤ä¸ºFalseï¼Œè¿”å›textåœ¨axisä¸Šçš„æŠ•å½±å€¼ï¼› Trueæ—¶ï¼Œè¿”å›textä¸axisçš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="c1"># 1. è¯»å–è¯åµŒå…¥æ¨¡å‹æ–‡ä»¶</span>
<span class="n">embeddings_model</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s1">&#39;cntext2xè®­ç»ƒå¾—åˆ°çš„æ¨¡å‹æ–‡ä»¶è·¯å¾„&#39;</span><span class="p">)</span>
<span class="c1">#dm_w2v = ct.load_w2v(&#39;douban-movie-1000w-Word2Vec.200.15.bin&#39;)</span>

<span class="c1"># 2. å®šä¹‰æƒ…ç»ªæ­£è´Ÿè¯è¯­ï¼Œç¡®å®šæƒ…ç»ªæ¦‚å¿µè½´å‘é‡sentiment_axis</span>
<span class="n">sentiment_pos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;å¿«ä¹&#39;</span><span class="p">,</span> <span class="s1">&#39;å¹¸ç¦&#39;</span><span class="p">,</span> <span class="s1">&#39;å–œæ‚¦&#39;</span><span class="p">,</span> <span class="s1">&#39;æ»¡è¶³&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¬£æ…°&#39;</span><span class="p">,</span> <span class="s1">&#39;æ¿€åŠ¨&#39;</span><span class="p">,</span> <span class="s1">&#39;å…´å¥‹&#39;</span><span class="p">,</span> <span class="s1">&#39;æ„Ÿæ©&#39;</span><span class="p">,</span> <span class="s1">&#39;çƒ­çˆ±&#39;</span><span class="p">,</span> <span class="s1">&#39;èµç¾&#39;</span><span class="p">]</span>
<span class="n">sentiment_neg</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ç—›è‹¦&#39;</span><span class="p">,</span> <span class="s1">&#39;æ‚²ä¼¤&#39;</span><span class="p">,</span> <span class="s1">&#39;éš¾è¿‡&#39;</span><span class="p">,</span> <span class="s1">&#39;å¤±æœ›&#39;</span><span class="p">,</span> <span class="s1">&#39;æ„¤æ€’&#39;</span><span class="p">,</span> <span class="s1">&#39;æ€¨æ¨&#39;</span><span class="p">,</span> <span class="s1">&#39;ç»æœ›&#39;</span><span class="p">,</span> <span class="s1">&#39;ææƒ§&#39;</span><span class="p">,</span> <span class="s1">&#39;ç„¦è™‘&#39;</span><span class="p">,</span> <span class="s1">&#39;å‹æŠ‘&#39;</span><span class="p">]</span>
<span class="n">sentiment_axis</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">generate_concept_axis</span><span class="p">(</span><span class="n">wv</span> <span class="o">=</span> <span class="n">embeddings_model</span><span class="p">,</span> 
                                         <span class="n">poswords</span><span class="o">=</span><span class="n">sentiment_pos</span><span class="p">,</span>
                                         <span class="n">negwords</span><span class="o">=</span><span class="n">sentiment_neg</span><span class="p">)</span>
<span class="c1"># 3. åˆ›å»ºå®éªŒæ–‡æœ¬ï¼ˆä»æ­£é¢åˆ°è´Ÿé¢ï¼‰</span>
<span class="n">texts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&#34;ä»Šå¤©é˜³å…‰æ˜åªšï¼Œæˆ‘å’Œå®¶äººä¸€èµ·å‡ºæ¸¸ï¼Œæ„Ÿåˆ°æ— æ¯”å¹¸ç¦å’Œå¿«ä¹ã€‚&#34;</span><span class="p">,</span>
    <span class="s2">&#34;å·¥ä½œæœ‰äº†æ–°è¿›å±•ï¼Œå¾—åˆ°äº†é¢†å¯¼çš„è¡¨æ‰¬ï¼Œå†…å¿ƒå……æ»¡æˆå°±æ„Ÿã€‚&#34;</span><span class="p">,</span>
    <span class="s2">&#34;è™½ç„¶é‡åˆ°äº†å°æŒ«æŠ˜ï¼Œä½†æˆ‘ä¾ç„¶ä¿æŒä¹è§‚ï¼Œç›¸ä¿¡æ˜å¤©ä¼šæ›´å¥½ã€‚&#34;</span><span class="p">,</span>
    <span class="s2">&#34;ç”Ÿæ´»å¹³æ·¡ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„äº‹å‘ç”Ÿï¼Œå¿ƒæƒ…ä¸€èˆ¬ã€‚&#34;</span><span class="p">,</span>
    <span class="s2">&#34;æœ€è¿‘å‹åŠ›æœ‰ç‚¹å¤§ï¼Œç¡çœ ä¸å¥½ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç„¦è™‘å’Œç–²æƒ«ã€‚&#34;</span><span class="p">,</span>
    <span class="s2">&#34;é¡¹ç›®å¤±è´¥äº†ï¼Œè¿˜è¢«é¢†å¯¼æ‰¹è¯„ï¼Œå¿ƒé‡Œéå¸¸éš¾è¿‡å’Œå¤±æœ›ã€‚&#34;</span><span class="p">,</span>
    <span class="s2">&#34;äº²äººç¦»ä¸–ï¼Œæˆ‘æ„Ÿåˆ°æåº¦æ‚²ä¼¤å’Œç—›è‹¦ï¼Œä¸–ç•Œä»¿ä½›å¤±å»äº†é¢œè‰²ã€‚&#34;</span>
<span class="p">]</span>


<span class="c1"># 4. è®¡ç®—æ¯æ¡æ–‡æœ¬åœ¨æƒ…ç»ªè½´ä¸Šçš„æŠ•å½±</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;æ–‡æœ¬æƒ…ç»ªæŠ•å½±åˆ†æï¼ˆè¶Šå¤§è¶Šæ­£é¢ï¼‰ï¼š</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">texts</span><span class="p">):</span>
    <span class="c1"># ä½¿ç”¨æŠ•å½±å‡½æ•°ï¼ˆè¿”å›åœ¨ axis æ–¹å‘ä¸Šçš„æŠ•å½±å€¼ï¼‰</span>
    <span class="c1">#project_text(wv, text, axis, lang=&#39;chinese&#39;, cosine=False)</span>
    <span class="n">proj_value</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">project_text</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">embeddings_model</span><span class="p">,</span> 
                                 <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> 
                                 <span class="n">axis</span><span class="o">=</span><span class="n">sentiment_axis</span><span class="p">,</span> 
                                 <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;chinese&#39;</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">proj_value</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">] æŠ•å½±å€¼: </span><span class="si">{</span><span class="n">proj_value</span><span class="si">:</span><span class="s2">+.4f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>

<span class="c1"># 5. æŒ‰æŠ•å½±å€¼æ’åºï¼ŒæŸ¥çœ‹æƒ…ç»ªå¼ºåº¦æ’åº</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span> <span class="o">+</span> <span class="s2">&#34;=&#34;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;æŒ‰æƒ…ç»ªæ­£é¢æ€§æ’åºï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;=&#34;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
<span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">value</span><span class="si">:</span><span class="s2">+.4f</span><span class="si">}</span><span class="s2"> â†’ </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[1] æŠ•å½±å€¼: +0.8213 | ä»Šå¤©é˜³å…‰æ˜åªšï¼Œæˆ‘å’Œå®¶äººä¸€èµ·å‡ºæ¸¸ï¼Œæ„Ÿåˆ°æ— æ¯”å¹¸ç¦å’Œå¿«ä¹ã€‚
[2] æŠ•å½±å€¼: +0.5641 | å·¥ä½œæœ‰äº†æ–°è¿›å±•ï¼Œå¾—åˆ°äº†é¢†å¯¼çš„è¡¨æ‰¬ï¼Œå†…å¿ƒå……æ»¡æˆå°±æ„Ÿã€‚
[3] æŠ•å½±å€¼: +0.1205 | è™½ç„¶é‡åˆ°äº†å°æŒ«æŠ˜ï¼Œä½†æˆ‘ä¾ç„¶ä¿æŒä¹è§‚ï¼Œç›¸ä¿¡æ˜å¤©ä¼šæ›´å¥½ã€‚
[4] æŠ•å½±å€¼: -0.0321 | ç”Ÿæ´»å¹³æ·¡ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„äº‹å‘ç”Ÿï¼Œå¿ƒæƒ…ä¸€èˆ¬ã€‚
[5] æŠ•å½±å€¼: -0.3178 | æœ€è¿‘å‹åŠ›æœ‰ç‚¹å¤§ï¼Œç¡çœ ä¸å¥½ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç„¦è™‘å’Œç–²æƒ«ã€‚
[6] æŠ•å½±å€¼: -0.6124 | é¡¹ç›®å¤±è´¥äº†ï¼Œè¿˜è¢«é¢†å¯¼æ‰¹è¯„ï¼Œå¿ƒé‡Œéå¸¸éš¾è¿‡å’Œå¤±æœ›ã€‚
[7] æŠ•å½±å€¼: -0.9012 | äº²äººç¦»ä¸–ï¼Œæˆ‘æ„Ÿåˆ°æåº¦æ‚²ä¼¤å’Œç—›è‹¦ï¼Œä¸–ç•Œä»¿ä½›å¤±å»äº†é¢œè‰²ã€‚
</code></pre></div><br>
<h3 id="57-wepa">5.7 wepa()</h3>
<p>è®¡ç®—æ–‡æœ¬åœ¨æ¦‚å¿µè½´ä¸Šçš„æŠ•å½±å¾—åˆ†ï¼Œè¿”å›wepaå¾—åˆ†ã€‚ WEPAæ˜¯è¯åµŒå…¥æŠ•å½±ç®—æ³•(Word Embeddings Projection Algorithm)çš„è‹±æ–‡ç®€ç§°ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.wepa(wv, text, poswords, negwords, lang=&#39;chinese&#39;, cosine=False)
</code></pre></div><ul>
<li><strong>wv</strong> æ¨¡å‹æ•°æ®ï¼Œ æ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li><strong>poswordsã€negwords</strong> ç¡®å®šæ¦‚å¿µè½´çš„ä¸¤æ(ç«¯ç‚¹)å¯¹åº”çš„è¯è¯­åˆ—è¡¨</li>
<li><strong>lang (str)</strong>: è¯­è¨€ï¼Œæ”¯æŒ&rsquo;chinese&rsquo;æˆ–&rsquo;english'ï¼Œé»˜è®¤ä¸º&rsquo;chinese'</li>
<li><strong>cosine (bool)</strong>: æ˜¯å¦ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œé»˜è®¤ä¸ºFalse</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span> 

<span class="c1"># åŠ è½½å·²è®­ç»ƒå¥½çš„è¯åµŒå…¥æ¨¡å‹(GloVe)</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">load_w2v</span><span class="p">(</span><span class="s2">&#34;output/corpus-GloVe.200.15.bin&#34;</span><span class="p">)</span>

<span class="c1"># ç›®æ ‡å…·ä½“æ€§æ­£ã€è´Ÿå‘è¯(éƒ¨åˆ†)</span>

<span class="n">POSs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;kg&#34;</span><span class="p">,</span> <span class="s2">&#34;å…¬æ–¤&#34;</span><span class="p">,</span> <span class="s2">&#34;ä½“è„‚ç‡&#34;</span><span class="p">,</span> <span class="s2">&#34;bmi&#34;</span><span class="p">,</span> <span class="s2">&#34;å…¬é‡Œ&#34;</span><span class="p">,</span> <span class="s2">&#34;km&#34;</span><span class="p">,</span> <span class="s2">&#34;å°æ—¶&#34;</span><span class="p">,</span> <span class="s2">&#34;åˆ†é’Ÿ&#34;</span><span class="p">,</span><span class="o">...</span><span class="p">]</span>
<span class="n">NEGs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;å·®ä¸å¤š&#34;</span><span class="p">,</span> <span class="s2">&#34;å¤§æ¦‚&#34;</span><span class="p">,</span> <span class="s2">&#34;å˜ç˜¦&#34;</span><span class="p">,</span> <span class="s2">&#34;å˜å¼º&#34;</span><span class="p">,</span> <span class="s2">&#34;å˜å¥½&#34;</span><span class="p">,</span> <span class="s2">&#34;å˜ç¾&#34;</span><span class="p">,</span> <span class="s2">&#34;å˜å¸…&#34;</span><span class="p">,</span> <span class="s2">&#34;è¿›æ­¥&#34;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>

<span class="c1"># å®éªŒæ–‡æœ¬</span>
<span class="n">TEXTs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;å®Œæˆäº†3ç»„å§æ¨ï¼Œæ¯ç»„10æ¬¡ï¼Œé‡é‡80kgã€‚&#34;</span><span class="p">,</span>
         <span class="s2">&#34;ä»Šå¤©è·‘æ­¥5å…¬é‡Œï¼Œç”¨äº†30åˆ†é’Ÿï¼Œæ¶ˆè€—äº†400å¡è·¯é‡Œã€‚&#34;</span><span class="p">,</span>
         <span class="s2">&#34;å·®ä¸å¤šå°±è¡Œäº†ï¼Œä»Šå¤©æœ‰ç‚¹ç´¯ã€‚&#34;</span><span class="p">,</span>
         <span class="s2">&#34;å¸Œæœ›è‡ªå·±èƒ½å˜å¾—æ›´å¼ºã€‚&#34;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ç›®æ ‡å…·ä½“æ€§å¾—åˆ†: </span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">TEXTs</span><span class="p">:</span>
    <span class="n">proj_score</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">wepa</span><span class="p">(</span><span class="n">wv</span><span class="o">=</span><span class="n">M1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">poswords</span><span class="o">=</span><span class="n">POSs</span><span class="p">,</span> <span class="n">negwords</span><span class="o">=</span><span class="n">NEGs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">proj_score</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ç›®æ ‡å…·ä½“æ€§å¾—åˆ†:
1.22 å®Œæˆäº†3ç»„å§æ¨ï¼Œæ¯ç»„10æ¬¡ï¼Œé‡é‡80kgã€‚
0.96 ä»Šå¤©è·‘æ­¥5å…¬é‡Œï¼Œç”¨äº†30åˆ†é’Ÿï¼Œæ¶ˆè€—äº†40...
-0.17 å·®ä¸å¤šå°±è¡Œäº†ï¼Œä»Šå¤©æœ‰ç‚¹ç´¯ã€‚
-1.42 å¸Œæœ›è‡ªå·±èƒ½å˜å¾—æ›´å¼ºã€‚
</code></pre></div><p>è¾“å‡ºç»“æœæ¸…æ™°åœ°è¡¨æ˜ï¼Œåœ¨ç›®æ ‡å…·ä½“æ€§ç»´åº¦ä¸Šçš„è¯­ä¹‰å·®å¼‚ï¼šåŒ…å«å…·ä½“é‡åŒ–æŒ‡æ ‡çš„æ–‡æœ¬ï¼ˆå¦‚ 80kgã€5 å…¬é‡Œï¼‰è·å¾—é«˜åˆ†ï¼Œ è€Œè¡¨è¾¾æ¨¡ç³Šæ„å›¾çš„æ–‡æœ¬ï¼ˆå¦‚å·®ä¸å¤šã€å˜å¼ºï¼‰åˆ™å¾—åˆ†è¾ƒä½ã€‚</p>
<br>
<h3 id="58-divergent_association_task">5.8 divergent_association_task()</h3>
<p><a href="https://textdata.cn/blog/2022-11-14-pnas_naming_unrelated_words_predicts_creativity/">PNAS | ä½¿ç”¨è¯­ä¹‰è·ç¦»æµ‹é‡ä¸€ä¸ªäººçš„åˆ›æ–°åŠ›(å‘æ•£æ€ç»´)å¾—åˆ†</a>ã€‚ä¸€äº›ç†è®ºè®¤ä¸ºï¼Œæœ‰ åˆ›é€ åŠ› çš„äººèƒ½å¤Ÿäº§ç”Ÿæ›´å¤š å‘æ•£æ€§ çš„æƒ³æ³•ã€‚å¦‚æœè¿™æ˜¯æ­£ç¡®çš„ï¼Œç®€å•åœ°è®©è¢«è¯•å†™ N ä¸ªä¸ç›¸å…³çš„å•è¯ï¼Œç„¶åæµ‹é‡è¿™ N ä¸ªè¯çš„è¯­ä¹‰è·ç¦»ï¼Œ ä½œä¸ºå‘æ•£æ€ç»´çš„å®¢è§‚è¡¡é‡æ ‡å‡†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.divergent_association_task(wv, words)
</code></pre></div><ul>
<li><strong>wv</strong> æ¨¡å‹æ•°æ®ï¼Œ æ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li><strong>words</strong>è¯è¯­åˆ—è¡¨</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">low_words = [&#34;arm&#34;, &#34;eyes&#34;, &#34;feet&#34;, &#34;hand&#34;, &#34;head&#34;, &#34;leg&#34;, &#34;body&#34;]
average_words = [&#34;bag&#34;, &#34;bee&#34;, &#34;burger&#34;, &#34;feast&#34;, &#34;office&#34;, &#34;shoes&#34;, &#34;tree&#34;]
high_words = [&#34;hippo&#34;, &#34;jumper&#34;, &#34;machinery&#34;, &#34;prickle&#34;, &#34;tickets&#34;, &#34;tomato&#34;, &#34;violin&#34;]

# å¯¼å…¥æ¨¡å‹ï¼Œå¾—åˆ°wvã€‚
# wv = ct.load_w2v(&#39;wikiçš„word2vecæ¨¡å‹æ–‡ä»¶è·¯å¾„&#39;)


print(ct.divergent_association_task(wv, low_words)) # 50
print(ct.divergent_association_task(wv, average_words)) # 78
print(ct.divergent_association_task(wv, high_words)) # 95
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">50
78
95
</code></pre></div><br>
<h3 id="59-discursive_diversity_score">5.9 discursive_diversity_score()</h3>
<p><a href="https://textdata.cn/blog/2023-11-02-measure-cognitive-diversity-through-language-discursive-diversity/">MS2022 | ä½¿ç”¨è¯­è¨€å·®å¼‚æ€§æµ‹é‡å›¢é˜Ÿè®¤çŸ¥å·®å¼‚æ€§</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.discursive_diversity_score(wv, words)
</code></pre></div><ul>
<li><strong><em>wv</em></strong> æ¨¡å‹æ•°æ®ï¼Œ æ•°æ®ç±»å‹ä¸º gensim.models.keyedvectors.KeyedVectorsã€‚</li>
<li>**<em>words</em>**è¯è¯­åˆ—è¡¨</li>
<li>è¿”å›ä¸€ä¸ªæ•°å€¼</li>
</ul>
<p><img loading="lazy" src="img/23-low-and-high-examples-of-discursive-diversity.jpeg" alt=""  />
</p>
<p>é«˜ç»©æ•ˆå›¢é˜Ÿæ˜¯é‚£äº›å…·æœ‰è°ƒèŠ‚å…±äº«è®¤çŸ¥ä»¥é€‚åº”ä¸æ–­å˜åŒ–çš„ä»»åŠ¡è¦æ±‚çš„é›†ä½“èƒ½åŠ›çš„å›¢é˜Ÿï¼šåœ¨è¿›è¡Œæ„æ€ä»»åŠ¡æ—¶ï¼Œå®ƒä»¬è¡¨ç°å‡ºæ›´é«˜çš„è¯è¯­å¤šæ ·æ€§ï¼Œåœ¨æ‰§è¡Œåè°ƒä»»åŠ¡æ—¶ï¼Œè¡¨ç°å‡ºè¾ƒä½çš„è¯è¯­å¤šæ ·æ€§ã€‚</p>
<br>
<h3 id="510-procrustes_align">5.10 procrustes_align()</h3>
<p>è¯¥å‡½æ•°ä¸»è¦ç”¨äºåæ˜ åŒä¸€ç ”ç©¶å¯¹è±¡éšç€æ—¶é—´æ¨è¿›çš„ç¤¾ä¼šæ–‡åŒ–å˜è¿ï¼Œæˆ–è€…åŒä¸€æ—¶é—´èŒƒå›´å†…ä¸¤ä¸ªè¢«ç ”ç©¶ä¸»ä½“é—´çš„å·®å¼‚ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">ct.procrustes_align(base_wv, other_wv, words=None)
</code></pre></div><ul>
<li>base_wv (gensim.models.keyedvectors.KeyedVectors): åŸºå‡†è¯­è¨€æ¨¡å‹</li>
<li>other_wv (gensim.models.keyedvectors.KeyedVectors): å…¶ä»–è¯­è¨€æ¨¡å‹</li>
<li>words (list, optional): æ˜¯å¦æ ¹æ®è¯å…¸ words å¯¹æ¨¡å‹è¿›è¡Œå¯¹é½ï¼Œ å¯¹é½ç»“æŸåçš„æ¨¡å‹ä¸­å«æœ‰çš„è¯ä¸ä¼šè¶…å‡º words çš„èŒƒå›´ï¼› é»˜è®¤ None.</li>
</ul>
<p>ç”±äºä¸åŒè¯­æ–™è®­ç»ƒçš„ Word2Vec æ¨¡å‹æ— æ³•ç›´æ¥æ¯”è¾ƒï¼Œ éœ€è¦å…ˆé€‰å®šä¸€ä¸ªåŸºå‡†æ¨¡å‹ <strong><em>base_embed</em></strong>ï¼Œ ä¹‹åæ ¹æ® <strong><em>base_embed</em></strong> å¯¹å…¶ä»–æ¨¡å‹ <strong><em>other_embed</em></strong> è¿›è¡Œè°ƒæ•´ï¼Œè°ƒæ•´åçš„æ¨¡å‹å°±å¯ä»¥ä½¿ç”¨å‰é¢çš„è¯­ä¹‰è·ç¦»å‡½æ•°æˆ–è€…è¯­ä¹‰æŠ•å½±å‡½æ•°ã€‚ è¿™ä¸€è¿‡ç¨‹ç”¨åˆ°çš„ç®—æ³•å«åš procrustes æ­£äº¤ç®—æ³•ã€‚</p>
<p>è¿™é‡Œæ¨èä¸€ç¯‡ <a href="https://textdata.cn/blog/2023-12-28-visualize-the-culture-change-using-people-daily-dataset/">å¯è§†åŒ– | äººæ°‘æ—¥æŠ¥è¯­æ–™åæ˜ ä¸ƒåå¹´æ–‡åŒ–æ¼”å˜</a></p>
<p><br><br></p>
<h2 id="å…­llm-æ¨¡å—">å…­ã€LLM æ¨¡å—</h2>
<p>ç›®å‰å¤§æ¨¡å‹æœ¬åœ°åŒ–ä½¿ç”¨è¶Šæ¥è¶Šæ–¹ä¾¿ï¼Œ</p>
<table>
<thead>
<tr>
<th>æ¨¡å—</th>
<th>å‡½æ•°(ç±»)</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>LLM</em></strong></td>
<td><strong>ct.llm(text, prompt, output_format, task, backend, base_url, api_key, model_name, temperature)</strong></td>
<td>è°ƒç”¨å¤§æ¨¡å‹æ‰§è¡Œç»“æ„åŒ–æ–‡æœ¬åˆ†æä»»åŠ¡ï¼ˆå¦‚æƒ…æ„Ÿåˆ†æã€å…³é”®è¯æå–ã€åˆ†ç±»ç­‰ï¼‰ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="61-ctllm">6.1 ct.llm()</h3>
<p>ä½¿ç”¨å¤§æ¨¡å‹ï¼ˆæœ¬åœ°æˆ– APIï¼‰è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œä»éç»“æ„åŒ–çš„æ–‡æœ¬æ•°æ®ä¸­è¯†åˆ«æ¨¡å¼ã€æå–å…³é”®ä¿¡æ¯ã€ç†è§£è¯­ä¹‰ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ä»¥ä¾¿è¿›ä¸€æ­¥åˆ†æå’Œåº”ç”¨ã€‚</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">output_format</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="n">base_url</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">temperature</span><span class="p">)</span>
</code></pre></div><ul>
<li><strong>text</strong>: å¾…åˆ†æçš„æ–‡æœ¬å†…å®¹</li>
<li><strong>task</strong>: é¢„è®¾ä»»åŠ¡åç§°ï¼Œé»˜è®¤ä¸º &lsquo;sentiment&rsquo;ã€‚</li>
<li><strong>prompt</strong>: è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯­</li>
<li><strong>output_format</strong>: è‡ªå®šä¹‰è¾“å‡ºç»“æ„ï¼Œå¦‚ {&lsquo;label&rsquo;: str, &lsquo;score&rsquo;: float}</li>
<li><strong>backend</strong>: å¿«æ·åç«¯åˆ«åï¼š
- &lsquo;ollama&rsquo; â†’ http://127.0.0.1:11434/v1
- &lsquo;lmstudio&rsquo; æˆ– &lsquo;lms&rsquo; â†’ http://localhost:1234/v1
- None â†’ éœ€é…åˆ base_url ä½¿ç”¨</li>
<li><strong>base_url</strong>: è‡ªå®šä¹‰æ¨¡å‹æœåŠ¡åœ°å€ï¼Œä¼˜å…ˆçº§é«˜äº backend
ç¤ºä¾‹ï¼š
- è¿œç¨‹ï¼šhttps://dashscope.aliyuncs.com/compatible-mode/v1
- å†…ç½‘ï¼šhttp://192.168.1.10:11434/v1
- æœ¬åœ°ï¼šhttp://localhost:1234/v1</li>
<li><strong>api_key</strong>: API å¯†é’¥ï¼Œè¿œç¨‹æœåŠ¡å¿…å¡«ï¼Œæœ¬åœ°é€šå¸¸ä¸º &ldquo;EMPTY&rdquo;</li>
<li><strong>model_name</strong>: æ¨¡å‹åç§°ï¼ˆéœ€æœåŠ¡ç«¯å·²åŠ è½½ï¼‰</li>
<li><strong>temperature</strong>: ç”Ÿæˆæ¸©åº¦ï¼Œ0 è¡¨ç¤ºç¡®å®šæ€§è¾“å‡º</li>
</ul>
<br>
<p><strong>å®éªŒæ•°æ®ä¸ºå¤–å–è¯„è®ºï¼Œ ä»Šå¤©å’±ä»¬åšä¸ªæœ‰éš¾åº¦çš„æ–‡æœ¬åˆ†æä»»åŠ¡ï¼Œä»ä¸åŒç»´åº¦(å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡)å¯¹å¤–å–è¯„è®ºè¿›è¡Œæ‰“åˆ†(-1.0~1.0)</strong>ã€‚</p>
<p><img loading="lazy" src="img/28-llm-analysis.png" alt=""  />
<br></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>

<span class="n">PROMPT</span> <span class="o">=</span> <span class="s1">&#39;ä»å£å‘³tasteã€é€Ÿåº¦speedã€æœåŠ¡serviceä¸‰ä¸ªç»´åº¦ï¼Œ å¯¹å¤–å–è¯„è®ºå†…å®¹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œ åˆ†åˆ«è¿”å›ä¸åŒç»´åº¦çš„åˆ†å€¼(åˆ†å€¼èŒƒå›´-1.0 ~ 1.0)&#39;</span>
<span class="n">BASE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://dashscope.aliyuncs.com/compatible-mode/v1&#39;</span>
<span class="n">API_KEY</span> <span class="o">=</span> <span class="s1">&#39;ä½ çš„API-KEY&#39;</span>
<span class="n">MODEL_NAME</span> <span class="o">=</span> <span class="s1">&#39;qwen-max&#39;</span>

<span class="c1">#å‘³é“ã€é€Ÿåº¦ã€æœåŠ¡</span>
<span class="n">OUTPUT_FORMAT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>

<span class="n">COMMENT_CONTENT</span> <span class="o">=</span> <span class="s1">&#39;å¤ªéš¾åƒäº†&#39;</span>

<span class="c1"># ä½¿ç”¨</span>
<span class="c1"># result = ct.llm(text=COMMENT_CONTENT,</span>
<span class="c1"># æˆ–</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">COMMENT_CONTENT</span><span class="p">,</span>
                <span class="n">prompt</span><span class="o">=</span><span class="n">PROMPT</span><span class="p">,</span>
                <span class="n">base_url</span><span class="o">=</span><span class="n">BASE_URL</span><span class="p">,</span>
                <span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span>
                <span class="n">model_name</span><span class="o">=</span><span class="n">MODEL_NAME</span><span class="p">,</span>
                <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">output_format</span><span class="o">=</span><span class="n">OUTPUT_FORMAT</span><span class="p">)</span>

<span class="n">result</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;taste&#39;: -1.0, &#39;speed&#39;: 0.0, &#39;service&#39;: 0.0}
</code></pre></div><br>
<p>æ‰¹é‡è¿ç®—</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">cntext</span> <span class="k">as</span> <span class="nn">ct</span>


<span class="c1"># æ„é€ å®éªŒæ•°æ®</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;é€Ÿåº¦éå¸¸å¿«ï¼Œå£å‘³éå¸¸å¥½ï¼Œ æœåŠ¡éå¸¸æ£’ï¼&#39;</span><span class="p">,</span>
        <span class="s1">&#39;é€é¤æ—¶é—´è¿˜æ˜¯æ¯”è¾ƒä¹…&#39;</span><span class="p">,</span>
        <span class="s1">&#39;é€å•å¾ˆå¿«ï¼Œèœä¹Ÿä¸é”™èµ&#39;</span><span class="p">,</span>
        <span class="s1">&#39;å¤ªéš¾åƒäº†&#39;</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">])</span>


<span class="c1"># åˆ†æå‡½æ•°</span>
<span class="k">def</span> <span class="nf">llm_analysis</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
                    <span class="n">prompt</span><span class="o">=</span> <span class="s1">&#39;ä»å£å‘³tasteã€é€Ÿåº¦speedã€æœåŠ¡serviceä¸‰ä¸ªç»´åº¦ï¼Œ å¯¹å¤–å–è¯„è®ºå†…å®¹è¿›è¡Œæ–‡æœ¬åˆ†æï¼Œ åˆ†åˆ«è¿”å›ä¸åŒç»´åº¦çš„åˆ†å€¼(åˆ†å€¼èŒƒå›´-1.0 ~ 1.0)&#39;</span><span class="p">,</span>
                    <span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://dashscope.aliyuncs.com/compatible-mode/v1&#39;</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;ä½ çš„API-KEY&#39;</span><span class="p">,</span>
                    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;qwen-max&#39;</span><span class="p">,</span>
                    <span class="n">output_format</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;taste&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
                               <span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>


<span class="c1"># æ‰¹é‡è¿ç®—</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">llm_analysis</span><span class="p">)</span>
<span class="n">res_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># ä¿å­˜åˆ†æç»“æœ</span>
<span class="n">res_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;result.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">res_df</span>
</code></pre></div><p><img loading="lazy" src="img/28-llm-analysis.png" alt=""  />
</p>
<br>
<p>LLM æ›´å¤šè¯¦ç»†å†…å®¹ï¼Œè¯·é˜…è¯» <a href="https://textdata.cn/blog/2025-02-14-using-online-large-model-api-to-transform-text-data-into-structured-data/"><strong>æ•™ç¨‹ | ä½¿ç”¨åœ¨çº¿å¤§æ¨¡å‹å°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®</strong></a></p>
<br>
<h3 id="62-å†…ç½®prompt">6.2 å†…ç½®prompt</h3>
<p>cntext</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">tasks_list</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;sentiment&#39;,
 &#39;emotion&#39;,
 &#39;classify&#39;,
 &#39;intent&#39;,
 &#39;keywords&#39;,
 &#39;entities&#39;,
 &#39;summarize&#39;,
 &#39;rewrite&#39;,
 &#39;quality&#39;,
 &#39;similarity&#39;]
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># è·å–sentimentæ¨¡æ¿</span>
<span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">tasks_get</span><span class="p">(</span><span class="s1">&#39;sentiment&#39;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">{&#39;prompt&#39;: &#39;åˆ†æè¯„è®ºçš„æƒ…æ„Ÿå€¾å‘ï¼šè¿”å›æƒ…æ„Ÿç±»åˆ« labelï¼ˆpos è¡¨ç¤ºæ­£é¢ï¼Œneg è¡¨ç¤ºè´Ÿé¢ï¼Œneutral è¡¨ç¤ºä¸­æ€§ï¼‰å’Œæƒ…æ„Ÿåˆ†å€¼ scoreï¼ˆå–å€¼èŒƒå›´ -1~1ï¼Œè´Ÿæ•°ä¸ºè´Ÿé¢ï¼‰&#39;,
 &#39;output_format&#39;: {&#39;label&#39;: &#39;str&#39;, &#39;score&#39;: &#39;float&#39;}}
</code></pre></div><br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># ä½¿ç”¨sentimentæç¤ºè¯æ¨¡æ¿ã€‚</span>
<span class="c1"># å¯ç”¨OllamaæœåŠ¡ï¼Œè°ƒç”¨qwen2.5:7bæ¨¡å‹</span>
<span class="n">ct</span><span class="o">.</span><span class="n">llm</span><span class="p">(</span><span class="s2">&#34;æœåŠ¡å¾ˆæ£’ï¼&#34;</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&#34;sentiment&#34;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&#34;ollama&#34;</span><span class="p">,</span>  <span class="n">model_name</span><span class="o">=</span><span class="s2">&#34;qwen2.5:7b&#34;</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[cntext2x] âœ… è¿æ¥æ¨¡å‹æœåŠ¡: http://127.0.0.1:11434/v1
{&#39;label&#39;: &#39;pos&#39;, &#39;score&#39;: 0.8}
</code></pre></div><p><br><br></p>
<h2 id="ä½¿ç”¨å£°æ˜">ä½¿ç”¨å£°æ˜</h2>
<p>å¦‚åœ¨ç ”ç©¶æˆ–é¡¹ç›®ä¸­ä½¿ç”¨åˆ° <strong>cntext</strong> ï¼Œè¯·ç®€è¦ä»‹ç» cntext ï¼Œå¹¶é™„åŠ ä½¿ç”¨å£°æ˜å‡ºå¤„ã€‚</p>
<h3 id="apalike">apalike</h3>
<p>Deng, X., &amp; Nan, P. (2022). <strong>cntext: a Python tool for text mining</strong> [Computer software]. Zenodo. <a href="https://doi.org/10.5281/zenodo.7063523">https://doi.org/10.5281/zenodo.7063523</a></p>
<p>Source Code URL: <a href="https://github.com/hiDaDeng/cntext">https://github.com/hiDaDeng/cntext</a></p>
<br>
<h3 id="bibtex">bibtex</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">@misc{deng2022cntext,
  author       = {Deng, X. and Nan, P.},
  title        = {cntext: a Python tool for text mining},
  year         = {2022},
  publisher    = {Zenodo},
  doi          = {10.5281/zenodo.7063523},
  url          = {https://doi.org/10.5281/zenodo.7063523},
  howpublished = {[Computer software]},
  note         = {Source Code URL: \url{https://github.com/hiDaDeng/cntext}}
}
</code></pre></div><br>
<h3 id="endnote">endnote</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">%0 Generic
%A Deng, X.
%A Nan, P.
%T cntext: a Python tool for text mining
%Y [Computer software]
%D 2022
%I Zenodo
%R 10.5281/zenodo.7063523
%U https://doi.org/10.5281/zenodo.7063523
%Z Source Code URL: https://github.com/hiDaDeng/cntext
%@
</code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>ANCW | 4030è¯çš„ä¸­æ–‡æƒ…æ„Ÿè¯å…¸(æ•ˆä»·ã€å”¤é†’åº¦ã€ä¸»å¯¼åº¦ã€å…·ä½“æ€§)</title>
      <link>https://textdata.cn/blog/2024-02-27-ancw-affective-norms-for-4030-chinese-words/</link>
      <pubDate>Tue, 27 Feb 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-02-27-ancw-affective-norms-for-4030-chinese-words/</guid>
      <description>&lt;p&gt;Ying, Lv, Ye Ruyang, Ni Chuanbin, Wang Yeqing, Liu Qing, Zhou Yufan, and Gao Fei. &amp;ldquo;ANCW: Affective norms for 4030 Chinese words.&amp;rdquo; &lt;em&gt;Behavior Research Methods&lt;/em&gt; (2023): 1-16.&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;ä¸€æ‘˜è¦&#34;&gt;ä¸€ã€æ‘˜è¦&lt;/h2&gt;
&lt;p&gt;å•è¯ä¸­åŒ…å«çš„æƒ…æ„Ÿä¿¡æ¯è¶Šæ¥è¶Šå—åˆ°ä¸–ç•Œå„åœ°ç¥ç»è¯­è¨€å­¦å®¶å’Œå¿ƒç†è¯­è¨€å­¦å®¶çš„å…³æ³¨ã€‚æœ¬ç ”ç©¶å»ºç«‹äº†æƒ…æ„Ÿè¯å…¸ANCW(Affective Norms for Chinese Words)ï¼Œå¯¹ 4030 ä¸ªè¯è¯­è¿›è¡Œäº†&lt;strong&gt;æ•ˆä»·valence&lt;/strong&gt;ã€&lt;strong&gt;å”¤é†’åº¦arousal&lt;/strong&gt;ã€&lt;strong&gt;ä¸»å¯¼åº¦dominance&lt;/strong&gt;å’Œ&lt;strong&gt;å…·ä½“æ€§concreteness&lt;/strong&gt; æ‰“åˆ†ï¼Œè¿™äº›è¯è¯­æ˜¯æ ¹æ® CET-4ï¼ˆå›½å®¶å¤§å­¦è‹±è¯­å››çº§è€ƒè¯•ï¼‰å®˜æ–¹å¤§çº²è¿›è¡Œä¸­æ–‡æ”¹ç¼–çš„ã€‚å°½ç®¡ç°æœ‰çš„ä¸­æ–‡æƒ…æ„Ÿè¯å…¸CAWS(Chinese Affective Words System)ï¼ŒANCW æä¾›äº†æ›´å¤šã€æ›´ä¸°å¯Œçš„ä¸­æ–‡è¯æ±‡ã€‚é€šè¿‡åœ¨ç¨‹åºä¸­ä½¿ç”¨ 7 çº§æå…‹ç‰¹é‡è¡¨ï¼ˆèŒƒå›´ä» 1 åˆ° 7ï¼‰ï¼Œæˆ‘ä»¬è·å¾—äº† 3717 åä¸­å›½æœ¬ç§‘ç”Ÿå¯¹æ‰€æœ‰å˜é‡çš„è¯„åˆ†ã€‚è¯å…¸ANCWå…·æœ‰è‰¯å¥½çš„å“åº”ä¿¡åº¦ï¼Œå¹¶ä¸”ä¸ä¸­æ–‡å…ˆå‰çš„è§„èŒƒç ”ç©¶ç›¸å…¼å®¹ã€‚æˆå¯¹ç›¸å…³åˆ†ææ­ç¤ºäº†æ•ˆä»·ä¸å”¤é†’ã€å”¤é†’ä¸æ”¯é…æ€§ä»¥åŠæ•ˆä»·ä¸å…·ä½“æ€§ä¹‹é—´çš„äºŒæ¬¡å…³ç³»ã€‚æ­¤å¤–ï¼Œæ•ˆä»·å’Œæ”¯é…æ€§ã€å”¤é†’æ€§å’Œå…·ä½“æ€§å‡å‘ˆç°çº¿æ€§ç›¸å…³ï¼Œå…·ä½“æ€§å’Œæ”¯é…æ€§ç›¸å…³ã€‚ANCW ä¸ºæ¶‰åŠæƒ…æ„Ÿè¯­è¨€å¤„ç†çš„è¿›ä¸€æ­¥ç ”ç©¶æä¾›å¯é ä¸”æ ‡å‡†åŒ–çš„åˆºæ¿€ææ–™ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;äºŒæ–‡çŒ®æ¢³ç†&#34;&gt;äºŒã€æ–‡çŒ®æ¢³ç†&lt;/h2&gt;
&lt;p&gt;è¯­è¨€å’Œæƒ…æ„Ÿæ˜¯äººç±»ç”Ÿæ´»ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿‡å»çš„äºŒåå¹´é‡Œï¼Œè¯è¯­çš„æƒ…æ„Ÿè¯„çº§å—åˆ°äº†æå¤§çš„å…³æ³¨ã€‚ç ”ç©¶äººå‘˜å»ºç«‹äº†è®¸å¤šæ ‡å‡†åŒ–æ•°æ®åº“ï¼Œä»ä¸åŒç»´åº¦å¯¹ä¸åŒè¯­è¨€çš„å•è¯è¿›è¡Œè¯„çº§ã€‚ä¼ ç»Ÿä¸Šï¼Œæƒ…æ„Ÿçš„æ¦‚å¿µæ˜¯æƒ…æ„Ÿè§‚ï¼Œè¢«è§†ä¸ºå¤šä¸ªç»´åº¦çš„è¿ç»­ä½“ï¼ˆÄ†oso et al., 2019ï¼›Rubin &amp;amp; Talarico, 2009ï¼‰ï¼Œæ‰€æœ‰æƒ…æ„Ÿéƒ½å…·æœ‰ä¸¤ä¸ªæˆ–ä¸‰ä¸ªç»´åº¦çš„ç‰¹å¾ï¼ˆDuffy, 1934)ï¼›å¥¥æ–¯å¤å¾·ç­‰äººï¼Œ1957ï¼‰ã€‚æ ¹æ®å¡ç½—å°”ã€å¥¥æ–¯å¤å¾·ã€è‹è¥¿å’Œå¦å—é²å§†ï¼ˆ 1959ï¼‰çš„æƒ…æ„Ÿç†è®ºï¼Œå¯¹è¯è¯­è¿›è¡Œäº†å¤§é‡çš„æƒ…æ„Ÿè¯„çº§ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆä»·valence&lt;/strong&gt; æ˜¯æŒ‡ä»¤äººæ„‰å¿«çš„ç¨‹åº¦ï¼ŒèŒƒå›´ä»ä¸æ„‰å¿«åˆ°æ„‰å¿«ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å”¤é†’åº¦arousal&lt;/strong&gt; æ˜¯ç”Ÿç†æ¿€æ´»ç¨‹åº¦çš„æŒ‡æ ‡ï¼ŒèŒƒå›´ä»å¹³é™åˆ°å…´å¥‹ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯é…æ€§dominance&lt;/strong&gt; æè¿°äº†ä¸ªäººæ‰€æ„Ÿå—åˆ°çš„æ§åˆ¶ç¨‹åº¦ï¼Œä»å¤±æ§åˆ°å—æ§ã€‚è¿‘å¹´æ¥ï¼Œå¿ƒç†è¯­è¨€å­¦å˜é‡å…·ä½“æ€§çš„ç ”ç©¶å¼•èµ·äº†äººä»¬çš„æµ“åšå…´è¶£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ® Gilhooly å’Œ Logieï¼ˆ1980ï¼‰çš„è§‚ç‚¹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…·ä½“æ€§concreteness&lt;/strong&gt; ä»£è¡¨äº†å½¢æˆå•è¯å¿ƒç†å½¢è±¡çš„éš¾åº¦ç¨‹åº¦ï¼ŒèŒƒå›´ä»æŠ½è±¡ï¼ˆéš¾ä»¥å½¢æˆï¼‰åˆ°å…·ä½“ï¼ˆæ˜“äºå½¢æˆï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;p&gt;æ„å»ºå…·æœ‰å•è¯æƒ…æ„Ÿè¯„çº§çš„æ•°æ®åº“çš„éœ€æ±‚å¾ˆå¤§ï¼Œå› ä¸ºå®ƒä»¬è‡³å°‘æœ‰åŠ©äºå››ä¸ªæ–¹é¢çš„ç ”ç©¶ï¼ŒåŒ…æ‹¬é’ˆå¯¹æƒ…ç»ªæœ¬èº«çš„ç ”ç©¶ã€æƒ…ç»ªç‰¹å¾å¯¹å•è¯å¤„ç†å’Œè®°å¿†çš„å½±å“ã€æ•´ä¸ªæ¶ˆæ¯è¡¨è¾¾çš„æƒ…ç»ªæˆ–æ–‡æœ¬ï¼Œä»¥åŠé€šè¿‡å°†æ–°è¯ä¸å·²éªŒè¯è¯è¿›è¡Œæ¯”è¾ƒæ¥äº†è§£æ–°è¯çš„æƒ…æ„Ÿä»·å€¼ï¼ˆæœ‰å…³è¯„è®ºï¼Œè¯·å‚é˜… Warriner ç­‰äººï¼Œ2013 å¹´ï¼‰ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå·²ç»ç”¨å¤šç§è¯­è¨€æ„å»ºäº†å„ç§æ•°æ®åº“ï¼Œå¹¶ä¸ºè¿›ä¸€æ­¥çš„ç ”ç©¶æä¾›äº†ä¸°å¯Œçš„åˆºæ¿€å’Œå¯é æµ‹é‡çš„æƒ…ç»ªç‰¹å¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-old-dicts.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;ä»ä¸Šè¿°æ–‡çŒ®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é’ˆå¯¹ä¸åŒè¯­è¨€å»ºç«‹äº†å„ç§å„æ ·çš„åŒ…å«æƒ…æ„Ÿè¯„çº§çš„æ•°æ®åº“ï¼Œä»¥æ»¡è¶³æ—¥ç›Šå¢é•¿çš„æƒ…æ„Ÿç ”ç©¶éœ€æ±‚ã€‚ç„¶è€Œï¼Œæ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¯¥é¢†åŸŸè¿˜å­˜åœ¨ä¸€äº›æœ‰å¾…è¿›ä¸€æ­¥ç ”ç©¶çš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤§å¤šæ•°æ•°æ®åº“æ˜¯ç”±è¥¿æ–¹å›½å®¶å»ºç«‹çš„ï¼Œå¹¶ä¸”å·²ç»è¯å®ï¼Œä¸€äº›ç ”ç©¶å‘ç°æƒ…æ„Ÿè¯„çº§å› æ–‡åŒ–è€Œå¼‚ã€‚å› æ­¤ï¼Œå»ºç«‹ä¸­å›½æœ¬åœŸæƒ…æ„Ÿè§„èŒƒæ•°æ®åº“è¿«åœ¨çœ‰ç«ã€‚&lt;/li&gt;
&lt;li&gt;å›½å†…ä»¥å¾€çš„ç ”ç©¶åœ¨åˆ¶å®šæ ‡å‡†åŒ–çš„æƒ…ç»ªåˆºæ¿€ä¸Šä»˜å‡ºäº†å¾ˆå¤§çš„åŠªåŠ›ï¼Œå¹¶ä¸”ä½¿ç”¨äº†å¤šæ ·åŒ–çš„åˆºæ¿€ã€‚åœ¨è¿™äº›åˆºæ¿€ä¸­ï¼Œè¨€è¯­åˆºæ¿€å¯ä»¥å¾—åˆ°æ›´ä¸¥æ ¼çš„æ§åˆ¶ï¼Œå¹¶ä¸”ä¸å…¶ä»–åˆºæ¿€å…·æœ‰å¯æ¯”æ€§ï¼Œä¾‹å¦‚éœ€è¦åœ¨å¤æ‚æ€§ã€äº®åº¦ã€é¢œè‰²å’Œå¯¹æ¯”åº¦ä¸Šè¿›è¡Œæ§åˆ¶çš„å›¾ç‰‡(Soares et al., 2012 &lt;a href=&#34;https://link.springer.com/article/10.3758/s13428-023-02226-x#ref-CR60&#34;&gt;)&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æœ€é‡è¦çš„æ˜¯ï¼Œä»¥å¾€çš„ç ”ç©¶é™åˆ¶äº†æ±‰å­—çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼ŒAANCï¼ˆLiu et al., 2021ï¼‰ç”±å››ä¸ªæ±‰å­—å•è¯ç»„æˆï¼Œè€ŒYaoç­‰äººå»ºç«‹çš„å¦ä¸€ä¸ªæ•°æ®åº“åˆ™ç”±å››ä¸ªæ±‰å­—ç»„æˆã€‚( 2016)ä»…åŒ…å«ä¸¤ä¸ªå­—ç¬¦çš„å•è¯ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæ±‰å­—éå¸¸å¤æ‚ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ±‰å­—å¯ä»¥ç»„æˆä¸€ä¸ªè¯ï¼Œå¦‚â€œä¹¦â€ã€â€œç¾â€ã€â€œæ€â€ã€‚ä¸¤ä¸ªæˆ–å¤šä¸ªæ±‰å­—ä¹Ÿå¯ä»¥ç»„æˆä¸€ä¸ªè¯ï¼Œå¦‚â€œç”Ÿæ´»â€ã€â€œç™½æ—¥æ¢¦â€ã€â€œè‰²å½©æ–‘ç¾ä¸½â€ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ—¥å¸¸ä½¿ç”¨çš„è¯è¯­éå¸¸çµæ´»ï¼Œä¸ä»…é™äºäºŒå­—è¯æˆ–å››å­—è¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ±‰å­—æ•°é‡çš„é™åˆ¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†è¡¨è¾¾çš„ä¸°å¯Œæ€§å’Œçµæ´»æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‰´äºè¿™äº›å±€é™æ€§ï¼Œæœ¬ç ”ç©¶æ—¨åœ¨å»ºç«‹ä¸€ä¸ªæ ‡å‡†åŒ–ã€å¤šç»´ã€ä¸é™åˆ¶å­—æ•°çš„æ±‰è¯­è¯è¯­æƒ…æ„Ÿè§„èŒƒæ•°æ®åº“ã€‚æ­¤å¤–ï¼Œæœ¬ç ”ç©¶å°†é‡‡ç”¨å¤šç§æ–¹æ³•æ£€éªŒANCWçš„å¯é æ€§ï¼Œä¸ºè¿›ä¸€æ­¥ç ”ç©¶æƒ…æ„Ÿå’Œå¿ƒç†è¯­è¨€å˜é‡ä¹‹é—´çš„å…³ç³»æä¾›æ›´å¤šè¯æ®ã€‚æ€»ä½“è€Œè¨€ï¼Œæœ¬ç ”ç©¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†ä¸Šè¿°å±€é™æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰-æ–¹æ³•&#34;&gt;ä¸‰ã€ æ–¹æ³•&lt;/h2&gt;
&lt;h3 id=&#34;31-å‚ä¸è€…&#34;&gt;3.1 å‚ä¸è€…&lt;/h3&gt;
&lt;p&gt;å…±æœ‰ 3717 åæ¯è¯­ä¸ºä¸­æ–‡çš„äººå‚ä¸äº†è¿™é¡¹ç ”ç©¶ã€‚æ‰€æœ‰å‚ä¸è€…å‡ä¸ºä¸­å›½ 41 æ‰€å¤§å­¦é™¤è‹±è¯­ä¸“ä¸šä»¥å¤–çš„å…¶ä»–ä¸“ä¸šæœ¬ç§‘ç”Ÿï¼ˆå¥³æ€§ 2346 åï¼Œç”·æ€§ 1258 åï¼Œæ— æ€§åˆ«ä¿¡æ¯ 113 åï¼›Må¹´é¾„= 19.91ï¼ŒèŒƒå›´ 16-25ï¼ŒSD = 1.21ï¼‰ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;32-ç¡®å®šè¯è¯­åˆ—è¡¨&#34;&gt;3.2 ç¡®å®šè¯è¯­åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä»è‹±è¯­å››çº§CET-4çš„æ•™å­¦å¤§çº²ä¸­æ‰¾å‡º4030ä¸ªè‹±è¯­å•è¯&lt;/strong&gt;ï¼Œå¤§å­¦è‹±è¯­å››çº§å¤§çº²ä¸­çš„è¯æ±‡å‡ºç°é¢‘ç‡è¾ƒé«˜ï¼Œä¸”ä¸å­¦å‘˜çš„æ—¥å¸¸ç”Ÿæ´»å¯†åˆ‡ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘ç»è¿‡ä¸‰é“ä¸¥æ ¼çš„ç¨‹åºå®Œæˆã€‚ç¬¬ä¸€è½®ç¿»è¯‘ä¾æ®çš„æ˜¯ç‰›æ´¥é«˜é˜¶è‹±æ±‰è¯å…¸ï¼ˆç¬¬9ç‰ˆ *ï¼‰*å’Œè‹±å›½å›½å®¶è¯­æ–™åº“ï¼ˆBNCï¼‰ã€‚è¯¥ç ”ç©¶é‡‡ç”¨ã€Šç‰›æ´¥é«˜çº§è‹±æ±‰è¯å…¸ï¼ˆç¬¬9ç‰ˆ *ï¼‰ã€‹*ä¸­çš„é¦–ä¸ªä¸­æ–‡é‡Šä¹‰ï¼Œå°†è¯è¡¨ç¿»è¯‘æˆä¸­æ–‡ã€‚æœ‰äº›è¯æœ‰å¤šä¸ªè¯æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œstemâ€å¯ä»¥æ˜¯åè¯å’ŒåŠ¨è¯ã€‚åè¯â€œèŒâ€çš„æ„æ€æ˜¯â€œæ¤ç‰©åœ¨åœ°é¢ä¸Šé•¿å‡ºå¶å­æˆ–èŠ±æœµçš„ä¸»è¦é•¿è€Œè–„çš„éƒ¨åˆ†ï¼›ä»ä¸­ç”Ÿé•¿å‡ºæ¥å¹¶æ”¯æ’‘èŠ±æœµæˆ–å¶å­çš„è¾ƒå°éƒ¨åˆ†â€ï¼ˆStemï¼Œ2018ï¼‰ï¼ŒåŠ¨è¯çš„æ„æ€æ˜¯â€œé˜»æ­¢æŸäº›æ­£åœ¨æµåŠ¨æˆ–å¢åŠ çš„ä¸œè¥¿â€ï¼ˆStemï¼Œ2018ï¼‰ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®è‹±å›½å›½å®¶è¯­æ–™åº“é€‰æ‹©äº†è¯é¢‘è¾ƒé«˜çš„è¯æ€§ã€‚åœ¨æ­¤è¿‡ç¨‹ä¹‹åï¼Œç ”ç©¶å‘ç°äº† 672 ä¸ªå•è¯çš„ä¸€è‡´ç¿»è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¬¬äºŒä¸ªç¿»è¯‘é˜¶æ®µï¼Œæœ¬ç ”ç©¶é‡‡ç”¨äº†å¾·å°”è²æ³•ã€‚æˆ‘ä»¬é‚€è¯·äº†äº”ä½ç²¾é€šè‹±è¯­æ–‡åŒ–å’Œä¸­å›½æ–‡åŒ–çš„ä¸“ä¸šç¿»è¯‘äººå‘˜æ¥è¿›è¡Œè¿™é¡¹å·¥ä½œã€‚ç¿»è¯‘è¿‡ç¨‹ä¸­ï¼Œäº”ä½ä¸“ä¸šäººå£«æœªç»è®¨è®ºå°±ç¿»è¯‘äº†è¿™672ä¸ªä¸€è‡´è¯ã€‚ç„¶åï¼Œç ”ç©¶å¯¹ä»–ä»¬çš„ç¿»è¯‘è¿›è¡Œäº†æ¯”è¾ƒï¼Œå¹¶æ‰¾å‡ºäº†äº”ä½è¯‘è€…æ„è§ä¸ä¸€è‡´çš„è¯è¯­ã€‚ç»è¿‡å››è½®åŒ¿åè®¨è®ºï¼Œæˆ‘ä»¬è·å¾—äº†å”¯ä¸€ä¸é‡å¤çš„æ±‰è¯‘æœ¬553ä¸ªå•è¯ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡è¿™ä¸€æ­¥ï¼Œå‰©ä¸‹äº† 186 ä¸ªä¸ä¸­æ–‡ç¿»è¯‘ä¸€è‡´çš„å•è¯ã€‚ä¸ºäº†ç¡®ä¿æ¯ä¸ªç¿»è¯‘ä¸é‡å¤ï¼Œç ”ç©¶åœ¨ä¸­æ–‡ç¿»è¯‘åæ ‡è®°äº†åŸå§‹è‹±æ–‡å•è¯æˆ–è¯¥å•è¯çš„è¯æ€§ã€‚æœ€ç»ˆè·å¾—äº†è‹±è¯­å››çº§è‹±è¯­å•è¯å¤§çº²çš„ç¿»è¯‘ç‰ˆï¼ŒåŒ…å«4030ä¸ªä¸­æ–‡å•è¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘ä»¬å°† 4030 ä¸ªä¸­æ–‡å•è¯çš„åˆ—è¡¨éšæœºåˆ†ä¸º 20 ä¸ªå­åˆ—è¡¨ï¼Œæ¯ä¸ªå­åˆ—è¡¨åŒ…å« 201 æˆ– 202 ä¸ªå•è¯ã€‚æ ¹æ®è¯¥ç ”ç©¶çš„è®¾è®¡ï¼Œæ¯ä¸ªå•è¯çš„æ¯ä¸ªç»´åº¦ï¼ˆå”¤é†’åº¦ã€æ•ˆä»·ã€æ”¯é…æ€§å’Œå…·ä½“æ€§ï¼‰éƒ½ä¼šè¢«è¯„ä¼°è‡³å°‘ 45 æ¬¡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;33-è®¾è®¡é—®å·&#34;&gt;3.3 è®¾è®¡é—®å·&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ¯ä»½è¯•å·å‡åŒ…å«ä¸€ä¸ªä¿¡æ¯éƒ¨åˆ†ã€è¯´æ˜å’Œè¯„åˆ†è¡¨ã€‚æœ¬ç ”ç©¶é‡‡ç”¨7ç‚¹æå…‹ç‰¹è‡ªè¯„é‡è¡¨è¿›è¡Œæ‰“åˆ†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•ˆä»·æè¿°äº†åˆºæ¿€å¼•èµ·æ„‰æ‚¦æ„Ÿçš„ç¨‹åº¦ï¼ˆRussellï¼Œ1980ï¼›Bradley &amp;amp; Langï¼Œ1999ï¼‰ã€‚æ•°å­—1è¡¨ç¤ºéå¸¸ä¸æ„‰å¿«ï¼Œ4è¡¨ç¤ºä¸€èˆ¬ï¼Œ7è¡¨ç¤ºéå¸¸æ„‰å¿«ã€‚&lt;/li&gt;
&lt;li&gt;å”¤é†’ï¼Œä¹Ÿç§°ä¸ºæ¿€æ´»ã€å¼ºåº¦æˆ–èƒ½é‡æ°´å¹³ï¼ˆMontefinese ç­‰ï¼Œ2014ï¼‰ï¼Œç”¨äºæè¿°èº«ä½“è¢«æ¿€æ´»æˆ–å”¤é†’çš„ç¨‹åº¦ï¼ˆDuffyï¼Œ1934ï¼‰ã€‚è¯¥ç ”ç©¶ç”¨1è¡¨ç¤ºæåº¦å¹³é™ï¼Œ4è¡¨ç¤ºä¸­æ€§ï¼Œ7è¡¨ç¤ºæåº¦å…´å¥‹ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯é…æ€§è¢«å®šä¹‰ä¸ºä¸ªä½“å¯¹åˆºæ¿€çš„æ§åˆ¶æˆ–å½±å“ç¨‹åº¦ï¼ŒèŒƒå›´ä»å®Œå…¨å¤±æ§åˆ°å®Œå…¨æ§åˆ¶ï¼ˆRussell &amp;amp; Mehrabianï¼Œ1977ï¼‰ã€‚ç ”ç©¶ç”¨1ä»£è¡¨å—è¯•è€…æ„Ÿè§‰è‡ªå·±å®Œå…¨è¢«è¿™ä¸ªè¯æ§åˆ¶ï¼ˆè¿™ä¸ªè¯æ˜¯â€œç››è¡Œâ€ï¼‰ï¼Œ4ä»£è¡¨ä¸­ç«‹ï¼Œ7ä»£è¡¨å—è¯•è€…æ„Ÿè§‰èƒ½å¤Ÿå®Œå…¨æ§åˆ¶è¿™ä¸ªè¯ï¼ˆè¿™ä¸ªè¯æ˜¯â€œå¼±â€ï¼‰ã€‚ â€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å…·ä½“æ€§æ˜¯æŒ‡å½¢æˆå•è¯ç‰©ç†æ‰€æŒ‡çš„å¿ƒç†å›¾åƒçš„å›°éš¾ç¨‹åº¦ã€‚è¯¥ç ”ç©¶ä½¿ç”¨1è¡¨ç¤ºæç«¯æŠ½è±¡ï¼Œ4è¡¨ç¤ºä¸­æ€§ï¼Œ7è¡¨ç¤ºæç«¯å…·ä½“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;h3 id=&#34;34-æ­¥éª¤&#34;&gt;3.4 æ­¥éª¤&lt;/h3&gt;
&lt;p&gt;æœ¬ç ”ç©¶é‡‡ç”¨&lt;strong&gt;çº¸ç¬”è¯„åˆ†æ³•&lt;/strong&gt;(paper-pencil rating method) ã€‚æ¯ä¸ªå‚ä¸è€…éšæœºæ”¶åˆ°ä¸€ä¸ªå•è¯å­åˆ—è¡¨ã€‚åœ¨è¯•å·çš„ç¬¬ä¸€é¡µï¼Œè¯¥ç ”ç©¶ä¸ºæ¯ä¸ªç»´åº¦ï¼ˆæ•ˆä»·ã€å”¤é†’åº¦ã€æ”¯é…æ€§å’Œå…·ä½“æ€§ï¼‰æä¾›äº†æ¸…æ™°çš„ä¸­æ–‡è¯´æ˜å’Œç”ŸåŠ¨çš„ä¾‹å­ã€‚å‚ä¸è€…æ”¶åˆ°è¯•å·åï¼Œç ”ç©¶å£å¤´æä¾›äº†æ¸…æ™°çš„è¯´æ˜è§£é‡Šã€‚è¯•å·çš„ç¬¬äºŒé¡µå’Œç¬¬ä¸‰é¡µæ˜¯A4çº¸ä¸Šæ‰“å°çš„ä¸­æ–‡å•è¯å’Œç­‰çº§é‡è¡¨ã€‚æ¯ä¸ªå‚ä¸è€…åœ¨å®‰é™çš„æ•™å®¤é‡Œå¯¹ä¸€å¼ è¯•å·è¿›è¡Œè¯„åˆ†ã€‚ç”±äºæ‰€æœ‰å•è¯éƒ½æ˜¯æ±‰è¯­ï¼Œè€Œä¸”å››çº§å•è¯åœ¨ç¤¾ä¼šç”Ÿæ´»ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œå› æ­¤æ²¡æœ‰å‚ä¸è€…å¯¹å•è¯çš„å«ä¹‰æœ‰ç–‘é—®ã€‚&lt;/p&gt;
&lt;p&gt;é‰´äºä¹‹å‰çš„ç ”ç©¶ï¼ˆè°¢ï¼Œ2020ï¼›å¼ ï¼Œ2020ï¼‰ï¼Œæ•°æ®ä¿®å‰ªè§„åˆ™å¦‚ä¸‹æ‰€ç¤ºï¼Œå¦‚æœè¯•å·æ»¡è¶³å…¶ä¸­ä¸€æ¡è§„åˆ™ï¼Œåˆ™å°†è¢«è§†ä¸ºæ— æ•ˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;70%ä»¥ä¸Šçš„è¯„çº§ç»“æœç¼ºå¤±ï¼›&lt;/li&gt;
&lt;li&gt;70%ä»¥ä¸Šçš„è¯„çº§ç»“æœç›¸åŒï¼›&lt;/li&gt;
&lt;li&gt;è¯•å·è¡¨ç°å‡ºæ˜æ˜¾çš„æ•Œæ„ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å‚ä¸è€…åœ¨è¯•å·ä¸Šç•™ä¸‹ä¾®è¾±æ€§çš„è¯„è®ºï¼Œä¾‹å¦‚â€œæˆ‘åªæ˜¯éšæ„åœˆå‡ºæ•°å­—æ¥æ¬ºéª—ä½ ä»¬ï¼Œå‚»ç“œâ€ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ï¼Œç­”æ¡ˆæ˜¯åœ¨ä¸€ç³»åˆ—ä¹‹å­—å½¢ä¸­éšæœºé€‰æ‹©çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒæŸ¥é—®å·å°†è¢«è§†ä¸ºæ•Œå¯¹è°ƒæŸ¥é—®å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€ç»ˆæˆ‘ä»¬å…±æ”¶é›†åˆ°3304ä»½è¯•å·ã€‚åœ¨æ‰€æœ‰è¯•å·ä¸­ï¼Œæ•ˆä»·è¯„åˆ†ä¸º 858 ä»½ï¼Œå”¤é†’è¯„åˆ†ä¸º 803 ä»½ï¼Œæ”¯é…æ€§è¯„åˆ†ä¸º 777 ä»½ï¼Œå…·ä½“æ€§è¯„åˆ†ä¸º 866 ä»½ã€‚æ¯ä¸ªç»´åº¦ä¸­çš„å‡ ä¸ªç¼ºå¤±è¯„çº§å‡ç”±å¹³å‡å€¼ä»£æ›¿ã€‚åˆ é™¤æ— æ•ˆæ•°æ®åçš„æœ€ç»ˆæ•°æ®åº“å…±åŒ…å«4030ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯çš„æ•ˆä»·è¯„åˆ†ä¸º42.9ï¼Œå”¤é†’è¯„åˆ†ä¸º40.2ï¼Œå…·ä½“æ€§è¯„åˆ†ä¸º43.3ï¼Œæ”¯é…æ€§è¯„åˆ†ä¸º38.9ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››ancwè¯å…¸&#34;&gt;å››ã€ANCWè¯å…¸&lt;/h2&gt;
&lt;p&gt;ancwä¸‹è½½é“¾æ¥:https://pan.baidu.com/s/1UfbmVQh9XM77eoGmMsZ2-w?pwd=bp63  æå–ç :bp63&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/02-ancw.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/03-ancw.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³æ–‡çŒ®&#34;&gt;ç›¸å…³æ–‡çŒ®&lt;/h2&gt;
&lt;p&gt;Xu, X., Li, J., &amp;amp; Chen, H. (2021). Valence and arousal ratings for 11,310 simplified Chinese words. &lt;em&gt;Behavior Research Methods, 54&lt;/em&gt;(1), 26â€“41. &lt;a href=&#34;https://doi.org/10.3758/s13428-021-01607-4&#34;&gt;https://doi.org/10.3758/s13428-021-01607-4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Yao, Z., Wu, J., Zhang, Y., &amp;amp; Wang, Z. (2016). Norms of valence, arousal, concreteness, familiarity, imageability, and context availability for 1,100 Chinese words. &lt;em&gt;Behavior Research Methods, 49&lt;/em&gt;(4), 1374â€“1385. &lt;a href=&#34;https://doi.org/10.3758/s13428-016-0793-2&#34;&gt;https://doi.org/10.3758/s13428-016-0793-2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Yuan, J., Zhang, Y., Chen, S., Luo, L., &amp;amp; Ru, Y. (2021). The establishment of Chinese Emotion Regulation Word System (CERWS) and its pilot test. &lt;em&gt;Acta Psychologica Sinica, 53&lt;/em&gt;(&lt;em&gt;5&lt;/em&gt;), 445. &lt;a href=&#34;https://doi.org/10.3724/sp.j.1041.2021.00445&#34;&gt;https://doi.org/10.3724/sp.j.1041.2021.00445&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
</description>
      <content:encoded><![CDATA[<p>Ying, Lv, Ye Ruyang, Ni Chuanbin, Wang Yeqing, Liu Qing, Zhou Yufan, and Gao Fei. &ldquo;ANCW: Affective norms for 4030 Chinese words.&rdquo; <em>Behavior Research Methods</em> (2023): 1-16.</p>
<br>
<br>
<h2 id="ä¸€æ‘˜è¦">ä¸€ã€æ‘˜è¦</h2>
<p>å•è¯ä¸­åŒ…å«çš„æƒ…æ„Ÿä¿¡æ¯è¶Šæ¥è¶Šå—åˆ°ä¸–ç•Œå„åœ°ç¥ç»è¯­è¨€å­¦å®¶å’Œå¿ƒç†è¯­è¨€å­¦å®¶çš„å…³æ³¨ã€‚æœ¬ç ”ç©¶å»ºç«‹äº†æƒ…æ„Ÿè¯å…¸ANCW(Affective Norms for Chinese Words)ï¼Œå¯¹ 4030 ä¸ªè¯è¯­è¿›è¡Œäº†<strong>æ•ˆä»·valence</strong>ã€<strong>å”¤é†’åº¦arousal</strong>ã€<strong>ä¸»å¯¼åº¦dominance</strong>å’Œ<strong>å…·ä½“æ€§concreteness</strong> æ‰“åˆ†ï¼Œè¿™äº›è¯è¯­æ˜¯æ ¹æ® CET-4ï¼ˆå›½å®¶å¤§å­¦è‹±è¯­å››çº§è€ƒè¯•ï¼‰å®˜æ–¹å¤§çº²è¿›è¡Œä¸­æ–‡æ”¹ç¼–çš„ã€‚å°½ç®¡ç°æœ‰çš„ä¸­æ–‡æƒ…æ„Ÿè¯å…¸CAWS(Chinese Affective Words System)ï¼ŒANCW æä¾›äº†æ›´å¤šã€æ›´ä¸°å¯Œçš„ä¸­æ–‡è¯æ±‡ã€‚é€šè¿‡åœ¨ç¨‹åºä¸­ä½¿ç”¨ 7 çº§æå…‹ç‰¹é‡è¡¨ï¼ˆèŒƒå›´ä» 1 åˆ° 7ï¼‰ï¼Œæˆ‘ä»¬è·å¾—äº† 3717 åä¸­å›½æœ¬ç§‘ç”Ÿå¯¹æ‰€æœ‰å˜é‡çš„è¯„åˆ†ã€‚è¯å…¸ANCWå…·æœ‰è‰¯å¥½çš„å“åº”ä¿¡åº¦ï¼Œå¹¶ä¸”ä¸ä¸­æ–‡å…ˆå‰çš„è§„èŒƒç ”ç©¶ç›¸å…¼å®¹ã€‚æˆå¯¹ç›¸å…³åˆ†ææ­ç¤ºäº†æ•ˆä»·ä¸å”¤é†’ã€å”¤é†’ä¸æ”¯é…æ€§ä»¥åŠæ•ˆä»·ä¸å…·ä½“æ€§ä¹‹é—´çš„äºŒæ¬¡å…³ç³»ã€‚æ­¤å¤–ï¼Œæ•ˆä»·å’Œæ”¯é…æ€§ã€å”¤é†’æ€§å’Œå…·ä½“æ€§å‡å‘ˆç°çº¿æ€§ç›¸å…³ï¼Œå…·ä½“æ€§å’Œæ”¯é…æ€§ç›¸å…³ã€‚ANCW ä¸ºæ¶‰åŠæƒ…æ„Ÿè¯­è¨€å¤„ç†çš„è¿›ä¸€æ­¥ç ”ç©¶æä¾›å¯é ä¸”æ ‡å‡†åŒ–çš„åˆºæ¿€ææ–™ã€‚</p>
<br>
<br>
<h2 id="äºŒæ–‡çŒ®æ¢³ç†">äºŒã€æ–‡çŒ®æ¢³ç†</h2>
<p>è¯­è¨€å’Œæƒ…æ„Ÿæ˜¯äººç±»ç”Ÿæ´»ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿‡å»çš„äºŒåå¹´é‡Œï¼Œè¯è¯­çš„æƒ…æ„Ÿè¯„çº§å—åˆ°äº†æå¤§çš„å…³æ³¨ã€‚ç ”ç©¶äººå‘˜å»ºç«‹äº†è®¸å¤šæ ‡å‡†åŒ–æ•°æ®åº“ï¼Œä»ä¸åŒç»´åº¦å¯¹ä¸åŒè¯­è¨€çš„å•è¯è¿›è¡Œè¯„çº§ã€‚ä¼ ç»Ÿä¸Šï¼Œæƒ…æ„Ÿçš„æ¦‚å¿µæ˜¯æƒ…æ„Ÿè§‚ï¼Œè¢«è§†ä¸ºå¤šä¸ªç»´åº¦çš„è¿ç»­ä½“ï¼ˆÄ†oso et al., 2019ï¼›Rubin &amp; Talarico, 2009ï¼‰ï¼Œæ‰€æœ‰æƒ…æ„Ÿéƒ½å…·æœ‰ä¸¤ä¸ªæˆ–ä¸‰ä¸ªç»´åº¦çš„ç‰¹å¾ï¼ˆDuffy, 1934)ï¼›å¥¥æ–¯å¤å¾·ç­‰äººï¼Œ1957ï¼‰ã€‚æ ¹æ®å¡ç½—å°”ã€å¥¥æ–¯å¤å¾·ã€è‹è¥¿å’Œå¦å—é²å§†ï¼ˆ 1959ï¼‰çš„æƒ…æ„Ÿç†è®ºï¼Œå¯¹è¯è¯­è¿›è¡Œäº†å¤§é‡çš„æƒ…æ„Ÿè¯„çº§ï¼Œ</p>
<ul>
<li><strong>æ•ˆä»·valence</strong> æ˜¯æŒ‡ä»¤äººæ„‰å¿«çš„ç¨‹åº¦ï¼ŒèŒƒå›´ä»ä¸æ„‰å¿«åˆ°æ„‰å¿«ï¼›</li>
<li><strong>å”¤é†’åº¦arousal</strong> æ˜¯ç”Ÿç†æ¿€æ´»ç¨‹åº¦çš„æŒ‡æ ‡ï¼ŒèŒƒå›´ä»å¹³é™åˆ°å…´å¥‹ï¼›</li>
<li><strong>æ”¯é…æ€§dominance</strong> æè¿°äº†ä¸ªäººæ‰€æ„Ÿå—åˆ°çš„æ§åˆ¶ç¨‹åº¦ï¼Œä»å¤±æ§åˆ°å—æ§ã€‚è¿‘å¹´æ¥ï¼Œå¿ƒç†è¯­è¨€å­¦å˜é‡å…·ä½“æ€§çš„ç ”ç©¶å¼•èµ·äº†äººä»¬çš„æµ“åšå…´è¶£ã€‚</li>
</ul>
<p>æ ¹æ® Gilhooly å’Œ Logieï¼ˆ1980ï¼‰çš„è§‚ç‚¹ï¼Œ</p>
<ul>
<li><strong>å…·ä½“æ€§concreteness</strong> ä»£è¡¨äº†å½¢æˆå•è¯å¿ƒç†å½¢è±¡çš„éš¾åº¦ç¨‹åº¦ï¼ŒèŒƒå›´ä»æŠ½è±¡ï¼ˆéš¾ä»¥å½¢æˆï¼‰åˆ°å…·ä½“ï¼ˆæ˜“äºå½¢æˆï¼‰ã€‚</li>
</ul>
<br>
<p>æ„å»ºå…·æœ‰å•è¯æƒ…æ„Ÿè¯„çº§çš„æ•°æ®åº“çš„éœ€æ±‚å¾ˆå¤§ï¼Œå› ä¸ºå®ƒä»¬è‡³å°‘æœ‰åŠ©äºå››ä¸ªæ–¹é¢çš„ç ”ç©¶ï¼ŒåŒ…æ‹¬é’ˆå¯¹æƒ…ç»ªæœ¬èº«çš„ç ”ç©¶ã€æƒ…ç»ªç‰¹å¾å¯¹å•è¯å¤„ç†å’Œè®°å¿†çš„å½±å“ã€æ•´ä¸ªæ¶ˆæ¯è¡¨è¾¾çš„æƒ…ç»ªæˆ–æ–‡æœ¬ï¼Œä»¥åŠé€šè¿‡å°†æ–°è¯ä¸å·²éªŒè¯è¯è¿›è¡Œæ¯”è¾ƒæ¥äº†è§£æ–°è¯çš„æƒ…æ„Ÿä»·å€¼ï¼ˆæœ‰å…³è¯„è®ºï¼Œè¯·å‚é˜… Warriner ç­‰äººï¼Œ2013 å¹´ï¼‰ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå·²ç»ç”¨å¤šç§è¯­è¨€æ„å»ºäº†å„ç§æ•°æ®åº“ï¼Œå¹¶ä¸ºè¿›ä¸€æ­¥çš„ç ”ç©¶æä¾›äº†ä¸°å¯Œçš„åˆºæ¿€å’Œå¯é æµ‹é‡çš„æƒ…ç»ªç‰¹å¾ã€‚</p>
<p><img loading="lazy" src="img/01-old-dicts.png" alt=""  />
</p>
<br>
<p>ä»ä¸Šè¿°æ–‡çŒ®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é’ˆå¯¹ä¸åŒè¯­è¨€å»ºç«‹äº†å„ç§å„æ ·çš„åŒ…å«æƒ…æ„Ÿè¯„çº§çš„æ•°æ®åº“ï¼Œä»¥æ»¡è¶³æ—¥ç›Šå¢é•¿çš„æƒ…æ„Ÿç ”ç©¶éœ€æ±‚ã€‚ç„¶è€Œï¼Œæ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¯¥é¢†åŸŸè¿˜å­˜åœ¨ä¸€äº›æœ‰å¾…è¿›ä¸€æ­¥ç ”ç©¶çš„åœ°æ–¹ï¼š</p>
<ul>
<li>å¤§å¤šæ•°æ•°æ®åº“æ˜¯ç”±è¥¿æ–¹å›½å®¶å»ºç«‹çš„ï¼Œå¹¶ä¸”å·²ç»è¯å®ï¼Œä¸€äº›ç ”ç©¶å‘ç°æƒ…æ„Ÿè¯„çº§å› æ–‡åŒ–è€Œå¼‚ã€‚å› æ­¤ï¼Œå»ºç«‹ä¸­å›½æœ¬åœŸæƒ…æ„Ÿè§„èŒƒæ•°æ®åº“è¿«åœ¨çœ‰ç«ã€‚</li>
<li>å›½å†…ä»¥å¾€çš„ç ”ç©¶åœ¨åˆ¶å®šæ ‡å‡†åŒ–çš„æƒ…ç»ªåˆºæ¿€ä¸Šä»˜å‡ºäº†å¾ˆå¤§çš„åŠªåŠ›ï¼Œå¹¶ä¸”ä½¿ç”¨äº†å¤šæ ·åŒ–çš„åˆºæ¿€ã€‚åœ¨è¿™äº›åˆºæ¿€ä¸­ï¼Œè¨€è¯­åˆºæ¿€å¯ä»¥å¾—åˆ°æ›´ä¸¥æ ¼çš„æ§åˆ¶ï¼Œå¹¶ä¸”ä¸å…¶ä»–åˆºæ¿€å…·æœ‰å¯æ¯”æ€§ï¼Œä¾‹å¦‚éœ€è¦åœ¨å¤æ‚æ€§ã€äº®åº¦ã€é¢œè‰²å’Œå¯¹æ¯”åº¦ä¸Šè¿›è¡Œæ§åˆ¶çš„å›¾ç‰‡(Soares et al., 2012 <a href="https://link.springer.com/article/10.3758/s13428-023-02226-x#ref-CR60">)</a>ã€‚</li>
<li>æœ€é‡è¦çš„æ˜¯ï¼Œä»¥å¾€çš„ç ”ç©¶é™åˆ¶äº†æ±‰å­—çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼ŒAANCï¼ˆLiu et al., 2021ï¼‰ç”±å››ä¸ªæ±‰å­—å•è¯ç»„æˆï¼Œè€ŒYaoç­‰äººå»ºç«‹çš„å¦ä¸€ä¸ªæ•°æ®åº“åˆ™ç”±å››ä¸ªæ±‰å­—ç»„æˆã€‚( 2016)ä»…åŒ…å«ä¸¤ä¸ªå­—ç¬¦çš„å•è¯ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæ±‰å­—éå¸¸å¤æ‚ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ±‰å­—å¯ä»¥ç»„æˆä¸€ä¸ªè¯ï¼Œå¦‚â€œä¹¦â€ã€â€œç¾â€ã€â€œæ€â€ã€‚ä¸¤ä¸ªæˆ–å¤šä¸ªæ±‰å­—ä¹Ÿå¯ä»¥ç»„æˆä¸€ä¸ªè¯ï¼Œå¦‚â€œç”Ÿæ´»â€ã€â€œç™½æ—¥æ¢¦â€ã€â€œè‰²å½©æ–‘ç¾ä¸½â€ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ—¥å¸¸ä½¿ç”¨çš„è¯è¯­éå¸¸çµæ´»ï¼Œä¸ä»…é™äºäºŒå­—è¯æˆ–å››å­—è¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ±‰å­—æ•°é‡çš„é™åˆ¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†è¡¨è¾¾çš„ä¸°å¯Œæ€§å’Œçµæ´»æ€§ã€‚</li>
</ul>
<p>é‰´äºè¿™äº›å±€é™æ€§ï¼Œæœ¬ç ”ç©¶æ—¨åœ¨å»ºç«‹ä¸€ä¸ªæ ‡å‡†åŒ–ã€å¤šç»´ã€ä¸é™åˆ¶å­—æ•°çš„æ±‰è¯­è¯è¯­æƒ…æ„Ÿè§„èŒƒæ•°æ®åº“ã€‚æ­¤å¤–ï¼Œæœ¬ç ”ç©¶å°†é‡‡ç”¨å¤šç§æ–¹æ³•æ£€éªŒANCWçš„å¯é æ€§ï¼Œä¸ºè¿›ä¸€æ­¥ç ”ç©¶æƒ…æ„Ÿå’Œå¿ƒç†è¯­è¨€å˜é‡ä¹‹é—´çš„å…³ç³»æä¾›æ›´å¤šè¯æ®ã€‚æ€»ä½“è€Œè¨€ï¼Œæœ¬ç ”ç©¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†ä¸Šè¿°å±€é™æ€§ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰-æ–¹æ³•">ä¸‰ã€ æ–¹æ³•</h2>
<h3 id="31-å‚ä¸è€…">3.1 å‚ä¸è€…</h3>
<p>å…±æœ‰ 3717 åæ¯è¯­ä¸ºä¸­æ–‡çš„äººå‚ä¸äº†è¿™é¡¹ç ”ç©¶ã€‚æ‰€æœ‰å‚ä¸è€…å‡ä¸ºä¸­å›½ 41 æ‰€å¤§å­¦é™¤è‹±è¯­ä¸“ä¸šä»¥å¤–çš„å…¶ä»–ä¸“ä¸šæœ¬ç§‘ç”Ÿï¼ˆå¥³æ€§ 2346 åï¼Œç”·æ€§ 1258 åï¼Œæ— æ€§åˆ«ä¿¡æ¯ 113 åï¼›Må¹´é¾„= 19.91ï¼ŒèŒƒå›´ 16-25ï¼ŒSD = 1.21ï¼‰ã€‚</p>
<br>
<h3 id="32-ç¡®å®šè¯è¯­åˆ—è¡¨">3.2 ç¡®å®šè¯è¯­åˆ—è¡¨</h3>
<p><strong>ä»è‹±è¯­å››çº§CET-4çš„æ•™å­¦å¤§çº²ä¸­æ‰¾å‡º4030ä¸ªè‹±è¯­å•è¯</strong>ï¼Œå¤§å­¦è‹±è¯­å››çº§å¤§çº²ä¸­çš„è¯æ±‡å‡ºç°é¢‘ç‡è¾ƒé«˜ï¼Œä¸”ä¸å­¦å‘˜çš„æ—¥å¸¸ç”Ÿæ´»å¯†åˆ‡ç›¸å…³ã€‚</p>
<p>ç¿»è¯‘ç»è¿‡ä¸‰é“ä¸¥æ ¼çš„ç¨‹åºå®Œæˆã€‚ç¬¬ä¸€è½®ç¿»è¯‘ä¾æ®çš„æ˜¯ç‰›æ´¥é«˜é˜¶è‹±æ±‰è¯å…¸ï¼ˆç¬¬9ç‰ˆ *ï¼‰*å’Œè‹±å›½å›½å®¶è¯­æ–™åº“ï¼ˆBNCï¼‰ã€‚è¯¥ç ”ç©¶é‡‡ç”¨ã€Šç‰›æ´¥é«˜çº§è‹±æ±‰è¯å…¸ï¼ˆç¬¬9ç‰ˆ *ï¼‰ã€‹*ä¸­çš„é¦–ä¸ªä¸­æ–‡é‡Šä¹‰ï¼Œå°†è¯è¡¨ç¿»è¯‘æˆä¸­æ–‡ã€‚æœ‰äº›è¯æœ‰å¤šä¸ªè¯æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œstemâ€å¯ä»¥æ˜¯åè¯å’ŒåŠ¨è¯ã€‚åè¯â€œèŒâ€çš„æ„æ€æ˜¯â€œæ¤ç‰©åœ¨åœ°é¢ä¸Šé•¿å‡ºå¶å­æˆ–èŠ±æœµçš„ä¸»è¦é•¿è€Œè–„çš„éƒ¨åˆ†ï¼›ä»ä¸­ç”Ÿé•¿å‡ºæ¥å¹¶æ”¯æ’‘èŠ±æœµæˆ–å¶å­çš„è¾ƒå°éƒ¨åˆ†â€ï¼ˆStemï¼Œ2018ï¼‰ï¼ŒåŠ¨è¯çš„æ„æ€æ˜¯â€œé˜»æ­¢æŸäº›æ­£åœ¨æµåŠ¨æˆ–å¢åŠ çš„ä¸œè¥¿â€ï¼ˆStemï¼Œ2018ï¼‰ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®è‹±å›½å›½å®¶è¯­æ–™åº“é€‰æ‹©äº†è¯é¢‘è¾ƒé«˜çš„è¯æ€§ã€‚åœ¨æ­¤è¿‡ç¨‹ä¹‹åï¼Œç ”ç©¶å‘ç°äº† 672 ä¸ªå•è¯çš„ä¸€è‡´ç¿»è¯‘ã€‚</p>
<p>åœ¨ç¬¬äºŒä¸ªç¿»è¯‘é˜¶æ®µï¼Œæœ¬ç ”ç©¶é‡‡ç”¨äº†å¾·å°”è²æ³•ã€‚æˆ‘ä»¬é‚€è¯·äº†äº”ä½ç²¾é€šè‹±è¯­æ–‡åŒ–å’Œä¸­å›½æ–‡åŒ–çš„ä¸“ä¸šç¿»è¯‘äººå‘˜æ¥è¿›è¡Œè¿™é¡¹å·¥ä½œã€‚ç¿»è¯‘è¿‡ç¨‹ä¸­ï¼Œäº”ä½ä¸“ä¸šäººå£«æœªç»è®¨è®ºå°±ç¿»è¯‘äº†è¿™672ä¸ªä¸€è‡´è¯ã€‚ç„¶åï¼Œç ”ç©¶å¯¹ä»–ä»¬çš„ç¿»è¯‘è¿›è¡Œäº†æ¯”è¾ƒï¼Œå¹¶æ‰¾å‡ºäº†äº”ä½è¯‘è€…æ„è§ä¸ä¸€è‡´çš„è¯è¯­ã€‚ç»è¿‡å››è½®åŒ¿åè®¨è®ºï¼Œæˆ‘ä»¬è·å¾—äº†å”¯ä¸€ä¸é‡å¤çš„æ±‰è¯‘æœ¬553ä¸ªå•è¯ã€‚</p>
<p>ç»è¿‡è¿™ä¸€æ­¥ï¼Œå‰©ä¸‹äº† 186 ä¸ªä¸ä¸­æ–‡ç¿»è¯‘ä¸€è‡´çš„å•è¯ã€‚ä¸ºäº†ç¡®ä¿æ¯ä¸ªç¿»è¯‘ä¸é‡å¤ï¼Œç ”ç©¶åœ¨ä¸­æ–‡ç¿»è¯‘åæ ‡è®°äº†åŸå§‹è‹±æ–‡å•è¯æˆ–è¯¥å•è¯çš„è¯æ€§ã€‚æœ€ç»ˆè·å¾—äº†è‹±è¯­å››çº§è‹±è¯­å•è¯å¤§çº²çš„ç¿»è¯‘ç‰ˆï¼ŒåŒ…å«4030ä¸ªä¸­æ–‡å•è¯ã€‚</p>
<p><strong>æˆ‘ä»¬å°† 4030 ä¸ªä¸­æ–‡å•è¯çš„åˆ—è¡¨éšæœºåˆ†ä¸º 20 ä¸ªå­åˆ—è¡¨ï¼Œæ¯ä¸ªå­åˆ—è¡¨åŒ…å« 201 æˆ– 202 ä¸ªå•è¯ã€‚æ ¹æ®è¯¥ç ”ç©¶çš„è®¾è®¡ï¼Œæ¯ä¸ªå•è¯çš„æ¯ä¸ªç»´åº¦ï¼ˆå”¤é†’åº¦ã€æ•ˆä»·ã€æ”¯é…æ€§å’Œå…·ä½“æ€§ï¼‰éƒ½ä¼šè¢«è¯„ä¼°è‡³å°‘ 45 æ¬¡ã€‚</strong></p>
<br>
<h3 id="33-è®¾è®¡é—®å·">3.3 è®¾è®¡é—®å·</h3>
<p><strong>æ¯ä»½è¯•å·å‡åŒ…å«ä¸€ä¸ªä¿¡æ¯éƒ¨åˆ†ã€è¯´æ˜å’Œè¯„åˆ†è¡¨ã€‚æœ¬ç ”ç©¶é‡‡ç”¨7ç‚¹æå…‹ç‰¹è‡ªè¯„é‡è¡¨è¿›è¡Œæ‰“åˆ†</strong>ã€‚</p>
<ul>
<li>æ•ˆä»·æè¿°äº†åˆºæ¿€å¼•èµ·æ„‰æ‚¦æ„Ÿçš„ç¨‹åº¦ï¼ˆRussellï¼Œ1980ï¼›Bradley &amp; Langï¼Œ1999ï¼‰ã€‚æ•°å­—1è¡¨ç¤ºéå¸¸ä¸æ„‰å¿«ï¼Œ4è¡¨ç¤ºä¸€èˆ¬ï¼Œ7è¡¨ç¤ºéå¸¸æ„‰å¿«ã€‚</li>
<li>å”¤é†’ï¼Œä¹Ÿç§°ä¸ºæ¿€æ´»ã€å¼ºåº¦æˆ–èƒ½é‡æ°´å¹³ï¼ˆMontefinese ç­‰ï¼Œ2014ï¼‰ï¼Œç”¨äºæè¿°èº«ä½“è¢«æ¿€æ´»æˆ–å”¤é†’çš„ç¨‹åº¦ï¼ˆDuffyï¼Œ1934ï¼‰ã€‚è¯¥ç ”ç©¶ç”¨1è¡¨ç¤ºæåº¦å¹³é™ï¼Œ4è¡¨ç¤ºä¸­æ€§ï¼Œ7è¡¨ç¤ºæåº¦å…´å¥‹ã€‚</li>
<li>æ”¯é…æ€§è¢«å®šä¹‰ä¸ºä¸ªä½“å¯¹åˆºæ¿€çš„æ§åˆ¶æˆ–å½±å“ç¨‹åº¦ï¼ŒèŒƒå›´ä»å®Œå…¨å¤±æ§åˆ°å®Œå…¨æ§åˆ¶ï¼ˆRussell &amp; Mehrabianï¼Œ1977ï¼‰ã€‚ç ”ç©¶ç”¨1ä»£è¡¨å—è¯•è€…æ„Ÿè§‰è‡ªå·±å®Œå…¨è¢«è¿™ä¸ªè¯æ§åˆ¶ï¼ˆè¿™ä¸ªè¯æ˜¯â€œç››è¡Œâ€ï¼‰ï¼Œ4ä»£è¡¨ä¸­ç«‹ï¼Œ7ä»£è¡¨å—è¯•è€…æ„Ÿè§‰èƒ½å¤Ÿå®Œå…¨æ§åˆ¶è¿™ä¸ªè¯ï¼ˆè¿™ä¸ªè¯æ˜¯â€œå¼±â€ï¼‰ã€‚ â€ï¼‰ã€‚</li>
<li>å…·ä½“æ€§æ˜¯æŒ‡å½¢æˆå•è¯ç‰©ç†æ‰€æŒ‡çš„å¿ƒç†å›¾åƒçš„å›°éš¾ç¨‹åº¦ã€‚è¯¥ç ”ç©¶ä½¿ç”¨1è¡¨ç¤ºæç«¯æŠ½è±¡ï¼Œ4è¡¨ç¤ºä¸­æ€§ï¼Œ7è¡¨ç¤ºæç«¯å…·ä½“ã€‚</li>
</ul>
<br>
<h3 id="34-æ­¥éª¤">3.4 æ­¥éª¤</h3>
<p>æœ¬ç ”ç©¶é‡‡ç”¨<strong>çº¸ç¬”è¯„åˆ†æ³•</strong>(paper-pencil rating method) ã€‚æ¯ä¸ªå‚ä¸è€…éšæœºæ”¶åˆ°ä¸€ä¸ªå•è¯å­åˆ—è¡¨ã€‚åœ¨è¯•å·çš„ç¬¬ä¸€é¡µï¼Œè¯¥ç ”ç©¶ä¸ºæ¯ä¸ªç»´åº¦ï¼ˆæ•ˆä»·ã€å”¤é†’åº¦ã€æ”¯é…æ€§å’Œå…·ä½“æ€§ï¼‰æä¾›äº†æ¸…æ™°çš„ä¸­æ–‡è¯´æ˜å’Œç”ŸåŠ¨çš„ä¾‹å­ã€‚å‚ä¸è€…æ”¶åˆ°è¯•å·åï¼Œç ”ç©¶å£å¤´æä¾›äº†æ¸…æ™°çš„è¯´æ˜è§£é‡Šã€‚è¯•å·çš„ç¬¬äºŒé¡µå’Œç¬¬ä¸‰é¡µæ˜¯A4çº¸ä¸Šæ‰“å°çš„ä¸­æ–‡å•è¯å’Œç­‰çº§é‡è¡¨ã€‚æ¯ä¸ªå‚ä¸è€…åœ¨å®‰é™çš„æ•™å®¤é‡Œå¯¹ä¸€å¼ è¯•å·è¿›è¡Œè¯„åˆ†ã€‚ç”±äºæ‰€æœ‰å•è¯éƒ½æ˜¯æ±‰è¯­ï¼Œè€Œä¸”å››çº§å•è¯åœ¨ç¤¾ä¼šç”Ÿæ´»ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œå› æ­¤æ²¡æœ‰å‚ä¸è€…å¯¹å•è¯çš„å«ä¹‰æœ‰ç–‘é—®ã€‚</p>
<p>é‰´äºä¹‹å‰çš„ç ”ç©¶ï¼ˆè°¢ï¼Œ2020ï¼›å¼ ï¼Œ2020ï¼‰ï¼Œæ•°æ®ä¿®å‰ªè§„åˆ™å¦‚ä¸‹æ‰€ç¤ºï¼Œå¦‚æœè¯•å·æ»¡è¶³å…¶ä¸­ä¸€æ¡è§„åˆ™ï¼Œåˆ™å°†è¢«è§†ä¸ºæ— æ•ˆã€‚</p>
<ul>
<li>70%ä»¥ä¸Šçš„è¯„çº§ç»“æœç¼ºå¤±ï¼›</li>
<li>70%ä»¥ä¸Šçš„è¯„çº§ç»“æœç›¸åŒï¼›</li>
<li>è¯•å·è¡¨ç°å‡ºæ˜æ˜¾çš„æ•Œæ„ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å‚ä¸è€…åœ¨è¯•å·ä¸Šç•™ä¸‹ä¾®è¾±æ€§çš„è¯„è®ºï¼Œä¾‹å¦‚â€œæˆ‘åªæ˜¯éšæ„åœˆå‡ºæ•°å­—æ¥æ¬ºéª—ä½ ä»¬ï¼Œå‚»ç“œâ€ã€‚</li>
<li>æ­¤å¤–ï¼Œç­”æ¡ˆæ˜¯åœ¨ä¸€ç³»åˆ—ä¹‹å­—å½¢ä¸­éšæœºé€‰æ‹©çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒæŸ¥é—®å·å°†è¢«è§†ä¸ºæ•Œå¯¹è°ƒæŸ¥é—®å·ã€‚</li>
</ul>
<p>æœ€ç»ˆæˆ‘ä»¬å…±æ”¶é›†åˆ°3304ä»½è¯•å·ã€‚åœ¨æ‰€æœ‰è¯•å·ä¸­ï¼Œæ•ˆä»·è¯„åˆ†ä¸º 858 ä»½ï¼Œå”¤é†’è¯„åˆ†ä¸º 803 ä»½ï¼Œæ”¯é…æ€§è¯„åˆ†ä¸º 777 ä»½ï¼Œå…·ä½“æ€§è¯„åˆ†ä¸º 866 ä»½ã€‚æ¯ä¸ªç»´åº¦ä¸­çš„å‡ ä¸ªç¼ºå¤±è¯„çº§å‡ç”±å¹³å‡å€¼ä»£æ›¿ã€‚åˆ é™¤æ— æ•ˆæ•°æ®åçš„æœ€ç»ˆæ•°æ®åº“å…±åŒ…å«4030ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯çš„æ•ˆä»·è¯„åˆ†ä¸º42.9ï¼Œå”¤é†’è¯„åˆ†ä¸º40.2ï¼Œå…·ä½“æ€§è¯„åˆ†ä¸º43.3ï¼Œæ”¯é…æ€§è¯„åˆ†ä¸º38.9ã€‚</p>
<p><br><br></p>
<h2 id="å››ancwè¯å…¸">å››ã€ANCWè¯å…¸</h2>
<p>ancwä¸‹è½½é“¾æ¥:https://pan.baidu.com/s/1UfbmVQh9XM77eoGmMsZ2-w?pwd=bp63  æå–ç :bp63</p>
<p><img loading="lazy" src="img/02-ancw.png" alt=""  />
</p>
<p><img loading="lazy" src="img/03-ancw.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="ç›¸å…³æ–‡çŒ®">ç›¸å…³æ–‡çŒ®</h2>
<p>Xu, X., Li, J., &amp; Chen, H. (2021). Valence and arousal ratings for 11,310 simplified Chinese words. <em>Behavior Research Methods, 54</em>(1), 26â€“41. <a href="https://doi.org/10.3758/s13428-021-01607-4">https://doi.org/10.3758/s13428-021-01607-4</a></p>
<p>Yao, Z., Wu, J., Zhang, Y., &amp; Wang, Z. (2016). Norms of valence, arousal, concreteness, familiarity, imageability, and context availability for 1,100 Chinese words. <em>Behavior Research Methods, 49</em>(4), 1374â€“1385. <a href="https://doi.org/10.3758/s13428-016-0793-2">https://doi.org/10.3758/s13428-016-0793-2</a></p>
<p>Yuan, J., Zhang, Y., Chen, S., Luo, L., &amp; Ru, Y. (2021). The establishment of Chinese Emotion Regulation Word System (CERWS) and its pilot test. <em>Acta Psychologica Sinica, 53</em>(<em>5</em>), 445. <a href="https://doi.org/10.3724/sp.j.1041.2021.00445">https://doi.org/10.3724/sp.j.1041.2021.00445</a></p>
<br>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>å¯è§†åŒ– | ä½¿ç”¨umapå¯¹200ç»´è¯å‘é‡çš„è¿›è¡Œé™ç»´å’Œå¯è§†åŒ–</title>
      <link>https://textdata.cn/blog/2024-01-23-umap/</link>
      <pubDate>Tue, 23 Jan 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-01-23-umap/</guid>
      <description>&lt;h2 id=&#34;ä¸€ä»‹ç»&#34;&gt;ä¸€ã€ä»‹ç»&lt;/h2&gt;
&lt;p&gt;UMAPï¼ˆUniform Manifold Approximation and Projection for Dimension Reductionï¼‰æ˜¯ä¸€ç§éçº¿æ€§é™ç»´æŠ€æœ¯ï¼Œç±»ä¼¼äºt-SNEã€PCAï¼Œå¯ç”¨äºå¯è§†åŒ–ã€‚åœ¨é™ç»´åº”ç”¨ä¸­ï¼Œ ç›¸æ¯”äºt-SNEï¼Œumapæ—¢å¿«åˆå‡†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå¯¹ UMAPç®—æ³•æ„Ÿå…´è¶£ï¼Œå¯ä»¥é˜…è¯»è®ºæ–‡&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;McInnes, L, Healy, J, UMAP: Uniform Manifold Approximation and Projection for Dimension Reduction, ArXiv &lt;a href=&#34;https://www.zhihu.com/search?q=e-prints&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A%22109584077%22%7D&#34;&gt;e-prints&lt;/a&gt; 1802.03426, 2018&lt;/p&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;äºŒå‡†å¤‡æ•°æ®&#34;&gt;äºŒã€å‡†å¤‡æ•°æ®&lt;/h2&gt;
&lt;h3 id=&#34;21-è¯»å–æ•°æ®&#34;&gt;2.1 è¯»å–æ•°æ®&lt;/h3&gt;
&lt;p&gt;æˆ‘ä» &lt;a href=&#34;https://textdata.cn/blog/2023-12-14-daily-news-dataset/&#34;&gt;&lt;strong&gt;äººæ°‘æ—¥æŠ¥(1946-2023.12.18)&lt;/strong&gt;&lt;/a&gt; è®­ç»ƒçš„ word2vecæ¨¡å‹ ä¸­ï¼Œ é€‰å‡ºäº†100ä¸ªè¯çš„è¯å‘é‡ï¼Œæ„å»ºå¾—åˆ°äº† &lt;a href=&#34;data.csv.gz&#34;&gt;&lt;strong&gt;data.csv.gz&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;word:  è¯è¯­ï¼Œä¸€å…±æœ‰100ä¸ª&lt;/li&gt;
&lt;li&gt;category: è¯è¯­çš„ç±»åˆ«ï¼Œ ä¸€å…±äº”ç§(äº²äººã€ç¯ä¿ã€ç ”å‘ã€å›½ç‹ã€æ•°å­—åŒ–)&lt;/li&gt;
&lt;li&gt;f1,f2,f3,&amp;hellip;,f200  è¯å‘é‡çš„200ç»´ï¼ˆæ¯ä¸ªè¯è¯­çš„è¯å‘é‡æ˜¯200ç»´çš„å‘é‡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data.csv.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compression&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;gzip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;22-æŸ¥çœ‹è¯è¯­å¯¹åº”ç±»åˆ«&#34;&gt;2.2 æŸ¥çœ‹è¯è¯­&amp;amp;å¯¹åº”ç±»åˆ«&lt;/h3&gt;
&lt;p&gt;å¤§é‚“å‡†å¤‡äº†äº”ç±»è¯ï¼Œ æ¯ç±»è¯20ä¸ªè¯ï¼Œ è¯è¯­ç±»åˆ«æŒ‰é¡ºåºä¾æ¬¡æ˜¯ &lt;strong&gt;äº²äººã€ç¯ä¿ã€ç ”å‘ã€å›½ç‹ã€æ•°å­—&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;word&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tolist&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[&amp;#39;çˆ¸çˆ¸&amp;#39;, &amp;#39;å§å§&amp;#39;, &amp;#39;å¥¶å¥¶&amp;#39;, &amp;#39;å¥³å„¿&amp;#39;, &amp;#39;å¤–å…¬&amp;#39;, &amp;#39;å“¥å“¥&amp;#39;, &amp;#39;å„¿å­&amp;#39;, &amp;#39;ç¥–æ¯&amp;#39;, &amp;#39;çˆ¶æ¯äº²&amp;#39;, &amp;#39;å¤–å©†&amp;#39;, &amp;#39;å¦¹å¦¹&amp;#39;, &amp;#39;å­™å¥³&amp;#39;, &amp;#39;å§¥çˆ·&amp;#39;, &amp;#39;å°å¥³å„¿&amp;#39;, &amp;#39;å§¥å§¥&amp;#39;, &amp;#39;äºŒå§&amp;#39;, &amp;#39;å§‘å§‘&amp;#39;, &amp;#39;å¼Ÿå¼Ÿ&amp;#39;, &amp;#39;å¼Ÿå¼Ÿå¦¹å¦¹&amp;#39;, &amp;#39;çˆ¸çˆ¸å¦ˆå¦ˆ&amp;#39;, &amp;#39;ä½ç¢³&amp;#39;, &amp;#39;èŠ‚èƒ½&amp;#39;, &amp;#39;ç¯å¢ƒä¿æŠ¤&amp;#39;, &amp;#39;ç»¿è‰²ç¯ä¿&amp;#39;, &amp;#39;èŠ‚èƒ½é™è€—&amp;#39;, &amp;#39;ç¯ä¿èŠ‚èƒ½&amp;#39;, &amp;#39;ç”Ÿæ€ç¯ä¿&amp;#39;, &amp;#39;èŠ‚èƒ½ç¯ä¿&amp;#39;, &amp;#39;èŠ‚èƒ½ä½ç¢³&amp;#39;, &amp;#39;ç»¿è‰²ä½ç¢³&amp;#39;, &amp;#39;å‡æ’&amp;#39;, &amp;#39;ç»¿è‰²å‘å±•&amp;#39;, &amp;#39;ä¿æŠ¤ç¯å¢ƒ&amp;#39;, &amp;#39;æ¸…æ´ç”Ÿäº§&amp;#39;, &amp;#39;å»ºç­‘èŠ‚èƒ½&amp;#39;, &amp;#39;ç¯å¢ƒæ²»ç†&amp;#39;, &amp;#39;å‡ç¢³&amp;#39;, &amp;#39;å¾ªç¯ç»æµ&amp;#39;, &amp;#39;ä½ç¢³ç¯ä¿&amp;#39;, &amp;#39;æ²»ç†æ±¡æŸ“&amp;#39;, &amp;#39;ç§‘ç ”å¼€å‘&amp;#39;, &amp;#39;ç§‘æŠ€ç ”å‘&amp;#39;, &amp;#39;ç§‘ç ”åˆ›æ–°&amp;#39;, &amp;#39;ç ”å‘åˆ›æ–°&amp;#39;, &amp;#39;æŠ€æœ¯åˆ›æ–°&amp;#39;, &amp;#39;æŠ€æœ¯å¼€å‘&amp;#39;, &amp;#39;æŠ€æœ¯ç ”å‘&amp;#39;, &amp;#39;äº§å“å¼€å‘&amp;#39;, &amp;#39;äº§å“ç ”å‘&amp;#39;, &amp;#39;åŸå§‹åˆ›æ–°&amp;#39;, &amp;#39;ç§‘æŠ€åˆ›æ–°&amp;#39;, &amp;#39;ç ”ç©¶å¼€å‘&amp;#39;, &amp;#39;æ–°è¯ç ”å‘&amp;#39;, &amp;#39;æ ¸å¿ƒæŠ€æœ¯ç ”å‘&amp;#39;, &amp;#39;äº§å­¦ç ”ç»“åˆ&amp;#39;, &amp;#39;ç§‘æŠ€å¼€å‘&amp;#39;, &amp;#39;åŸºç¡€ç ”ç©¶&amp;#39;, &amp;#39;æ–°äº§å“å¼€å‘&amp;#39;, &amp;#39;ç ”å‘æˆæœ&amp;#39;, &amp;#39;ç§‘ç ”æˆæœäº§ä¸šåŒ–&amp;#39;, &amp;#39;äºŒä¸–&amp;#39;, &amp;#39;ç‹å‚¨&amp;#39;, &amp;#39;å…¬ä¸»&amp;#39;, &amp;#39;å¥³ç‹&amp;#39;, &amp;#39;ç‹å¦ƒ&amp;#39;, &amp;#39;é™›ä¸‹&amp;#39;, &amp;#39;ç‹å®«&amp;#39;, &amp;#39;ç‹å®¤&amp;#39;, &amp;#39;ç‹å®¤æˆå‘˜&amp;#39;, &amp;#39;çš‡å®¤æˆå‘˜&amp;#39;, &amp;#39;ç™»åŸº&amp;#39;, &amp;#39;å…­ä¸–&amp;#39;, &amp;#39;ç»§æ‰¿ç‹ä½&amp;#39;, &amp;#39;äº”ä¸–&amp;#39;, &amp;#39;æ‘„æ”¿ç‹&amp;#39;, &amp;#39;ä¸ƒä¸–&amp;#39;, &amp;#39;è‹±å›½å¥³ç‹&amp;#39;, &amp;#39;ä¸‰ä¸–&amp;#39;, &amp;#39;å››ä¸–&amp;#39;, &amp;#39;ç»§ä½&amp;#39;, &amp;#39;äººå·¥æ™ºèƒ½æŠ€æœ¯&amp;#39;, &amp;#39;AI&amp;#39;, &amp;#39;æ•°å­—æŠ€æœ¯&amp;#39;, &amp;#39;è™šæ‹Ÿç°å®&amp;#39;, &amp;#39;äº‘è®¡ç®—&amp;#39;, &amp;#39;ä¸‡ç‰©äº’è”&amp;#39;, &amp;#39;ä¿¡æ¯æŠ€æœ¯&amp;#39;, &amp;#39;è¯­éŸ³æŠ€æœ¯&amp;#39;, &amp;#39;ç‰©è”ç½‘&amp;#39;, &amp;#39;æ™ºèƒ½ç¡¬ä»¶&amp;#39;, &amp;#39;5GæŠ€æœ¯&amp;#39;, &amp;#39;IoT&amp;#39;, &amp;#39;æ™ºèƒ½åº”ç”¨&amp;#39;, &amp;#39;è½¯ä»¶æŠ€æœ¯&amp;#39;, &amp;#39;èåˆåº”ç”¨&amp;#39;, &amp;#39;6G&amp;#39;, &amp;#39;äººå·¥æ™ºèƒ½æœºå™¨äºº&amp;#39;, &amp;#39;æ•°æ®åº”ç”¨&amp;#39;, &amp;#39;äººå·¥æ™ºèƒ½åº”ç”¨&amp;#39;, &amp;#39;æ™ºèƒ½&amp;#39;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;è¯è¯­å¯¹åº”çš„ç±»åˆ«&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;category&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tolist&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰å®éªŒä»£ç &#34;&gt;ä¸‰ã€å®éªŒä»£ç &lt;/h2&gt;
&lt;h3 id=&#34;31-ç¯å¢ƒå‡†å¤‡&#34;&gt;3.1 ç¯å¢ƒå‡†å¤‡&lt;/h3&gt;
&lt;p&gt;åœ¨ &lt;em&gt;&lt;strong&gt;cmd(terminal)&lt;/strong&gt;&lt;/em&gt; å®‰è£…æœ¬æ–‡éœ€è¦çš„åº“&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;pip3 install umap-learn
pip3 install datashader,bokeh,holoviews  #å¯è§†åŒ–å¯èƒ½ä¼šç”¨åˆ°çš„åº“
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;32-é™ç»´&#34;&gt;3.2 é™ç»´&lt;/h3&gt;
&lt;p&gt;å°† 100 ä¸ªè¯çš„è¯å‘é‡æ•°æ®ä» 200 ç»´å‹ç¼©åˆ° 2 ç»´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;umap&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;word_emb_redution_data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;umap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UMAP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;n_neighbors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#é»˜è®¤ï¼Œä¸éœ€è¦ç†è§£&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;min_dist&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#é»˜è®¤ï¼Œä¸éœ€è¦ç†è§£&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;n_components&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#2ç»´&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;random_state&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;666&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#é»˜è®¤ï¼Œ ä¿è¯ä»»æ„æ—¶ç©ºä»£ç è¿è¡Œç»“æœçš„éšæœºçŠ¶æ€æ˜¯ä¸€è‡´çš„&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:])&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;word_emb_redution_data&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/02-umap.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;33-é™æ€å¯è§†åŒ–&#34;&gt;3.3 é™æ€å¯è§†åŒ–&lt;/h3&gt;
&lt;p&gt;ç»˜åˆ¶é™æ€çš„å›¾(æ²¡æœ‰é¼ æ ‡äº¤äº’)ï¼Œ åº•å±‚åº”è¯¥æ˜¯è°ƒç”¨äº† &lt;em&gt;&lt;strong&gt;matplotlib&lt;/strong&gt;&lt;/em&gt; ã€‚ å› ä¸ºå®éªŒæ•°æ®æ˜¯ä¸­æ–‡è¯è¯­ï¼Œ å¯è§†åŒ–å¯èƒ½ç»˜ä¹±ç ã€‚ä¸ºé¿å…é—®é¢˜ï¼Œ æå‰è¿è¡Œä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;plt&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib_inline&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;matplotlib_inline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;backend_inline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set_matplotlib_formats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;svg&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;scienceplots&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;platform&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;science&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;no-latex&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;cjk-sc-font&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;platform&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# è·å–æ“ä½œç³»ç»Ÿç±»å‹&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;system&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Windows&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;font&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;family&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;SimHei&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;system&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Darwin&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;font&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;family&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Arial Unicode MS&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;font&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;family&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;sans-serif&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;matplotlib&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;font&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;font&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# è®¾ç½®å…¨å±€å­—ä½“&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;ç»˜åˆ¶ &lt;strong&gt;äº”ç±»è¯çš„è¯å‘é‡æŠ•å°„åˆ°2ç»´ç©ºé—´ä¸­çš„å¯è§†åŒ–&lt;/strong&gt; çš„é™æ€å›¾(æ²¡æœ‰é¼ æ ‡äº¤äº’)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;umap.plot&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;umap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;word_emb_redution_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;800&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;äº”ç±»è¯çš„è¯å‘é‡æŠ•å°„åˆ°2ç»´ç©ºé—´ä¸­çš„å¯è§†åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/03-plot.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;34-åŠ¨æ€äº¤äº’å¯è§†åŒ–&#34;&gt;3.4 åŠ¨æ€äº¤äº’å¯è§†åŒ–&lt;/h3&gt;
&lt;p&gt;umap.plot å†…ç½®äº†bokehçš„åŠ¨æ€äº¤äº’åŠŸèƒ½ï¼Œ éœ€è¦å…ˆæ„é€ é¼ æ ‡äº¤äº’æ‚¬æµ®çš„ä¿¡æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;mapper&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;äº²äºº&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç¯ä¿&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ç ”å‘&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;å›½ç‹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;æ•°å­—åŒ–&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;


&lt;span class=&#34;n&#34;&gt;hover_data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DataFrame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;index&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                           &lt;span class=&#34;s1&#34;&gt;&amp;#39;item&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;category&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; 
                           &lt;span class=&#34;s1&#34;&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;category&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mapper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)})&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;hover_data&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/04-df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;æ¥ä¸‹æ¥çš„ä»£ç å°†ä¼šç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œ å› ä¸ºæ˜¯åŠ¨æ€æ•ˆæœï¼Œåœ¨åšå®¢(å…¬ä¼—å·)éƒ½æ— æ³•å®Œå…¨æ˜¾ç¤ºï¼Œ å¤§å®¶å¦‚æœæƒ³æŸ¥çœ‹ï¼Œå¯ä»¥ç‚¹å‡»é“¾æ¥ä¸‹è½½&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://textdata.cn/blog/2024-01-23-umap/umap_interactive.html&#34;&gt;https://textdata.cn/blog/2024-01-23-umap/umap_interactive.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;umap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;interactive&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clusterable_embedding&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                          &lt;span class=&#34;n&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                          &lt;span class=&#34;n&#34;&gt;hover_data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hover_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                          &lt;span class=&#34;n&#34;&gt;point_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                          &lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;800&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
                          &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;umap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/05-interactive.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2 id=&#34;å››ä¸‹è½½èµ„æ–™&#34;&gt;å››ã€ä¸‹è½½èµ„æ–™&lt;/h2&gt;
&lt;p&gt;ç‚¹å‡»ä¸‹è½½å®éªŒæ•°æ®  &lt;a href=&#34;data.csv.gz&#34;&gt;&lt;strong&gt;data.csv.gz&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€ä»‹ç»">ä¸€ã€ä»‹ç»</h2>
<p>UMAPï¼ˆUniform Manifold Approximation and Projection for Dimension Reductionï¼‰æ˜¯ä¸€ç§éçº¿æ€§é™ç»´æŠ€æœ¯ï¼Œç±»ä¼¼äºt-SNEã€PCAï¼Œå¯ç”¨äºå¯è§†åŒ–ã€‚åœ¨é™ç»´åº”ç”¨ä¸­ï¼Œ ç›¸æ¯”äºt-SNEï¼Œumapæ—¢å¿«åˆå‡†ã€‚</p>
<p>å¦‚æœå¯¹ UMAPç®—æ³•æ„Ÿå…´è¶£ï¼Œå¯ä»¥é˜…è¯»è®ºæ–‡</p>
<blockquote>
<p>McInnes, L, Healy, J, UMAP: Uniform Manifold Approximation and Projection for Dimension Reduction, ArXiv <a href="https://www.zhihu.com/search?q=e-prints&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A%22109584077%22%7D">e-prints</a> 1802.03426, 2018</p>
</blockquote>
<br>
<br>
<h2 id="äºŒå‡†å¤‡æ•°æ®">äºŒã€å‡†å¤‡æ•°æ®</h2>
<h3 id="21-è¯»å–æ•°æ®">2.1 è¯»å–æ•°æ®</h3>
<p>æˆ‘ä» <a href="https://textdata.cn/blog/2023-12-14-daily-news-dataset/"><strong>äººæ°‘æ—¥æŠ¥(1946-2023.12.18)</strong></a> è®­ç»ƒçš„ word2vecæ¨¡å‹ ä¸­ï¼Œ é€‰å‡ºäº†100ä¸ªè¯çš„è¯å‘é‡ï¼Œæ„å»ºå¾—åˆ°äº† <a href="data.csv.gz"><strong>data.csv.gz</strong></a></p>
<ul>
<li>word:  è¯è¯­ï¼Œä¸€å…±æœ‰100ä¸ª</li>
<li>category: è¯è¯­çš„ç±»åˆ«ï¼Œ ä¸€å…±äº”ç§(äº²äººã€ç¯ä¿ã€ç ”å‘ã€å›½ç‹ã€æ•°å­—åŒ–)</li>
<li>f1,f2,f3,&hellip;,f200  è¯å‘é‡çš„200ç»´ï¼ˆæ¯ä¸ªè¯è¯­çš„è¯å‘é‡æ˜¯200ç»´çš„å‘é‡ï¼‰</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data.csv.gz&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><p><img loading="lazy" src="img/01-df.png" alt=""  />
</p>
<br>
<h3 id="22-æŸ¥çœ‹è¯è¯­å¯¹åº”ç±»åˆ«">2.2 æŸ¥çœ‹è¯è¯­&amp;å¯¹åº”ç±»åˆ«</h3>
<p>å¤§é‚“å‡†å¤‡äº†äº”ç±»è¯ï¼Œ æ¯ç±»è¯20ä¸ªè¯ï¼Œ è¯è¯­ç±»åˆ«æŒ‰é¡ºåºä¾æ¬¡æ˜¯ <strong>äº²äººã€ç¯ä¿ã€ç ”å‘ã€å›½ç‹ã€æ•°å­—</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[&#39;çˆ¸çˆ¸&#39;, &#39;å§å§&#39;, &#39;å¥¶å¥¶&#39;, &#39;å¥³å„¿&#39;, &#39;å¤–å…¬&#39;, &#39;å“¥å“¥&#39;, &#39;å„¿å­&#39;, &#39;ç¥–æ¯&#39;, &#39;çˆ¶æ¯äº²&#39;, &#39;å¤–å©†&#39;, &#39;å¦¹å¦¹&#39;, &#39;å­™å¥³&#39;, &#39;å§¥çˆ·&#39;, &#39;å°å¥³å„¿&#39;, &#39;å§¥å§¥&#39;, &#39;äºŒå§&#39;, &#39;å§‘å§‘&#39;, &#39;å¼Ÿå¼Ÿ&#39;, &#39;å¼Ÿå¼Ÿå¦¹å¦¹&#39;, &#39;çˆ¸çˆ¸å¦ˆå¦ˆ&#39;, &#39;ä½ç¢³&#39;, &#39;èŠ‚èƒ½&#39;, &#39;ç¯å¢ƒä¿æŠ¤&#39;, &#39;ç»¿è‰²ç¯ä¿&#39;, &#39;èŠ‚èƒ½é™è€—&#39;, &#39;ç¯ä¿èŠ‚èƒ½&#39;, &#39;ç”Ÿæ€ç¯ä¿&#39;, &#39;èŠ‚èƒ½ç¯ä¿&#39;, &#39;èŠ‚èƒ½ä½ç¢³&#39;, &#39;ç»¿è‰²ä½ç¢³&#39;, &#39;å‡æ’&#39;, &#39;ç»¿è‰²å‘å±•&#39;, &#39;ä¿æŠ¤ç¯å¢ƒ&#39;, &#39;æ¸…æ´ç”Ÿäº§&#39;, &#39;å»ºç­‘èŠ‚èƒ½&#39;, &#39;ç¯å¢ƒæ²»ç†&#39;, &#39;å‡ç¢³&#39;, &#39;å¾ªç¯ç»æµ&#39;, &#39;ä½ç¢³ç¯ä¿&#39;, &#39;æ²»ç†æ±¡æŸ“&#39;, &#39;ç§‘ç ”å¼€å‘&#39;, &#39;ç§‘æŠ€ç ”å‘&#39;, &#39;ç§‘ç ”åˆ›æ–°&#39;, &#39;ç ”å‘åˆ›æ–°&#39;, &#39;æŠ€æœ¯åˆ›æ–°&#39;, &#39;æŠ€æœ¯å¼€å‘&#39;, &#39;æŠ€æœ¯ç ”å‘&#39;, &#39;äº§å“å¼€å‘&#39;, &#39;äº§å“ç ”å‘&#39;, &#39;åŸå§‹åˆ›æ–°&#39;, &#39;ç§‘æŠ€åˆ›æ–°&#39;, &#39;ç ”ç©¶å¼€å‘&#39;, &#39;æ–°è¯ç ”å‘&#39;, &#39;æ ¸å¿ƒæŠ€æœ¯ç ”å‘&#39;, &#39;äº§å­¦ç ”ç»“åˆ&#39;, &#39;ç§‘æŠ€å¼€å‘&#39;, &#39;åŸºç¡€ç ”ç©¶&#39;, &#39;æ–°äº§å“å¼€å‘&#39;, &#39;ç ”å‘æˆæœ&#39;, &#39;ç§‘ç ”æˆæœäº§ä¸šåŒ–&#39;, &#39;äºŒä¸–&#39;, &#39;ç‹å‚¨&#39;, &#39;å…¬ä¸»&#39;, &#39;å¥³ç‹&#39;, &#39;ç‹å¦ƒ&#39;, &#39;é™›ä¸‹&#39;, &#39;ç‹å®«&#39;, &#39;ç‹å®¤&#39;, &#39;ç‹å®¤æˆå‘˜&#39;, &#39;çš‡å®¤æˆå‘˜&#39;, &#39;ç™»åŸº&#39;, &#39;å…­ä¸–&#39;, &#39;ç»§æ‰¿ç‹ä½&#39;, &#39;äº”ä¸–&#39;, &#39;æ‘„æ”¿ç‹&#39;, &#39;ä¸ƒä¸–&#39;, &#39;è‹±å›½å¥³ç‹&#39;, &#39;ä¸‰ä¸–&#39;, &#39;å››ä¸–&#39;, &#39;ç»§ä½&#39;, &#39;äººå·¥æ™ºèƒ½æŠ€æœ¯&#39;, &#39;AI&#39;, &#39;æ•°å­—æŠ€æœ¯&#39;, &#39;è™šæ‹Ÿç°å®&#39;, &#39;äº‘è®¡ç®—&#39;, &#39;ä¸‡ç‰©äº’è”&#39;, &#39;ä¿¡æ¯æŠ€æœ¯&#39;, &#39;è¯­éŸ³æŠ€æœ¯&#39;, &#39;ç‰©è”ç½‘&#39;, &#39;æ™ºèƒ½ç¡¬ä»¶&#39;, &#39;5GæŠ€æœ¯&#39;, &#39;IoT&#39;, &#39;æ™ºèƒ½åº”ç”¨&#39;, &#39;è½¯ä»¶æŠ€æœ¯&#39;, &#39;èåˆåº”ç”¨&#39;, &#39;6G&#39;, &#39;äººå·¥æ™ºèƒ½æœºå™¨äºº&#39;, &#39;æ•°æ®åº”ç”¨&#39;, &#39;äººå·¥æ™ºèƒ½åº”ç”¨&#39;, &#39;æ™ºèƒ½&#39;]
</code></pre></div><br>
<p>è¯è¯­å¯¹åº”çš„ç±»åˆ«</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="p">[</span><span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;äº²äºº&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">]</span>
</code></pre></div><p><br><br></p>
<h2 id="ä¸‰å®éªŒä»£ç ">ä¸‰ã€å®éªŒä»£ç </h2>
<h3 id="31-ç¯å¢ƒå‡†å¤‡">3.1 ç¯å¢ƒå‡†å¤‡</h3>
<p>åœ¨ <em><strong>cmd(terminal)</strong></em> å®‰è£…æœ¬æ–‡éœ€è¦çš„åº“</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install umap-learn
pip3 install datashader,bokeh,holoviews  #å¯è§†åŒ–å¯èƒ½ä¼šç”¨åˆ°çš„åº“
</code></pre></div><br>
<h3 id="32-é™ç»´">3.2 é™ç»´</h3>
<p>å°† 100 ä¸ªè¯çš„è¯å‘é‡æ•°æ®ä» 200 ç»´å‹ç¼©åˆ° 2 ç»´</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">umap</span>

<span class="n">word_emb_redution_data</span> <span class="o">=</span> <span class="n">umap</span><span class="o">.</span><span class="n">UMAP</span><span class="p">(</span>
    <span class="n">n_neighbors</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>  <span class="c1">#é»˜è®¤ï¼Œä¸éœ€è¦ç†è§£</span>
    <span class="n">min_dist</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="c1">#é»˜è®¤ï¼Œä¸éœ€è¦ç†è§£</span>
    <span class="n">n_components</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">#2ç»´</span>
    <span class="n">random_state</span> <span class="o">=</span> <span class="mi">666</span><span class="p">,</span> <span class="c1">#é»˜è®¤ï¼Œ ä¿è¯ä»»æ„æ—¶ç©ºä»£ç è¿è¡Œç»“æœçš„éšæœºçŠ¶æ€æ˜¯ä¸€è‡´çš„</span>
<span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">:])</span>

<span class="n">word_emb_redution_data</span>
</code></pre></div><p><img loading="lazy" src="img/02-umap.png" alt=""  />
</p>
<br>
<h3 id="33-é™æ€å¯è§†åŒ–">3.3 é™æ€å¯è§†åŒ–</h3>
<p>ç»˜åˆ¶é™æ€çš„å›¾(æ²¡æœ‰é¼ æ ‡äº¤äº’)ï¼Œ åº•å±‚åº”è¯¥æ˜¯è°ƒç”¨äº† <em><strong>matplotlib</strong></em> ã€‚ å› ä¸ºå®éªŒæ•°æ®æ˜¯ä¸­æ–‡è¯è¯­ï¼Œ å¯è§†åŒ–å¯èƒ½ç»˜ä¹±ç ã€‚ä¸ºé¿å…é—®é¢˜ï¼Œ æå‰è¿è¡Œä»£ç </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib_inline</span>
<span class="n">matplotlib_inline</span><span class="o">.</span><span class="n">backend_inline</span><span class="o">.</span><span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;svg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">scienceplots</span>
<span class="kn">import</span> <span class="nn">platform</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;no-latex&#39;</span><span class="p">,</span> <span class="s1">&#39;cjk-sc-font&#39;</span><span class="p">])</span>
<span class="n">system</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>  <span class="c1"># è·å–æ“ä½œç³»ç»Ÿç±»å‹</span>

<span class="k">if</span> <span class="n">system</span> <span class="o">==</span> <span class="s1">&#39;Windows&#39;</span><span class="p">:</span>
    <span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;SimHei&#39;</span><span class="p">}</span>
<span class="k">elif</span> <span class="n">system</span> <span class="o">==</span> <span class="s1">&#39;Darwin&#39;</span><span class="p">:</span>
    <span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;Arial Unicode MS&#39;</span><span class="p">}</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">}</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">font</span><span class="p">)</span>  <span class="c1"># è®¾ç½®å…¨å±€å­—ä½“</span>
</code></pre></div><br>
<p>ç»˜åˆ¶ <strong>äº”ç±»è¯çš„è¯å‘é‡æŠ•å°„åˆ°2ç»´ç©ºé—´ä¸­çš„å¯è§†åŒ–</strong> çš„é™æ€å›¾(æ²¡æœ‰é¼ æ ‡äº¤äº’)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">umap.plot</span>

<span class="n">umap</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">points</span><span class="p">(</span><span class="n">word_emb_redution_data</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;äº”ç±»è¯çš„è¯å‘é‡æŠ•å°„åˆ°2ç»´ç©ºé—´ä¸­çš„å¯è§†åŒ–&#39;</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/03-plot.png" alt=""  />
</p>
<br>
<h3 id="34-åŠ¨æ€äº¤äº’å¯è§†åŒ–">3.4 åŠ¨æ€äº¤äº’å¯è§†åŒ–</h3>
<p>umap.plot å†…ç½®äº†bokehçš„åŠ¨æ€äº¤äº’åŠŸèƒ½ï¼Œ éœ€è¦å…ˆæ„é€ é¼ æ ‡äº¤äº’æ‚¬æµ®çš„ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">mapper</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;äº²äºº&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ç¯ä¿&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;ç ”å‘&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;å›½ç‹&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;æ•°å­—åŒ–&#39;</span><span class="p">:</span><span class="mi">5</span> <span class="p">}</span>


<span class="n">hover_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                           <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span> 
                           <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">mapper</span><span class="p">)})</span>

<span class="n">hover_data</span>
</code></pre></div><p><img loading="lazy" src="img/04-df.png" alt=""  />
</p>
<br>
<p>æ¥ä¸‹æ¥çš„ä»£ç å°†ä¼šç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œ å› ä¸ºæ˜¯åŠ¨æ€æ•ˆæœï¼Œåœ¨åšå®¢(å…¬ä¼—å·)éƒ½æ— æ³•å®Œå…¨æ˜¾ç¤ºï¼Œ å¤§å®¶å¦‚æœæƒ³æŸ¥çœ‹ï¼Œå¯ä»¥ç‚¹å‡»é“¾æ¥ä¸‹è½½</p>
<p><a href="https://textdata.cn/blog/2024-01-23-umap/umap_interactive.html">https://textdata.cn/blog/2024-01-23-umap/umap_interactive.html</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">p</span> <span class="o">=</span> <span class="n">umap</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">clusterable_embedding</span><span class="p">,</span> 
                          <span class="n">labels</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> 
                          <span class="n">hover_data</span><span class="o">=</span><span class="n">hover_data</span><span class="p">,</span> 
                          <span class="n">point_size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> 
                          <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> 
                          <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">umap</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/05-interactive.png" alt=""  />
</p>
<br>
<br>
<h2 id="å››ä¸‹è½½èµ„æ–™">å››ã€ä¸‹è½½èµ„æ–™</h2>
<p>ç‚¹å‡»ä¸‹è½½å®éªŒæ•°æ®  <a href="data.csv.gz"><strong>data.csv.gz</strong></a></p>
<br>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>å¯è§†åŒ– | ä½¿ç”¨ DataMapPlot ç»˜åˆ¶æ•°æ®åœ°å›¾</title>
      <link>https://textdata.cn/blog/2024-01-21-datamapplot/</link>
      <pubDate>Sun, 21 Jan 2024 00:00:00 +0000</pubDate>
      
      <guid>/blog/2024-01-21-datamapplot/</guid>
      <description>&lt;p&gt;DataMapPlotåº“å¯ç»˜åˆ¶æ¼‚äº®çš„æ•°æ®åœ°å›¾ï¼Œä»¥ä¾¿åº”ç”¨äºæ¼”ç¤ºæ–‡ç¨¿ã€æµ·æŠ¥å’Œè®ºæ–‡ä¸­ã€‚é‡ç‚¹æ˜¯ç”¨å°½å¯èƒ½å°‘çš„å·¥ä½œé‡ç”Ÿæˆç¾è§‚çš„é™æ€å›¾ï¼Œ æ‚¨åªéœ€åœ¨æ•°æ®åœ°å›¾ä¸­æ ‡è®°ç‚¹ç°‡ã€‚è™½ç„¶è¿™æ¶‰åŠåˆ°å¤§å¤šæ•°ç¾å­¦é€‰æ‹©çš„è‡ªåŠ¨åŒ–ï¼Œä½†è¯¥åº“æä¾›äº†å¤šç§æ–¹æ³•æ¥æ ¹æ®æ‚¨çš„éœ€æ±‚å®šåˆ¶ç»“æœå›¾ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…&#34;&gt;ä¸€ã€å®‰è£…&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;pip3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datamapplot&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒå‡†å¤‡æ•°æ®&#34;&gt;äºŒã€å‡†å¤‡æ•°æ®&lt;/h2&gt;
&lt;h3 id=&#34;21-è¯»å–arxivcsvgz&#34;&gt;2.1 è¯»å–arxiv.csv.gz&lt;/h3&gt;
&lt;p&gt;ç‚¹å‡»ä¸‹è½½ &lt;a href=&#34;arxiv.csv.gz&#34;&gt;&lt;strong&gt;arxiv.csv.gz&lt;/strong&gt;&lt;/a&gt; , è¯¥æ•°æ®æœ‰ &lt;em&gt;&lt;strong&gt;x1&lt;/strong&gt;&lt;/em&gt;ã€ &lt;em&gt;&lt;strong&gt;x2&lt;/strong&gt;&lt;/em&gt;ã€ &lt;em&gt;&lt;strong&gt;label&lt;/strong&gt;&lt;/em&gt; ä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;x1ã€x2æ˜¯é™ç»´åçš„ç‰¹å¾ä¿¡æ¯ï¼Œå¸¸è§çš„é™ç»´ç®—æ³•æœ‰pcaã€UMAP, t-SNEç­‰&lt;/li&gt;
&lt;li&gt;labelæ˜¯æ ‡æ³¨(ç±»åˆ«)ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;arxiv.csv.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compression&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;gzip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/01-df.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;22-å½•å…¥logo&#34;&gt;2.2 å½•å…¥logo&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨PILè¯»å– &lt;a href=&#34;arxiv_logo.png&#34;&gt;&lt;em&gt;&lt;strong&gt;arxiv_logo.png(ç‚¹å‡»ä¸‹è½½è¯¥å›¾ç‰‡)&lt;/strong&gt;&lt;/em&gt;&lt;/a&gt;ï¼Œå¹¶è½¬åŒ–ä¸ºarrayæ•°ç»„å‹æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/arxiv_logo.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;PIL&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;numpy&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;np&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;arxiv_logo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;asarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PIL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;arxiv_logo.png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰ç»˜å›¾&#34;&gt;ä¸‰ã€ç»˜å›¾&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;numpy&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;np&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;plt&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib_inline&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;matplotlib_inline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;backend_inline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set_matplotlib_formats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;svg&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;PIL&lt;/span&gt;



&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;arxiv.csv.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compression&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;gzip&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;data_map_coords&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;labels&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;x1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;x2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]]),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;label&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;arxiv_logo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;asarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PIL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;arxiv.png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;highlight_labels&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Clustering&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                     &lt;span class=&#34;s2&#34;&gt;&amp;#34;Manifold learning and dimension reduction&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                     &lt;span class=&#34;s2&#34;&gt;&amp;#34;Active learning&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                     &lt;span class=&#34;s2&#34;&gt;&amp;#34;Topic modelling and text classification&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;


&lt;span class=&#34;n&#34;&gt;datamapplot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;data_map_coords&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
    &lt;span class=&#34;n&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ArXiv ML Landscape&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sub_title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;A data map of papers from the Machine Learning section of ArXiv&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;highlight_labels&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;highlight_labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;label_font_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;highlight_label_keywords&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;s2&#34;&gt;&amp;#34;fontsize&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;fontweight&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;bold&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;bbox&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;boxstyle&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;circle&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;pad&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.75&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;logo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arxiv_logo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;savefig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;arxiv_white.png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/arxiv_white.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰gallery&#34;&gt;ä¸‰ã€Gallery&lt;/h2&gt;
&lt;p&gt;æ›´å¤šå†…å®¹ï¼Œå¯é˜…è¯»æ–‡æ¡£  &lt;a href=&#34;https://github.com/TutteInstitute/datamapplot&#34;&gt;DataMapPlot: &lt;/a&gt;  &lt;a href=&#34;https://github.com/TutteInstitute/datamapplot&#34;&gt;https://github.com/TutteInstitute/datamapplot&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/plot_arxiv_ml.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/plot_wikipedia.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>DataMapPlotåº“å¯ç»˜åˆ¶æ¼‚äº®çš„æ•°æ®åœ°å›¾ï¼Œä»¥ä¾¿åº”ç”¨äºæ¼”ç¤ºæ–‡ç¨¿ã€æµ·æŠ¥å’Œè®ºæ–‡ä¸­ã€‚é‡ç‚¹æ˜¯ç”¨å°½å¯èƒ½å°‘çš„å·¥ä½œé‡ç”Ÿæˆç¾è§‚çš„é™æ€å›¾ï¼Œ æ‚¨åªéœ€åœ¨æ•°æ®åœ°å›¾ä¸­æ ‡è®°ç‚¹ç°‡ã€‚è™½ç„¶è¿™æ¶‰åŠåˆ°å¤§å¤šæ•°ç¾å­¦é€‰æ‹©çš„è‡ªåŠ¨åŒ–ï¼Œä½†è¯¥åº“æä¾›äº†å¤šç§æ–¹æ³•æ¥æ ¹æ®æ‚¨çš„éœ€æ±‚å®šåˆ¶ç»“æœå›¾ã€‚</p>
<br>
<h2 id="ä¸€å®‰è£…">ä¸€ã€å®‰è£…</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">pip3</span> <span class="n">install</span> <span class="n">datamapplot</span>
</code></pre></div><p><br><br></p>
<h2 id="äºŒå‡†å¤‡æ•°æ®">äºŒã€å‡†å¤‡æ•°æ®</h2>
<h3 id="21-è¯»å–arxivcsvgz">2.1 è¯»å–arxiv.csv.gz</h3>
<p>ç‚¹å‡»ä¸‹è½½ <a href="arxiv.csv.gz"><strong>arxiv.csv.gz</strong></a> , è¯¥æ•°æ®æœ‰ <em><strong>x1</strong></em>ã€ <em><strong>x2</strong></em>ã€ <em><strong>label</strong></em> ä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­</p>
<ul>
<li>x1ã€x2æ˜¯é™ç»´åçš„ç‰¹å¾ä¿¡æ¯ï¼Œå¸¸è§çš„é™ç»´ç®—æ³•æœ‰pcaã€UMAP, t-SNEç­‰</li>
<li>labelæ˜¯æ ‡æ³¨(ç±»åˆ«)ä¿¡æ¯</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;arxiv.csv.gz&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><p><img loading="lazy" src="img/01-df.png" alt=""  />
</p>
<br>
<h3 id="22-å½•å…¥logo">2.2 å½•å…¥logo</h3>
<p>ä½¿ç”¨PILè¯»å– <a href="arxiv_logo.png"><em><strong>arxiv_logo.png(ç‚¹å‡»ä¸‹è½½è¯¥å›¾ç‰‡)</strong></em></a>ï¼Œå¹¶è½¬åŒ–ä¸ºarrayæ•°ç»„å‹æ•°æ®ã€‚</p>
<p><img loading="lazy" src="img/arxiv_logo.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">PIL</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">arxiv_logo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;arxiv_logo.png&#39;</span><span class="p">))</span>
</code></pre></div><p><br><br></p>
<h3 id="ä¸‰ç»˜å›¾">ä¸‰ã€ç»˜å›¾</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib_inline</span>
<span class="n">matplotlib_inline</span><span class="o">.</span><span class="n">backend_inline</span><span class="o">.</span><span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;svg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">PIL</span>



<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;arxiv.csv.gz&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)</span>
<span class="n">data_map_coords</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">]]),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
<span class="n">arxiv_logo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;arxiv.png&#39;</span><span class="p">))</span>
<span class="n">highlight_labels</span> <span class="o">=</span>  <span class="p">[</span><span class="s2">&#34;Clustering&#34;</span><span class="p">,</span>
                     <span class="s2">&#34;Manifold learning and dimension reduction&#34;</span><span class="p">,</span>
                     <span class="s2">&#34;Active learning&#34;</span><span class="p">,</span>
                     <span class="s2">&#34;Topic modelling and text classification&#34;</span><span class="p">]</span>


<span class="n">datamapplot</span><span class="o">.</span><span class="n">create_plot</span><span class="p">(</span>
    <span class="n">data_map_coords</span><span class="p">,</span> 
    <span class="n">labels</span><span class="p">,</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;ArXiv ML Landscape&#34;</span><span class="p">,</span>
    <span class="n">sub_title</span> <span class="o">=</span> <span class="s2">&#34;A data map of papers from the Machine Learning section of ArXiv&#34;</span><span class="p">,</span>
    <span class="n">highlight_labels</span> <span class="o">=</span> <span class="n">highlight_labels</span><span class="p">,</span>
    <span class="n">label_font_size</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
    <span class="n">highlight_label_keywords</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&#34;fontsize&#34;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s2">&#34;fontweight&#34;</span><span class="p">:</span> <span class="s2">&#34;bold&#34;</span><span class="p">,</span> <span class="s2">&#34;bbox&#34;</span><span class="p">:{</span><span class="s2">&#34;boxstyle&#34;</span><span class="p">:</span><span class="s2">&#34;circle&#34;</span><span class="p">,</span> <span class="s2">&#34;pad&#34;</span><span class="p">:</span><span class="mf">0.75</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="n">logo</span><span class="o">=</span><span class="n">arxiv_logo</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;arxiv_white.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</code></pre></div><p><img loading="lazy" src="img/arxiv_white.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="ä¸‰gallery">ä¸‰ã€Gallery</h2>
<p>æ›´å¤šå†…å®¹ï¼Œå¯é˜…è¯»æ–‡æ¡£  <a href="https://github.com/TutteInstitute/datamapplot">DataMapPlot: </a>  <a href="https://github.com/TutteInstitute/datamapplot">https://github.com/TutteInstitute/datamapplot</a></p>
<p><img loading="lazy" src="img/plot_arxiv_ml.png" alt=""  />
</p>
<br>
<p><img loading="lazy" src="img/plot_wikipedia.png" alt=""  />
</p>
<p><br><br></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>mercury | åœ¨jupyter notebookä¸­åˆ›å»ºWebåº”ç”¨ç¨‹åº</title>
      <link>https://textdata.cn/blog/2023-06-12-mercury-fast-webapp/</link>
      <pubDate>Mon, 12 Jun 2023 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-06-12-mercury-fast-webapp/</guid>
      <description>&lt;h2 id=&#34;ä¸€ä»‹ç»&#34;&gt;ä¸€ã€ä»‹ç»&lt;/h2&gt;
&lt;p&gt;Mercuryå…è®¸æ‚¨åœ¨Pythonç¬”è®°æœ¬ä¸­æ·»åŠ äº¤äº’å¼å°éƒ¨ä»¶ï¼Œå› æ­¤æ‚¨å¯ä»¥å°†ç¬”è®°æœ¬å…±äº«ä¸ºWebåº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;h3 id=&#34;11-åŠŸèƒ½&#34;&gt;1.1 åŠŸèƒ½&lt;/h3&gt;
&lt;p&gt;Mercuryæä¾›äº†ä¸€å¥—å¸¦æœ‰ç®€å•å•å…ƒæ ¼é‡æ–°æ‰§è¡Œçš„å°éƒ¨ä»¶,æ‚¨å¯ä»¥ä½¿ç”¨Mercuryæ„å»ºä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å°†æ‚¨çš„ç¬”è®°æœ¬è½¬åŒ–ä¸ºæ¼‚äº®çš„Webåº”ç”¨ç¨‹åºï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºå¸¦æœ‰å°éƒ¨ä»¶çš„äº¤äº’å¼æ¼”ç¤ºæ–‡ç¨¿ï¼Œæ‚¨å¯ä»¥åœ¨å±•ç¤ºè¿‡ç¨‹ä¸­é‡æ–°è®¡ç®—å¹»ç¯ç‰‡ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†ç¬”è®°æœ¬ä½œä¸ºé™æ€ç½‘ç«™è¿›è¡Œå…±äº«ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å°éƒ¨ä»¶æ„å»ºæ•°æ®ä¸°å¯Œçš„ä»ªè¡¨æ¿ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºå…·æœ‰PDFå¯¼å‡ºã€è‡ªåŠ¨è°ƒåº¦å’Œç”µå­é‚®ä»¶é€šçŸ¥åŠŸèƒ½çš„æŠ¥å‘Šï¼ˆå³å°†æ¨å‡ºï¼‰ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†Pythonç¬”è®°æœ¬ä½œä¸ºREST APIç«¯ç‚¹æä¾›æœåŠ¡ï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;h3 id=&#34;12-ç‰¹ç‚¹&#34;&gt;1.2 ç‰¹ç‚¹&lt;/h3&gt;
&lt;p&gt;Mercuryçš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨Pythonä»£ç æ·»åŠ å°éƒ¨ä»¶-æ— éœ€å‰ç«¯ç»éªŒï¼&lt;/li&gt;
&lt;li&gt;éšè—æˆ–æ˜¾ç¤ºç¬”è®°æœ¬çš„ä»£ç ï¼Œ&lt;/li&gt;
&lt;li&gt;å°†å·²æ‰§è¡Œçš„ç¬”è®°æœ¬å¯¼å‡ºä¸ºPDFæˆ–HTMLï¼Œ&lt;/li&gt;
&lt;li&gt;å…±äº«å¤šä¸ªç¬”è®°æœ¬-æ²¡æœ‰é™åˆ¶ï¼&lt;/li&gt;
&lt;li&gt;å°†ç¬”è®°æœ¬åµŒå…¥åˆ°ä»»ä½•ç½‘ç«™ä¸­ï¼Œ&lt;/li&gt;
&lt;li&gt;è½»æ¾åœ¨ç¬”è®°æœ¬ä¸­ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ï¼Œ&lt;/li&gt;
&lt;li&gt;ä¸ºç¬”è®°æœ¬æ·»åŠ èº«ä»½éªŒè¯ï¼ˆå³å°†æ¨å‡ºï¼‰ï¼Œ&lt;/li&gt;
&lt;li&gt;è®¡åˆ’è‡ªåŠ¨ç¬”è®°æœ¬æ‰§è¡Œï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&#34;13-å®‰è£…&#34;&gt;1.3 å®‰è£…&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;pip&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mercury&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;14-è¿è¡Œ&#34;&gt;1.4 è¿è¡Œ&lt;/h3&gt;
&lt;p&gt;å‘½ä»¤è¡Œæ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;mercury&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯·è®¿é—® &lt;strong&gt;127.0.0.1:8000&lt;/strong&gt; æŸ¥çœ‹æ¼”ç¤ºç¬”è®°æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒç¤ºä¾‹&#34;&gt;äºŒã€ç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶å¹¶æ˜¾ç¤ºå…¶å€¼ã€‚æ‚¨å¯ä»¥åœ¨Jupyter Notebookä¸­ä¸å°éƒ¨ä»¶è¿›è¡Œäº¤äº’ã€‚å°éƒ¨ä»¶çš„å€¼å°†ä¼šè¢«æ›´æ–°ã€‚ä½†æ˜¯ï¼Œè¦åœ¨å…¶ä»–å•å…ƒæ ¼ä¸­çœ‹åˆ°æ›´æ–°ï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå®ƒä»¬ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;mercury&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;mr&lt;/span&gt; 

&lt;span class=&#34;c1&#34;&gt;#åˆ›å»ºä¸€ä¸ªæ–‡æœ¬å°éƒ¨ä»¶ï¼š&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Piotr&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;What is your name?&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 



&lt;span class=&#34;c1&#34;&gt;# æ‰“å°å°éƒ¨ä»¶çš„å€¼ï¼š&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Hello &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Jupyter Notebookä¸­çš„ä»£ç æˆªå›¾&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/hello-world-notebook-ola.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰mercury-åº”ç”¨ç¨‹åº&#34;&gt;ä¸‰ã€Mercury åº”ç”¨ç¨‹åº&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ Mercury å°†ç¬”è®°æœ¬ä½œä¸º Web åº”ç”¨ç¨‹åºè¿è¡Œã€‚å°éƒ¨ä»¶æ›´æ”¹åï¼Œå•å…ƒæ ¼ä¼šè‡ªåŠ¨é‡æ–°æ‰§è¡Œã€‚Mercury ä»…é‡æ–°æ‰§è¡Œå…·æœ‰å°éƒ¨ä»¶å®šä¹‰åŠå…¶ä¸‹æ–¹çš„å•å…ƒæ ¼ã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œå°éƒ¨ä»¶æ›´æ–°åï¼Œå•å…ƒæ ¼ 2 å’Œ 3 ä¼šè¢«é‡æ–°æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/hello-world-app-ola.gif&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h2 id="ä¸€ä»‹ç»">ä¸€ã€ä»‹ç»</h2>
<p>Mercuryå…è®¸æ‚¨åœ¨Pythonç¬”è®°æœ¬ä¸­æ·»åŠ äº¤äº’å¼å°éƒ¨ä»¶ï¼Œå› æ­¤æ‚¨å¯ä»¥å°†ç¬”è®°æœ¬å…±äº«ä¸ºWebåº”ç”¨ç¨‹åºã€‚</p>
<h3 id="11-åŠŸèƒ½">1.1 åŠŸèƒ½</h3>
<p>Mercuryæä¾›äº†ä¸€å¥—å¸¦æœ‰ç®€å•å•å…ƒæ ¼é‡æ–°æ‰§è¡Œçš„å°éƒ¨ä»¶,æ‚¨å¯ä»¥ä½¿ç”¨Mercuryæ„å»ºä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>
<p>å°†æ‚¨çš„ç¬”è®°æœ¬è½¬åŒ–ä¸ºæ¼‚äº®çš„Webåº”ç”¨ç¨‹åºï¼Œ</p>
</li>
<li>
<p>åˆ›å»ºå¸¦æœ‰å°éƒ¨ä»¶çš„äº¤äº’å¼æ¼”ç¤ºæ–‡ç¨¿ï¼Œæ‚¨å¯ä»¥åœ¨å±•ç¤ºè¿‡ç¨‹ä¸­é‡æ–°è®¡ç®—å¹»ç¯ç‰‡ï¼Œ</p>
</li>
<li>
<p>å°†ç¬”è®°æœ¬ä½œä¸ºé™æ€ç½‘ç«™è¿›è¡Œå…±äº«ï¼Œ</p>
</li>
<li>
<p>ä½¿ç”¨å°éƒ¨ä»¶æ„å»ºæ•°æ®ä¸°å¯Œçš„ä»ªè¡¨æ¿ï¼Œ</p>
</li>
<li>
<p>åˆ›å»ºå…·æœ‰PDFå¯¼å‡ºã€è‡ªåŠ¨è°ƒåº¦å’Œç”µå­é‚®ä»¶é€šçŸ¥åŠŸèƒ½çš„æŠ¥å‘Šï¼ˆå³å°†æ¨å‡ºï¼‰ï¼Œ</p>
</li>
<li>
<p>å°†Pythonç¬”è®°æœ¬ä½œä¸ºREST APIç«¯ç‚¹æä¾›æœåŠ¡ï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚</p>
</li>
</ul>
<br>
<h3 id="12-ç‰¹ç‚¹">1.2 ç‰¹ç‚¹</h3>
<p>Mercuryçš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä½¿ç”¨Pythonä»£ç æ·»åŠ å°éƒ¨ä»¶-æ— éœ€å‰ç«¯ç»éªŒï¼</li>
<li>éšè—æˆ–æ˜¾ç¤ºç¬”è®°æœ¬çš„ä»£ç ï¼Œ</li>
<li>å°†å·²æ‰§è¡Œçš„ç¬”è®°æœ¬å¯¼å‡ºä¸ºPDFæˆ–HTMLï¼Œ</li>
<li>å…±äº«å¤šä¸ªç¬”è®°æœ¬-æ²¡æœ‰é™åˆ¶ï¼</li>
<li>å°†ç¬”è®°æœ¬åµŒå…¥åˆ°ä»»ä½•ç½‘ç«™ä¸­ï¼Œ</li>
<li>è½»æ¾åœ¨ç¬”è®°æœ¬ä¸­ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ï¼Œ</li>
<li>ä¸ºç¬”è®°æœ¬æ·»åŠ èº«ä»½éªŒè¯ï¼ˆå³å°†æ¨å‡ºï¼‰ï¼Œ</li>
<li>è®¡åˆ’è‡ªåŠ¨ç¬”è®°æœ¬æ‰§è¡Œï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚</li>
</ul>
<p><br><br></p>
<h3 id="13-å®‰è£…">1.3 å®‰è£…</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">pip</span> <span class="n">install</span> <span class="n">mercury</span>
</code></pre></div><br>
<h3 id="14-è¿è¡Œ">1.4 è¿è¡Œ</h3>
<p>å‘½ä»¤è¡Œæ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">mercury</span> <span class="n">run</span>
</code></pre></div><p>è¯·è®¿é—® <strong>127.0.0.1:8000</strong> æŸ¥çœ‹æ¼”ç¤ºç¬”è®°æœ¬ã€‚</p>
<p><br><br></p>
<h2 id="äºŒç¤ºä¾‹">äºŒã€ç¤ºä¾‹</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶å¹¶æ˜¾ç¤ºå…¶å€¼ã€‚æ‚¨å¯ä»¥åœ¨Jupyter Notebookä¸­ä¸å°éƒ¨ä»¶è¿›è¡Œäº¤äº’ã€‚å°éƒ¨ä»¶çš„å€¼å°†ä¼šè¢«æ›´æ–°ã€‚ä½†æ˜¯ï¼Œè¦åœ¨å…¶ä»–å•å…ƒæ ¼ä¸­çœ‹åˆ°æ›´æ–°ï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå®ƒä»¬ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">mercury</span> <span class="k">as</span> <span class="nn">mr</span> 

<span class="c1">#åˆ›å»ºä¸€ä¸ªæ–‡æœ¬å°éƒ¨ä»¶ï¼š</span>

<span class="n">name</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&#34;Piotr&#34;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&#34;What is your name?&#34;</span><span class="p">)</span> 



<span class="c1"># æ‰“å°å°éƒ¨ä»¶çš„å€¼ï¼š</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Hello </span><span class="si">{</span><span class="n">name</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span> 
</code></pre></div><p>Jupyter Notebookä¸­çš„ä»£ç æˆªå›¾</p>
<p><img loading="lazy" src="img/hello-world-notebook-ola.png" alt=""  />
</p>
<p><br><br></p>
<h2 id="ä¸‰mercury-åº”ç”¨ç¨‹åº">ä¸‰ã€Mercury åº”ç”¨ç¨‹åº</h2>
<p>ä½¿ç”¨ Mercury å°†ç¬”è®°æœ¬ä½œä¸º Web åº”ç”¨ç¨‹åºè¿è¡Œã€‚å°éƒ¨ä»¶æ›´æ”¹åï¼Œå•å…ƒæ ¼ä¼šè‡ªåŠ¨é‡æ–°æ‰§è¡Œã€‚Mercury ä»…é‡æ–°æ‰§è¡Œå…·æœ‰å°éƒ¨ä»¶å®šä¹‰åŠå…¶ä¸‹æ–¹çš„å•å…ƒæ ¼ã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œå°éƒ¨ä»¶æ›´æ–°åï¼Œå•å…ƒæ ¼ 2 å’Œ 3 ä¼šè¢«é‡æ–°æ‰§è¡Œã€‚</p>
<p><img loading="lazy" src="img/hello-world-app-ola.gif" alt=""  />
</p>
<p><br><br></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>prettymapsåº“ | ç»˜åˆ¶ç»ç¾åœ°å›¾</title>
      <link>https://textdata.cn/blog/2023-04-13-prettymaps/</link>
      <pubDate>Thu, 13 Apr 2023 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-04-13-prettymaps/</guid>
      <description>&lt;p&gt;prettymapsåº“æ˜¯ç”¨äºä» OpenStreetMap æ•°æ®ç»˜åˆ¶æ¼‚äº®çš„åœ°å›¾ï¼Œ åŸºäº osmnxã€matplotlib å’Œ shapely åº“å¼€å‘è€Œæ¥ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;gallery&#34;&gt;Gallery&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æ˜¯prettymapsç»˜åˆ¶çš„æ ·ä¾‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/palmanova.png&#34; alt=&#34;&#34;  /&gt;

&lt;img loading=&#34;lazy&#34; src=&#34;img/macao.png&#34; alt=&#34;&#34;  /&gt;

&lt;img loading=&#34;lazy&#34; src=&#34;img/heerhugowaard.png&#34; alt=&#34;&#34;  /&gt;

&lt;img loading=&#34;lazy&#34; src=&#34;img/barcelona.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;err&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pip3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prettymaps&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h2 id=&#34;å¿«é€Ÿä¸Šæ‰‹&#34;&gt;å¿«é€Ÿä¸Šæ‰‹&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ prettymaps åº“ç»˜åˆ¶å¯è§†åŒ–åœ°å›¾å¾ˆç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;prettymaps.plot(your_query)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;your_queryæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ°å€ (Example: &amp;ldquo;Porto Alegre&amp;rdquo;),&lt;/li&gt;
&lt;li&gt;çº¬åº¦/ç»åº¦ (Example: (-30.0324999, -51.2303767))&lt;/li&gt;
&lt;li&gt;GeoDataFrameæ ¼å¼æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œä»¥å“ˆå·¥å¤§ç§‘å­¦å›­åœ°å›¾ä¸ºä¾‹ï¼Œ ä½¿ç”¨ &lt;strong&gt;ç»´åº¦/ç»åº¦&lt;/strong&gt; åæ ‡ç»˜åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/hit-science-park.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;prettymaps&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;plt&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#å“ˆå·¥å¤§ç§‘å­¦å›­2Hæ ‹&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prettymaps&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
   &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;45.73022857604175&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;126.63157734342359&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;preset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;heerhugowaard&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/output_3_0.png&#34; alt=&#34;png&#34;  /&gt;
&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;prettymaps&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pyplot&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prettymaps&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;41.39491&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;2.17557&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;preset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;barcelona&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Change background color&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;patch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set_facecolor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;#F2F4CB&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Add title&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ax&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set_title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Barcelona&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;savefig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fname&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;barcelona.png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;img/barcelona.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;br&gt;
</description>
      <content:encoded><![CDATA[<p>prettymapsåº“æ˜¯ç”¨äºä» OpenStreetMap æ•°æ®ç»˜åˆ¶æ¼‚äº®çš„åœ°å›¾ï¼Œ åŸºäº osmnxã€matplotlib å’Œ shapely åº“å¼€å‘è€Œæ¥ã€‚</p>
<br>
<h2 id="gallery">Gallery</h2>
<p>ä¸‹é¢æ˜¯prettymapsç»˜åˆ¶çš„æ ·ä¾‹ï¼Œ</p>
<p><img loading="lazy" src="img/palmanova.png" alt=""  />

<img loading="lazy" src="img/macao.png" alt=""  />

<img loading="lazy" src="img/heerhugowaard.png" alt=""  />

<img loading="lazy" src="img/barcelona.png" alt=""  />
</p>
<br>
<h2 id="å®‰è£…">å®‰è£…</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="err">!</span><span class="n">pip3</span> <span class="n">install</span> <span class="n">prettymaps</span>
</code></pre></div><br>
<h2 id="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</h2>
<p>ä½¿ç”¨ prettymaps åº“ç»˜åˆ¶å¯è§†åŒ–åœ°å›¾å¾ˆç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">prettymaps.plot(your_query)
</code></pre></div><p>your_queryæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼</p>
<ul>
<li>åœ°å€ (Example: &ldquo;Porto Alegre&rdquo;),</li>
<li>çº¬åº¦/ç»åº¦ (Example: (-30.0324999, -51.2303767))</li>
<li>GeoDataFrameæ ¼å¼æ•°æ®</li>
</ul>
<p>è¿™é‡Œä»¥å“ˆå·¥å¤§ç§‘å­¦å›­åœ°å›¾ä¸ºä¾‹ï¼Œ ä½¿ç”¨ <strong>ç»´åº¦/ç»åº¦</strong> åæ ‡ç»˜åˆ¶ã€‚</p>
<p><img loading="lazy" src="img/hit-science-park.png" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">prettymaps</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#å“ˆå·¥å¤§ç§‘å­¦å›­2Hæ ‹</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">prettymaps</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
   <span class="p">(</span><span class="mf">45.73022857604175</span><span class="p">,</span> <span class="mf">126.63157734342359</span><span class="p">),</span>
    <span class="n">preset</span> <span class="o">=</span> <span class="s1">&#39;heerhugowaard&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/output_3_0.png" alt="png"  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">prettymaps</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">prettymaps</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="p">(</span><span class="mf">41.39491</span><span class="p">,</span><span class="mf">2.17557</span><span class="p">),</span>
    <span class="n">preset</span> <span class="o">=</span> <span class="s1">&#39;barcelona&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Change background color</span>
<span class="n">plot</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;#F2F4CB&#39;</span><span class="p">)</span>
<span class="c1"># Add title</span>
<span class="n">plot</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Barcelona&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s1">&#39;barcelona.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div><p><img loading="lazy" src="img/barcelona.png" alt=""  />
</p>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>ç¡¬æ ¸ | ä½¿ç”¨Poetryå‘å¸ƒPythonåº“åˆ°PyPiçš„æ–¹æ³•</title>
      <link>https://textdata.cn/blog/2023-03-31-using-poetry-to-manage-your-project-env/</link>
      <pubDate>Fri, 31 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>/blog/2023-03-31-using-poetry-to-manage-your-project-env/</guid>
      <description>å¦‚ä½•ä½¿ç”¨poetryæ‰“åŒ…pythonåº“</description>
      <content:encoded><![CDATA[<h2 id="ä¸€ä»‹ç»">ä¸€ã€ä»‹ç»</h2>
<p>Poetry æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† Python é¡¹ç›®çš„å·¥å…·ï¼Œå®ƒçš„ä¸»è¦ç”¨é€”åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ä¾èµ–ç®¡ç†ï¼šPoetry å¯ä»¥å¸®åŠ©æ‚¨ç®¡ç†é¡¹ç›®çš„ä¾èµ–é¡¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ Poetry æ¥å®šä¹‰é¡¹ç›®çš„ä¾èµ–é¡¹ï¼ŒåŒ…æ‹¬ Python ç‰ˆæœ¬å’Œå…¶ä»– Python åŒ…ï¼Œç„¶å Poetry ä¼šè‡ªåŠ¨å®‰è£…å’Œç®¡ç†è¿™äº›ä¾èµ–é¡¹ã€‚è¿™æœ‰åŠ©äºç¡®ä¿é¡¹ç›®åœ¨ä¸åŒç¯å¢ƒä¸­å…·æœ‰ä¸€è‡´çš„ä¾èµ–é¡¹ã€‚</li>
<li>åŒ…ç®¡ç†ï¼šPoetry å¯ä»¥å¸®åŠ©æ‚¨æ„å»ºå’Œå‘å¸ƒ Python åŒ…ã€‚å®ƒèƒ½å¤Ÿç”Ÿæˆæ ‡å‡†çš„åˆ†å‘æ–‡ä»¶ï¼Œå¦‚ wheel å’Œ sdistï¼ˆæºåˆ†å‘æ–‡ä»¶ï¼‰ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è½»æ¾åœ°åˆ†äº«å’Œåˆ†å‘æ‚¨çš„åŒ…ã€‚æ­¤å¤–ï¼ŒPoetry è¿˜æ”¯æŒå‘å¸ƒåŒ…åˆ° PyPIï¼ˆPython åŒ…ç´¢å¼•ï¼‰ç­‰åŒ…ä»“åº“ã€‚</li>
<li>è™šæ‹Ÿç¯å¢ƒç®¡ç†ï¼šPoetry å¯ä»¥è‡ªåŠ¨åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿç¯å¢ƒï¼Œä»¥ç¡®ä¿é¡¹ç›®çš„ä¾èµ–é¡¹ä¸ä¼šå¹²æ‰°å…¨å±€ Python ç¯å¢ƒæˆ–å…¶ä»–é¡¹ç›®çš„ç¯å¢ƒã€‚è¿™æœ‰åŠ©äºéš”ç¦»é¡¹ç›®ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä½¿é¡¹ç›®æ›´åŠ ç¨³å®šå’Œå¯ç»´æŠ¤ã€‚</li>
<li>é¡¹ç›®é…ç½®ï¼šPoetry ä½¿ç”¨ä¸€ä¸ªæ˜“äºç¼–è¾‘çš„é…ç½®æ–‡ä»¶ï¼ˆpyproject.tomlï¼‰æ¥å®šä¹‰é¡¹ç›®çš„å…ƒä¿¡æ¯ã€ä¾èµ–å…³ç³»å’Œå…¶ä»–é…ç½®ã€‚è¿™ä½¿å¾—é¡¹ç›®é…ç½®å˜å¾—æ›´åŠ ç›´è§‚å’Œå¯è¯»ã€‚</li>
<li>ç‰ˆæœ¬ç®¡ç†ï¼šPoetry æ”¯æŒç‰ˆæœ¬æ§åˆ¶ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ç®¡ç†é¡¹ç›®çš„ç‰ˆæœ¬å·ã€‚æ‚¨å¯ä»¥åœ¨é¡¹ç›®é…ç½®ä¸­æŒ‡å®šç‰ˆæœ¬å·ï¼Œå¹¶æ ¹æ®é¡¹ç›®çš„è¿›å±•é€æ¸å‡çº§ç‰ˆæœ¬ã€‚</li>
<li>è„šæœ¬ç®¡ç†ï¼šPoetry å…è®¸æ‚¨å®šä¹‰å’Œè¿è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼Œä»¥ç®€åŒ–é¡¹ç›®çš„å¸¸è§ä»»åŠ¡ï¼Œå¦‚æµ‹è¯•ã€æ„å»ºã€æ–‡æ¡£ç”Ÿæˆç­‰ã€‚</li>
<li>ä¾èµ–è§£æï¼šPoetry ä½¿ç”¨ä¸€ç§æ™ºèƒ½çš„ä¾èµ–è§£æç®—æ³•æ¥ç¡®ä¿é¡¹ç›®çš„ä¾èµ–é¡¹è§£æä¸ä¼šå¯¼è‡´å†²çªæˆ–ä¸ä¸€è‡´æ€§ï¼ŒåŒæ—¶å°½é‡æ»¡è¶³ä¾èµ–é¡¹çš„çº¦æŸæ¡ä»¶ã€‚</li>
</ul>
<p>æ€»ä¹‹ï¼ŒPoetry æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Python é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°ç®¡ç†é¡¹ç›®çš„ä¾èµ–é¡¹ã€æ„å»ºå’Œå‘å¸ƒ Python åŒ…ï¼Œä»¥åŠç®¡ç†é¡¹ç›®çš„é…ç½®å’Œç‰ˆæœ¬ã€‚å®ƒæä¾›äº†ä¸€ç§ç°ä»£åŒ–çš„æ–¹å¼æ¥å¤„ç† Python é¡¹ç›®çš„å·¥ç¨‹åŒ–å’Œä¾èµ–ç®¡ç†ã€‚</p>
<p>ä»Šå¤©ä¸»è¦åˆ†äº«</p>
<ul>
<li>å¦‚ä½•ä½¿ç”¨poetryåˆ›å»ºé¡¹ç›®ç¯å¢ƒ</li>
<li>å¦‚ä½•ä½¿ç”¨poetryæ‰“åŒ…è‡ªå·±çš„pythonåº“</li>
</ul>
<p><br><br></p>
<h2 id="äºŒåˆ›å»ºé¡¹ç›®ç¯å¢ƒ">äºŒã€åˆ›å»ºé¡¹ç›®ç¯å¢ƒ</h2>
<p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®(æˆ–åº“)çš„è™šæ‹Ÿç¯å¢ƒï¼Œç°åœ¨ç”¨poetryä»0å¼€å§‹é…ç½®ã€‚é¦–å…ˆå®‰è£…poetryï¼Œåœ¨cmdæ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install poetry
</code></pre></div><br>
<h3 id="21-åˆ›å»ºæ–°é¡¹ç›®">2.1 åˆ›å»ºæ–°é¡¹ç›®</h3>
<p>æ‰“å¼€cmdï¼Œ åˆ‡æ¢è‡³æ¡Œé¢(å¤§é‚“å–œæ¬¢åœ¨æ¡Œé¢åšäº‹ï¼Œä¹Ÿç®€å•å¥½è®°)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd desktop
poetry new myproject
</code></pre></div><p>è¿™æ ·åœ¨æ¡Œé¢æ–°ç”Ÿæˆäº†ä¸€ä¸ªcntexté¡¹ç›®æ–‡ä»¶å¤¹ï¼Œ è¯¥é¡¹ç›®çš„æ–‡ä»¶ç›®å½•æ ‘ç»“æ„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">myproject
   |--- __init__.py
poetry.lock
pyproject.toml
README.md
tests
   |--- __init__.py
</code></pre></div><p><img loading="lazy" src="img/myproject.png" alt=""  />
</p>
<br>
<h3 id="22-åˆ‡æ¢è‡³é¡¹ç›®ç›®å½•">2.2 åˆ‡æ¢è‡³é¡¹ç›®ç›®å½•</h3>
<p>åœ¨cmdä¸­å°†å½“å‰å·¥ä½œç›®å½•åˆ‡æ¢è‡³myprojecté¡¹ç›®å†…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">cd myproject
</code></pre></div><br>
<h3 id="23-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ">2.3 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3>
<p>åœ¨myprojecté¡¹ç›®å†…åˆ›å»ºpython3è™šæ‹Ÿç¯å¢ƒï¼Œcmdä¸­çš„æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry env use python3
</code></pre></div><p>è¿™ä¼šåˆ›å»ºä¸€ä¸ªåä¸º <code>python3</code> çš„è™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒã€‚ ä¾‹å¦‚å¤§é‚“çš„Pythonæ˜¯3.11.5ï¼Œåˆ™pyproject.tomlå†…ä¼šæœ‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[tool.poetry.dependencies]
python = &#34;^3.11&#34;
</code></pre></div><p>è¡¨ç¤ºpoetryä¾èµ–äºå¤§é‚“ç”µè„‘ä¸­çš„python3.11ç¯å¢ƒã€‚</p>
<br>
<h3 id="24-å®šä¹‰ä¾èµ–é¡¹">2.4 å®šä¹‰ä¾èµ–é¡¹</h3>
<p>é¡¹ç›®myprojectæ˜¯è¦åšä¸€äº›äº‹çš„ï¼Œå‡è®¾myprojectæ˜¯è¦åšä¸cntextåº“ç±»ä¼¼çš„äº‹æƒ…ï¼Œéœ€è¦ä¾èµ–çš„åŒ…æœ‰</p>
<p>jiebaã€numpy ã€mittensã€scikit-learnã€matplotlibã€pyechartsã€gensimã€nltkã€pandasã€ chardetã€ h5py ã€‚</p>
<p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨ <strong>myproject.toml</strong> ä¸­åŠ å…¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[dependencies]
python = &#34;^3.5&#34;
jieba = &#34;^0.4.1&#34;
numpy = &#34;^1.21.0&#34;
mittens = &#34;^0.2&#34;
scikit-learn = &#34;^1.3.0&#34;
matplotlib = &#34;^3.6.0&#34;
pyecharts = &#34;2.0.0&#34;
gensim = &#34;^4.2.0&#34;
nltk = &#34;^3.8&#34;
pandas = &#34;^1.5.0&#34;
chardet = &#34;^5.0.0&#34;
h5py = &#34;^3.9.0&#34;
</code></pre></div><p>è¡¨ç¤ºå¦‚æœå…¶ä»–ç”¨æˆ·ä½¿ç”¨myprojectè¿™ä¸ªé¡¹ç›®ï¼Œè‡³å°‘è¦ä¿è¯pythonæ˜¯3.5åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œ ä¾èµ–çš„åº“æœ‰jiebaã€numpy ã€mittensã€scikit-learnã€matplotlibã€pyechartsã€gensimã€nltkã€pandasã€ chardetã€ h5py ï¼Œ ä»¥jiebaä¸ºä¾‹ï¼Œ jiebaè¦æ»¡è¶³0.4.1åŠä»¥ä¸Šç‰ˆæœ¬ã€‚</p>
<br>
<h3 id="25-å®‰è£…ä¾èµ–é¡¹">2.5 å®‰è£…ä¾èµ–é¡¹</h3>
<p>åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…é¡¹ç›®çš„ä¾èµ–æ€§ã€‚åœ¨cmdä¸­æ‰§è¡Œå‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry install
</code></pre></div><p>Poetry ä¼šæ ¹æ® <code>pyproject.toml</code> æ–‡ä»¶ä¸­çš„å®šä¹‰è‡ªåŠ¨ä¸‹è½½å’Œå®‰è£…ä¾èµ–é¡¹ã€‚</p>
<p>éœ€è¦æ³¨æ„ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry add &#39;ä¾èµ–åŒ…å&#39;
poetry remove &#39;ä¾èµ–åŒ…å&#39;
</code></pre></div><p>æ¥å¢åŠ æˆ–ç§»é™¤ä¾èµ–åŒ…</p>
<br>
<h3 id="26-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ">2.6 ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h3>
<p>ç°åœ¨ï¼Œæ‚¨çš„é¡¹ç›®å·²ç»åˆ›å»ºå¹¶é…ç½®å¥½äº†è™šæ‹Ÿç¯å¢ƒã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry shell
</code></pre></div><p>ä¸€æ—¦è™šæ‹Ÿç¯å¢ƒè¢«æ¿€æ´»ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­è¿è¡Œ Python è§£é‡Šå™¨å’Œé¡¹ç›®ä¾èµ–çš„å‘½ä»¤ã€‚</p>
<br>
<h3 id="27-é€€å‡ºè™šæ‹Ÿç¯å¢ƒ">2.7 é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h3>
<p>è¦é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼Œåªéœ€åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">exit
</code></pre></div><p>è¿™ä¼šå°†æ‚¨å¸¦å›åˆ°å…¨å±€ Python ç¯å¢ƒã€‚</p>
<p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªåŸºæœ¬çš„ Poetry è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºå’Œä½¿ç”¨æ•™ç¨‹ã€‚</p>
<p><br><br></p>
<h2 id="ä¸‰æ‰“åŒ…pythonåº“">ä¸‰ã€æ‰“åŒ…Pythonåº“</h2>
<p>ã€Œæ‰“åŒ…Pythonåº“ã€çš„æ­¥éª¤ä¸ ã€Œåˆ›å»ºé¡¹ç›®ç¯å¢ƒã€ æœ‰å¾ˆå¤šç±»ä¼¼çš„åœ°æ–¹</p>
<h3 id="31-åˆ›å»ºæ–°é¡¹ç›®">3.1 åˆ›å»ºæ–°é¡¹ç›®</h3>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ Python åº“é¡¹ç›®æˆ–ä½¿ç”¨ç°æœ‰çš„é¡¹ç›®ã€‚ç¡®ä¿é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åŒ…å«ä¸€ä¸ª <code>pyproject.toml</code> æ–‡ä»¶æ¥é…ç½®é¡¹ç›®å’Œä¾èµ–é¡¹ã€‚</p>
<br>
<h3 id="32-æ·»åŠ é¡¹ç›®å…ƒä¿¡æ¯">3.2 æ·»åŠ é¡¹ç›®å…ƒä¿¡æ¯</h3>
<p>åœ¨ <code>pyproject.toml</code> æ–‡ä»¶ä¸­ï¼Œç¡®ä¿åŒ…å«äº†é¡¹ç›®çš„å…ƒä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€ç‰ˆæœ¬ã€ä½œè€…ã€è®¸å¯è¯ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[tool.poetry]
name = &#34;my-library&#34;
version = &#34;1.0.0&#34;
description = &#34;My Python library&#34;
authors = [&#34;Your Name &lt;your@email.com&gt;&#34;]
license = &#34;MIT&#34;
readme = &#34;README.md&#34;
</code></pre></div><p>è¯·æ ¹æ®æ‚¨çš„é¡¹ç›®éœ€æ±‚ä¿®æ”¹è¿™äº›å…ƒä¿¡æ¯ã€‚<br></p>
<h3 id="32-å®šä¹‰ä¾èµ–é¡¹">3.2 å®šä¹‰ä¾èµ–é¡¹</h3>
<p>ä½¿ç”¨ <code>[tool.poetry.dependencies]</code> éƒ¨åˆ†æ¥å®šä¹‰æ‚¨çš„åº“é¡¹ç›®çš„ä¾èµ–é¡¹ã€‚ç¡®ä¿åˆ—å‡ºæ‰€æœ‰ä¾èµ–é¡¹åŠå…¶ç‰ˆæœ¬çº¦æŸã€‚</p>
<br>
<h3 id="33-åˆ›å»ºåº“ä»£ç ">3.3 åˆ›å»ºåº“ä»£ç </h3>
<p>ç¼–å†™æ‚¨çš„åº“ä»£ç å¹¶å°†å…¶ç»„ç»‡åˆ°é€‚å½“çš„ç›®å½•ä¸­ã€‚é€šå¸¸ï¼Œåº“ä»£ç ä¼šä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªåŒ…ç›®å½•ä¸­ã€‚<br></p>
<h3 id="34-æµ‹è¯•æ‚¨çš„åº“">3.4 æµ‹è¯•æ‚¨çš„åº“</h3>
<p>ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ¥éªŒè¯æ‚¨çš„åº“çš„åŠŸèƒ½ã€‚æµ‹è¯•æ–‡ä»¶é€šå¸¸ä¼šä½äºä¸€ä¸ªç‹¬ç«‹çš„æµ‹è¯•ç›®å½•ä¸­ï¼Œå¹¶ä½¿ç”¨æµ‹è¯•æ¡†æ¶ï¼ˆå¦‚ <code>pytest</code>ï¼‰æ¥è¿è¡Œæµ‹è¯•ã€‚<br></p>
<h3 id="35-æ„å»ºå’ŒéªŒè¯">3.5 æ„å»ºå’ŒéªŒè¯</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºæ‚¨çš„åº“ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry build
</code></pre></div><p>è¿™å°†ç”Ÿæˆä¸€ä¸ª dist ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åŒ…å«åº“çš„åˆ†å‘æ–‡ä»¶ï¼ŒåŒ…æ‹¬ wheel å’Œ sdistï¼ˆæºåˆ†å‘æ–‡ä»¶ï¼‰ã€‚<br></p>
<h3 id="36-å‘å¸ƒåˆ°-pypi">3.6 å‘å¸ƒåˆ° PyPI</h3>
<ol>
<li>
<p><strong>æ³¨å†Œ PyPI å¸æˆ·</strong>ï¼šå¦‚æœæ‚¨è¿˜æ²¡æœ‰ PyPI å¸æˆ·ï¼Œè¯·å…ˆæ³¨å†Œä¸€ä¸ªã€‚</p>
</li>
<li>
<p><strong>åœ¨poetryä¸­è®¾ç½®PyPiçš„api-tokenä¿¡æ¯</strong>ï¼šé¦–å…ˆç™»å½•PyPiï¼Œ ç‚¹å‡»Accounting settings, å¦‚æˆªå›¾æ‰€ç¤ºåˆ›å»ºä½ çš„api-tokenã€‚</p>
<p><img loading="lazy" src="img/api-token.png" alt=""  />
</p>
<p>åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿ç”¨æ‚¨çš„ PyPI å¸æˆ·ç™»å½•ï¼š</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry config pypi-token.pypi your-api-token
</code></pre></div><p>è¿™å°†è¦æ±‚æ‚¨è¾“å…¥ PyPI ç”¨æˆ·åå’Œå¯†ç ã€‚</p>
<ol start="3">
<li><strong>å‘å¸ƒåˆ° PyPI</strong>ï¼šè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å‘å¸ƒæ‚¨çš„åº“åˆ° PyPIï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">poetry publish
</code></pre></div><p>è¿™ä¼šè‡ªåŠ¨æ„å»ºæ‚¨çš„åº“å¹¶å°†å…¶å‘å¸ƒåˆ° PyPIã€‚è¯·æ³¨æ„ï¼Œä¸è¦éšä¾¿å‘å¸ƒï¼Œ å…ˆæ£€æŸ¥æ‰€æœ‰ä»£ç æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼Œä¹‹åå†å‘å¸ƒã€‚</p>
<br>
<h3 id="37-åˆ†äº«æ‚¨çš„åº“">3.7 åˆ†äº«æ‚¨çš„åº“</h3>
<p>ç°åœ¨ï¼Œæ‚¨çš„åº“å·²ç»å‘å¸ƒåˆ° PyPIï¼Œå…¶ä»–äººå¯ä»¥ä½¿ç”¨ <code>pip install</code> å‘½ä»¤æ¥å®‰è£…å®ƒã€‚æ‚¨å¯ä»¥åˆ†äº«æ‚¨çš„åº“çš„ PyPI é“¾æ¥ï¼Œä»¥ä¾¿å…¶ä»–äººæ‰¾åˆ°å’Œä½¿ç”¨å®ƒã€‚</p>
<p>è¿™äº›æ­¥éª¤ç®€è¦ä»‹ç»äº†ä½¿ç”¨ Poetry æ‰“åŒ…å’Œå‘å¸ƒ Python åº“çš„è¿‡ç¨‹ã€‚ç¡®ä¿åœ¨å‘å¸ƒä¹‹å‰æµ‹è¯•æ‚¨çš„åº“ï¼Œå¹¶åœ¨ README.md ä¸­æä¾›å¿…è¦çš„æ–‡æ¡£å’Œç¤ºä¾‹ï¼Œä»¥å¸®åŠ©å…¶ä»–äººä½¿ç”¨æ‚¨çš„åº“ã€‚</p>
<p><br><br></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Fakeråº“ | ç”Ÿæˆå®éªŒæ•°æ®</title>
      <link>https://textdata.cn/blog/2022-11-25-faker-generate-test-data/</link>
      <pubDate>Fri, 25 Nov 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022-11-25-faker-generate-test-data/</guid>
      <description>ç”Ÿæˆå®éªŒæ•°æ®</description>
      <content:encoded><![CDATA[


<p>æœ‰æ—¶å€™å­¦ä¹ æ–°çš„æ•°æ®åˆ†ææ–¹æ³•æ—¶ï¼Œéœ€è¦æ„é€ ä¸€äº›å°æ ·æœ¬çš„å®éªŒæ•°æ®ï¼Œæ‰‹åŠ¨æ„é€ æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<a href="https://github.com/joke2k/faker">fakeråº“</a>ã€‚</p>
<p><br></p>
<div id="å®‰è£…" class="section level2">
<h2>å®‰è£…</h2>
<pre><code>pip install Faker</code></pre>
<p><br></p>
</div>
<div id="å¿«é€Ÿä¸Šæ‰‹" class="section level2">
<h2>å¿«é€Ÿä¸Šæ‰‹</h2>
<pre class="python"><code>from faker import Faker

#è®¾å®šè¯­è¨€ï¼Œé»˜è®¤ç”Ÿæˆçš„æ˜¯è‹±æ–‡æ•°æ®
#fake = Faker()
fake = Faker(locale=&#39;zh_CN&#39;)

#ä¼ªé€ å§“å
fake.name()</code></pre>
<pre><code>## &#39;ç½—è¾‰&#39;</code></pre>
<p><br></p>
<p>ç”Ÿæˆåœ°å€æ•°æ®</p>
<pre class="python"><code>fake.address()</code></pre>
<pre><code>## &#39;æ¹–åŒ—çœå¼ å®¶æ¸¯å¸‚å¤§ä¸œç‹è¡—våº§ 601815&#39;</code></pre>
<p><br></p>
<p>ç”Ÿæˆå…¬å¸æ•°æ®</p>
<pre class="python"><code>fake.company_prefix()</code></pre>
<pre><code>## &#39;é“¶å˜‰&#39;</code></pre>
<p><br></p>
</div>
<div id="è‡ªå®šä¹‰" class="section level2">
<h2>è‡ªå®šä¹‰</h2>
<p>ä¾‹å¦‚ç”Ÿæˆä¸€ä¸ªå·¥ä½œç»å†çš„å®éªŒæ•°æ®ï¼Œå¯ä»¥è‡ªå®šä¹‰å…¬å¸åé›†åˆï¼Œä»ä¸­éšæœºæŠ½å–ã€‚</p>
<pre class="python"><code>from faker import Faker
fake = Faker()

my_word_list = [
&#39;åä¸º&#39;,&#39;å°ç±³&#39;,&#39;ä¸‰æ˜Ÿ&#39;,
&#39;æµ·å°”&#39;,&#39;å®é©¬&#39;,&#39;ä¿æ´&#39;,
&#39;ä¸­é“&#39;,&#39;ä¸­é€š&#39;,&#39;äº¬ä¸œ&#39;,
&#39;é˜¿é‡Œ&#39;,&#39;ç™¾åº¦&#39;,&#39;è…¾è®¯&#39;]

work_experiences = fake.sentence(ext_word_list=my_word_list, nb_words=5)
work_experiences</code></pre>
<pre><code>## &#39;äº¬ä¸œ åä¸º ä¸­é€š.&#39;</code></pre>
<p><br></p>
</div>
<div id="è®¾å®šéšæœºæ€§" class="section level2">
<h2>è®¾å®šéšæœºæ€§</h2>
<p>ç”±äºfakerå±äºéšæœºç”Ÿæˆæ•°æ®çš„åŒ…ï¼Œå¦‚æœä¸é™å®šçŠ¶æ€ï¼Œ æ¯æ¬¡è¿è¡Œç›¸åŒçš„ä»£ç ï¼Œéšæœºç”Ÿæˆçš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<pre class="python"><code>from faker import Faker
fake = Faker(&#39;zh_CN&#39;)

#è®¾å®šéšæœºçŠ¶æ€
Faker.seed(4321)

print(fake.name())</code></pre>
<pre><code>## ç‹é‘«</code></pre>
<p><br></p>
<p><br></p>
</div>
<div id="å¹¿è€Œå‘Šä¹‹" class="section level2">
<h2>å¹¿è€Œå‘Šä¹‹</h2>
<ul>
<li><a href="https://textdata.cn/blog/call_for_paper/">é•¿æœŸå¾ç¨¿</a></li>
<li><a href="https://textdata.cn/blog/we_need_you/">é•¿æœŸæ‹›å‹Ÿå°ä¼™ä¼´</a></li>
<li><a href="https://textdata.cn/blog/management_python_course/">ä»˜è´¹è§†é¢‘è¯¾ | Pythonå®è¯æŒ‡æ ‡æ„å»ºä¸æ–‡æœ¬åˆ†æ</a></li>
</ul>
</div>
]]></content:encoded>
    </item>
    
    <item>
      <title>ManagementScience | ä½¿ç”¨ç½‘ç»œç®—æ³•è¯†åˆ«åˆ›æ–°çš„é¢ è¦†æ€§ä¸å¦</title>
      <link>https://textdata.cn/blog/2022-09-07-management-science-disrupt-science-and-technology/</link>
      <pubDate>Wed, 07 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022-09-07-management-science-disrupt-science-and-technology/</guid>
      <description>The CD index is a new approach to finding important points in evolving networks. When applied to large-scale data sets like U.S. patent citations, the index is useful for identifying influential innovations and other features of technological change.</description>
      <content:encoded><![CDATA[


<p>é¢ è¦†å¼åˆ›æ–°æ˜¯ä¸€ä¸ªå¾ˆç«çš„æ¦‚å¿µï¼Œåœ¨åˆ›æ–°åˆ›ä¸šã€ç§‘å­¦å­¦ç­‰ç ”ç©¶ä¸­ï¼Œæ¯ä¸ªä¸“åˆ©ã€è®ºæ–‡çš„æ­£æ–‡ä¸­éƒ½ä¼šå¼•ç”¨å…³ç³»ï¼Œè€Œå¼•ç”¨å…³ç³»ä¼šæ„æˆä¸€ä¸ªå¼•ç”¨ç½‘ç»œã€‚</p>
<p>é‚£ä¹ˆåˆ›æ–°å¦‚ä½•ä»ç½‘ç»œå½¢æ€è¿›è¡ŒåŒºåˆ†ï¼Œå¦‚ä½•è®¡ç®—ç½‘ç»œèŠ‚ç‚¹çš„åˆ›æ–°ç¨‹åº¦ï¼Œæœ¬æ–‡åˆ—ä¸¾ä¸¤ç¯‡ä¸æ­¤ç›¸å…³çš„è®ºæ–‡ï¼Œåˆ†åˆ«æ˜¯ Management science å’Œ Science ã€‚</p>
<p><br><br></p>
<div id="æ–‡çŒ®æ‘˜è¦" class="section level2">
<h2>æ–‡çŒ®æ‘˜è¦</h2>
<p><strong>Funk, Russell J., and Jason Owen-Smith. â€œA dynamic network measure of technological change.â€ <em>Management science</em> 63, no. 3 (2017): 791-817.</strong></p>
<p>è¯¥æ–‡ä½¿ç”¨ç½‘ç»œåˆ†ææ–¹æ³•ç ”ç©¶æŠ€æœ¯å˜é©ï¼Œè®ºæ–‡è®¤ä¸º <strong>é¢ è¦†æ€§çš„æ–°å‘æ˜ï¼Œé€šè¿‡å°†å‘æ˜è€…çš„æ³¨æ„åŠ›è½¬ç§»åˆ°æˆ–è¿œç¦»è¿™äº›å‘æ˜æ‰€ä¾èµ–çš„çŸ¥è¯†ï¼Œæ¥é‡å¡‘ç›¸äº’å…³è”çš„æŠ€æœ¯ç½‘ç»œã€‚å³æ›´å¹¿çš„è§†é‡æˆ–æ›´ä¹…è¿œçš„è§†è§’ï¼Œå¾€å¾€æœ‰åˆ©äºé¢ è¦†æ€§åˆ›æ–°çš„äº§ç”Ÿ</strong>ã€‚<strong>åŸºäºè¯¥æ€è·¯ï¼Œæœ¬æ–‡å¼€å‘äº†æ–°å‘æ˜çš„é¢ è¦†æ€§ä¸å¦çš„è®¡ç®—æŒ‡æ ‡cdindex</strong>ã€‚æˆ‘ä»¬å°†è¿™äº›æŒ‡æ ‡åº”ç”¨äºå¤§å­¦ç ”ç©¶å•†ä¸šåŒ–çš„åˆ†æï¼Œå¹¶å‘ç° <strong>è”é‚¦ç ”ç©¶èµ„é‡‘æ¨åŠ¨æ ¡å›­äº§ç”Ÿé¢ è¦†æ€§åˆ›æ–°ï¼Œè€Œå•†ä¸šè”ç³»ä¼šæœ‰åˆ©äºå·©å›ºç°çŠ¶çš„åˆ›æ–°</strong>ã€‚é€šè¿‡é‡åŒ–æ–°æŠ€æœ¯ï¼Œæˆ‘ä»¬æå‡ºçš„æŒ‡æ•°å…è®¸åŸºäºä¸“åˆ©çš„åˆ›æ–°ç ”ç©¶æ•æ‰æ¦‚å¿µä¸Šé‡è¦çš„ç°è±¡ï¼Œ è¿™äº›ç°è±¡æ— æ³•é€šè¿‡æ—¢å®šæªæ–½æ£€æµ‹åˆ°ã€‚è¯¥æµ‹é‡æ–¹æ³•æä¾›äº†æ”¯æŒåˆ›æ–°ã€åˆ›ä¸šã€æŠ€æœ¯æˆ˜ç•¥ã€ç§‘å­¦æ”¿ç­–å’Œç¤¾ä¼šç½‘ç»œç†è®ºç ”ç©¶çš„ç†è®ºå‘å±•çš„ç»éªŒè§è§£ã€‚</p>
<blockquote>
<p>Abstract: This article outlines a network approach to the study of technological change. We propose that new inventions reshape networks of interlinked technologies by shifting inventorsâ€™ attention to or away from the knowledge on which those inventions build. Using this approach, we develop novel indexes of the extent to which a new invention consolidates or destabilizes existing technology streams. We apply these indexes in analyses of university research commercialization and ï¬nd that, although federal research funding pushes campuses to create inventions that are more destabilizing, deeper commercial ties lead them to produce technologies that consolidate the status quo. By quantifying the eï¬€ects that new technologies have on their predecessors, the indexes we propose allow patent-based studies of innovation to capture conceptually important phenomena that are not detectable with established measures. The measurement approach presented here oï¬€ers empirical insights that support theoretical development in studies of innovation, entrepreneurship, technology strategy, science policy, and social network theory.</p>
</blockquote>
<p><br></p>
<p><strong>Wu, Lingfei, Dashun Wang, and James A. Evans. â€œLarge teams develop and small teams disrupt science and technology.â€ Nature 566, no. 7744 (2019): 378-382.</strong></p>
<p>å½“ä»Šç§‘å­¦å’ŒæŠ€æœ¯æœ€æ™®éçš„è¶‹åŠ¿ä¹‹ä¸€æ˜¯å„ä¸ªé¢†åŸŸçš„å¤§å‹å›¢é˜Ÿçš„å¢é•¿ï¼Œå› ä¸ºå­¤ç‹¬çš„ç ”ç©¶äººå‘˜å’Œå°å‹å›¢é˜Ÿçš„æµè¡Œç¨‹åº¦æ­£åœ¨å‡å°‘ ã€‚å›¢é˜Ÿè§„æ¨¡çš„å¢åŠ å½’å› äºç§‘å­¦æ´»åŠ¨çš„ä¸“ä¸šåŒ–ã€é€šä¿¡æŠ€æœ¯çš„æ”¹è¿› æˆ–éœ€è¦è·¨å­¦ç§‘è§£å†³æ–¹æ¡ˆçš„ç°ä»£é—®é¢˜çš„å¤æ‚æ€§ã€‚å›¢é˜Ÿè§„æ¨¡çš„è¿™ç§è½¬å˜å¼•å‘äº†ä¸€ä¸ªé—®é¢˜ï¼Œå³å¤§å›¢é˜Ÿæ‰€äº§ç”Ÿçš„ç§‘æŠ€ç‰¹å¾æ˜¯å¦ä»¥åŠå¦‚ä½•ä¸åŒäºå°å›¢é˜Ÿã€‚åˆ†æäº† 1954-2014 å¹´æœŸé—´è¶…è¿‡ 6500 ä¸‡ç¯‡è®ºæ–‡ã€ä¸“åˆ©å’Œè½¯ä»¶äº§å“ï¼Œè¯æ˜åœ¨æ­¤æœŸé—´ï¼Œ<strong>è¾ƒå°çš„å›¢é˜Ÿå€¾å‘äºå°†æ‹‰é•¿åˆ°æ›´å¤§çš„æ—¶é—´å°ºåº¦ï¼Œå€Ÿé‰´è¿‡å»ï¼Œç”¨æ–°çš„æƒ³æ³•å’Œæœºä¼šæ¥é¢ è¦†ç§‘å­¦å’ŒæŠ€æœ¯ï¼›è€Œè¾ƒå¤§çš„å›¢é˜Ÿå€¾å‘äºèšç„¦äºå½“å‰æµè¡Œçš„ï¼Œå®Œå–„å½“å‰ç°æœ‰çš„</strong>ã€‚ä¸è®ºå›¢é˜Ÿå¤§å°ï¼Œå‡å¯¹äºè“¬å‹ƒå‘å±•çš„ç§‘å­¦æŠ€æœ¯ç”Ÿæ€è‡³å…³é‡è¦ï¼Œå¹¶è¡¨æ˜ï¼Œä¸ºå®ç°è¿™ä¸€ç›®æ ‡ï¼Œç§‘å­¦æ”¿ç­–åº”æ—¨åœ¨æ”¯æŒå›¢é˜Ÿè§„æ¨¡çš„å¤šæ ·æ€§ã€‚</p>
<blockquote>
<p>Abstract: One of the most universal trends in science and technology today is the growth of large teams in all areas, as solitary researchers and small teams diminish in prevalence. Increases in team size have been attributed to the specialization of scientific activities,
improvements in communication technology, or the complexity
of modern problems that require interdisciplinary solutions.This shift in team size raises the question of whether and how the character of the science and technology produced by large teams differs from that of small teams. Here we analyse more than 65 million papers, patents and software products that span the period 1954â€“2014, and demonstrate that across this period smaller teams have tended to disrupt science and technology with new ideas and opportunities, whereas larger teams have tended to develop existing ones. Work from larger teams builds on morerecent and popular developments, and attention to their work comes
immediately. By contrast, contributions by smaller teams search more deeply into the past, are viewed as disruptive to science and technology and succeed further into the futureâ€”if at all. Observed differences between small and large teams are magnified for higherimpact work, with small teams known for disruptive work and large teams for developing work. Differences in topic and research design
account for a small part of the relationship between team size and disruption; most of the effect occurs at the level of the individual, as people move between smaller and larger teams. These results demonstrate that both small and large teams are essential to a flourishing ecology of science and technology, and suggest that, to achieve this, science policies should aim to support a diversity of team sizes.</p>
</blockquote>
<p><br><br></p>
</div>
<div id="ç®—æ³•å¯¹æ¯”" class="section level2">
<h2>ç®—æ³•å¯¹æ¯”</h2>
<p>æˆ‘æ²¡é˜…è¯»ä¸¤ç¯‡è®ºæ–‡ï¼Œä»…å°±é¢ è¦†æ€§ä¸å¦çš„è®¡ç®—æ–¹æ³•å’Œå›¾ä¾‹ï¼Œæ„Ÿè§‰ç®—æ³•å®ç°å·®ä¸å¤šã€‚</p>
<div class="figure">
<img src="img/cdindex-managent_science_2017.png" alt="" />
<p class="caption">ä¸Šå›¾ä¸º2017å¹´Management Scienceçš„æ’å›¾</p>
</div>
<p><br></p>
<div class="figure">
<img src="img/disruption_nature_2019.png" alt="" />
<p class="caption">ä¸Šå›¾ä¸º2019å¹´Natureçš„æ’å›¾</p>
</div>
<p><br><br></p>
</div>
<div id="ä»£ç æ•°æ®" class="section level2">
<h2>ä»£ç æ•°æ®</h2>
<p>ä¸‹é¢åˆ†åˆ«ä¸ºManagement2017å’ŒNature2019çš„ä¸»é¡µï¼Œå‡å«æ•°æ®å’Œä»£ç ã€‚</p>
<p><a href="http://russellfunk.org/cdindex/"><img src="img/cdindex-homepage.png" /></a></p>
<p><br></p>
<p><a href="https://lingfeiwu.github.io/smallTeams/"><img src="img/nature2019-disrupt-homepage.png" /></a></p>
<p><br><br></p>
</div>
<div id="ç®—æ³•å®ç°" class="section level2">
<h2>ç®—æ³•å®ç°</h2>
<p>æŒ‰ç…§æ—¶é—´ä¼˜å…ˆåŸåˆ™ï¼Œæœ¬æ–‡å°±åªåˆ†äº«Management2017è®ºæ–‡ä½œè€…Funk, Russellå¼€æºäº†cdindexåº“ (å¼€å‘è¯­è¨€Cå’ŒPython) ï¼Œå®‰è£…</p>
<p><br></p>
<pre><code>pip3 install cdindex</code></pre>
<p>å°†Management2017 cdindexç®—æ³•å›¾ æ ‡æ³¨ä¸ºå¦‚ä¸‹å›¾ï¼Œ ä¸‹å›¾ä¸­å·¦å³ä¸¤ä¸ªç½‘ç»œèŠ‚ç‚¹æ˜¯ç›¸åŒçš„ï¼Œåªéœ€æ„é€ ä¸€å¥—èŠ‚ç‚¹ï¼Œä¸¤å¥—è¾¹æ•°æ®å³å¯å®Œæˆå®éªŒã€‚</p>
<p><img src="img/cdindex-managent_science_2017_demo.png" /></p>
<p><br></p>
<p>æˆ‘ä»¬å°±ç›´æ¥ä¸Šä»£ç </p>
<pre class="python"><code>import cdindex
import datetime

#èŠ‚ç‚¹ï¼Œç†è§£ä¸ºä¸“åˆ©å·æˆ–è€…è®ºæ–‡doiå·ï¼›åŒæ—¶èŠ‚ç‚¹æœ‰å…ˆåæ—¶é—´å±æ€§
vertices = [{&quot;name&quot;: &quot;x1&quot;, &quot;time&quot;: datetime.datetime(1990, 1, 1)},
           {&quot;name&quot;: &quot;x2&quot;, &quot;time&quot;: datetime.datetime(1990, 1, 1)},
           {&quot;name&quot;: &quot;x3&quot;, &quot;time&quot;: datetime.datetime(1990, 1, 1)},
           {&quot;name&quot;: &quot;x4&quot;, &quot;time&quot;: datetime.datetime(1990, 1, 1)},
        
           {&quot;name&quot;: &quot;y&quot;, &quot;time&quot;: datetime.datetime(1991, 1, 1)},
          
           {&quot;name&quot;: &quot;z1&quot;, &quot;time&quot;: datetime.datetime(1995, 1, 1)},
           {&quot;name&quot;: &quot;z2&quot;, &quot;time&quot;: datetime.datetime(1995, 1, 1)},
           {&quot;name&quot;: &quot;z3&quot;, &quot;time&quot;: datetime.datetime(1995, 1, 1)},
           {&quot;name&quot;: &quot;z4&quot;, &quot;time&quot;: datetime.datetime(1995, 1, 1)},
           {&quot;name&quot;: &quot;z5&quot;, &quot;time&quot;: datetime.datetime(1995, 1, 1)},
           {&quot;name&quot;: &quot;z6&quot;, &quot;time&quot;: datetime.datetime(1995, 1, 1)}]
           
    
#edges_1è¾¹å…³ç³»
#edges_1ä¸­çš„yä¸ºé¢ è¦†å‹
edges_1 = [{&quot;source&quot;: &quot;z1&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z2&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z3&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z4&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z5&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z6&quot;, &quot;target&quot;: &quot;y&quot;},
           
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x1&quot;},
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x2&quot;},
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x3&quot;},
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x4&quot;}]


#edges_2è¾¹å…³ç³» 
#edges_2ä¸­çš„yä¸ºå·©å›ºå‹
edges_2 = [{&quot;source&quot;: &quot;z1&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z2&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z3&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z4&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z5&quot;, &quot;target&quot;: &quot;y&quot;},
           {&quot;source&quot;: &quot;z6&quot;, &quot;target&quot;: &quot;y&quot;},
           
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x1&quot;},
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x2&quot;},
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x3&quot;},
           {&quot;source&quot;: &quot;y&quot;, &quot;target&quot;: &quot;x4&quot;},
          
          {&quot;source&quot;: &quot;z1&quot;, &quot;target&quot;: &quot;x1&quot;},
          {&quot;source&quot;: &quot;z2&quot;, &quot;target&quot;: &quot;x1&quot;},
          {&quot;source&quot;: &quot;z3&quot;, &quot;target&quot;: &quot;x2&quot;},
           
          {&quot;source&quot;: &quot;z4&quot;, &quot;target&quot;: &quot;x3&quot;},
          {&quot;source&quot;: &quot;z5&quot;, &quot;target&quot;: &quot;x3&quot;},
          {&quot;source&quot;: &quot;z5&quot;, &quot;target&quot;: &quot;x4&quot;},
          {&quot;source&quot;: &quot;z6&quot;, &quot;target&quot;: &quot;x4&quot;}]



# æ„å»ºä¸¤ä¸ªç½‘ç»œ
graph1 = cdindex.Graph() #é¢ è¦†å‹
graph2 = cdindex.Graph() #å‘å±•å‹

# æ·»åŠ èŠ‚ç‚¹
for vertex in vertices:
    graph1.add_vertex(vertex[&quot;name&quot;], cdindex.timestamp_from_datetime(vertex[&quot;time&quot;]))
    graph2.add_vertex(vertex[&quot;name&quot;], cdindex.timestamp_from_datetime(vertex[&quot;time&quot;]))

# æ·»åŠ å¼•ç”¨å…³ç³»
for edge in edges_1:
    graph1.add_edge(edge[&quot;source&quot;], edge[&quot;target&quot;])
for edge in edges_2:
    graph2.add_edge(edge[&quot;source&quot;], edge[&quot;target&quot;])
    
    
#yç ”ç©¶å‘å¸ƒå1825å¤©å†…ï¼Œå¼•ç”¨yçš„è®ºæ–‡(ä¸“åˆ©)åˆ—å…¥ç½‘ç»œã€‚
t_delta = int(datetime.timedelta(days=1825).total_seconds())

#è®¡ç®—cdindexå¾—åˆ†
score1 = graph1.cdindex(&quot;y&quot;, t_delta)
score2 = graph2.cdindex(&quot;y&quot;, t_delta)

print(&#39;å·¦ä¾§-ç½‘ç»œä¸­çš„yèŠ‚ç‚¹çš„cdinexå¾—åˆ†: {}, èŠ‚ç‚¹y ä¸ºé¢ è¦†æ€§åˆ›æ–°&#39;.format(score1))</code></pre>
<pre><code>## å·¦ä¾§-ç½‘ç»œä¸­çš„yèŠ‚ç‚¹çš„cdinexå¾—åˆ†: 1.0, èŠ‚ç‚¹y ä¸ºé¢ è¦†æ€§åˆ›æ–°</code></pre>
<p><br></p>
<pre class="python"><code>print(&#39;å³ä¾§-ç½‘ç»œä¸­çš„yèŠ‚ç‚¹çš„cdinexå¾—åˆ†: {}, èŠ‚ç‚¹y ä¸ºå‘å±•æ€§åˆ›æ–°&#39;.format(score2))</code></pre>
<pre><code>## å³ä¾§-ç½‘ç»œä¸­çš„yèŠ‚ç‚¹çš„cdinexå¾—åˆ†: -1.0, èŠ‚ç‚¹y ä¸ºå‘å±•æ€§åˆ›æ–°</code></pre>
<p><br><br></p>
</div>
<div id="cdindex" class="section level2">
<h2>cdindex</h2>
<p>å¯¹æ¯”Pythonçš„ç»“æœï¼Œä¸è®ºæ–‡è®¡ç®—è¿‡ç¨‹ï¼Œå®Œå…¨ä¸€è‡´ã€‚cdindexå†…éƒ¨å®ç°æˆ‘ä¸å¤ªç†Ÿæ‚‰ï¼Œå¦‚æœæƒ³äº†è§£cdindexå†…éƒ¨å®ç°ï¼Œå¯å‰å¾€ <a href="https://github.com/russellfunk/cdindex" class="uri">https://github.com/russellfunk/cdindex</a> é˜…è¯»cdindexåº“çš„æºç ã€‚
<img src="img/cdindex-managent_science_2017.png" /></p>
</div>
]]></content:encoded>
    </item>
    
    <item>
      <title>geopyåº“ | åœ°ç†ç¼–ç è®¡ç®—è·ç¦»</title>
      <link>https://textdata.cn/blog/geopy_distance_calculate/</link>
      <pubDate>Thu, 28 Apr 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/geopy_distance_calculate/</guid>
      <description>åœ°ç†ä¿¡æ¯æ•°æ®åˆ†æï¼Œç»çº¬åº¦è·ç¦»è®¡ç®—</description>
      <content:encoded><![CDATA[<h1 id="geopy">geopy</h1>
<p>geopy æ˜¯å‡ ä¸ªæµè¡Œçš„åœ°ç†ç¼–ç ç½‘ç»œæœåŠ¡çš„ Python å®¢æˆ·ç«¯ã€‚</p>
<p>geopy ä½¿ Python å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åœ°ç†ç¼–ç å™¨å’Œå…¶ä»–æ•°æ®æºè½»æ¾å®šä½å…¨çƒåœ°å€ã€åŸå¸‚ã€å›½å®¶å’Œåœ°æ ‡çš„åæ ‡ã€‚</p>
<p>geopy åŒ…æ‹¬ç”¨äº <a href="https://nominatim.org/">OpenStreetMap Nominatim</a>ã€<a href="https://developers.google.com/maps/documentation/geocoding/">Google Geocoding API (V3)</a> çš„åœ°ç†ç¼–ç å™¨ç±»å’Œè®¸å¤š å…¶ä»–åœ°ç†ç¼–ç æœåŠ¡ã€‚ å®Œæ•´åˆ—è¡¨å¯åœ¨ <a href="https://geopy.readthedocs.io/en/latest/#geocoders">Geocoders æ–‡æ¡£éƒ¨åˆ†</a> ä¸Šæ‰¾åˆ°ã€‚ åœ°ç†ç¼–ç å™¨ç±»ä½äº <a href="https://github.com/geopy/geopy/tree/master/geopy/geocoders">geopy.geocoders</a>ã€‚</p>
<p>geopy é’ˆå¯¹ CPythonï¼ˆç‰ˆæœ¬ 3.5ã€3.6ã€3.7ã€3.8ã€3.9ï¼‰å’Œ PyPy3 è¿›è¡Œäº†æµ‹è¯•ã€‚ geopy 1.x ç³»åˆ—è¿˜æ”¯æŒ CPython 2.7ã€3.4 å’Œ PyPy2ã€‚</p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install geopy
</code></pre></div><h2 id="geocoding">Geocoding</h2>
<p>è¦å°†æŸ¥è¯¢åœ°ç†å®šä½åˆ°åœ°å€å’Œåæ ‡ï¼š</p>
<p>é¦–å…ˆéœ€è¦åœ¨https://www.openstreetmap.org/æ³¨å†Œè´¦å·ï¼Œæ³¨å†Œä¸€ä¸ªappåã€‚æ³¨å†Œå¥½çš„appåç”¨äºå¡«å……user_agent</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">geopy.geocoders</span> <span class="kn">import</span> <span class="n">Nominatim</span>

<span class="n">geolocator</span> <span class="o">=</span> <span class="n">Nominatim</span><span class="p">(</span><span class="n">user_agent</span><span class="o">=</span><span class="s2">&#34;specify_your_app_name_here&#34;</span><span class="p">)</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="s2">&#34;175 5th Avenue NYC&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">address</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">location</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">location</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">raw</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Flatiron Building, 175, 5th Avenue, Flatiron, New York, NYC, New York, ...
(40.7410861, -73.9896297241625)
{&#39;place_id&#39;: &#39;9167009604&#39;, &#39;type&#39;: &#39;attraction&#39;, ...}
</code></pre></div><p><br><br></p>
<p>ä¸ºäº†æ‰¾åˆ°åœ°å€å¯¹åº”çš„ç»çº¬åº¦</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">geopy.geocoders</span> <span class="kn">import</span> <span class="n">Nominatim</span>

<span class="n">geolocator</span> <span class="o">=</span> <span class="n">Nominatim</span><span class="p">(</span><span class="n">user_agent</span><span class="o">=</span><span class="s2">&#34;specify_your_app_name_here&#34;</span><span class="p">)</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="s2">&#34;52.509669, 13.376294&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">address</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">location</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">location</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">raw</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Potsdamer Platz, Mitte, Berlin, 10117, Deutschland, European Union
(52.5094982, 13.3765983)
{&#39;place_id&#39;: &#39;654513&#39;, &#39;osm_type&#39;: &#39;node&#39;, ...}
</code></pre></div><p><br><br></p>
<h2 id="æµ‹é‡è·ç¦»">æµ‹é‡è·ç¦»</h2>
<p>Geopy å¯ä»¥ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Geodesics_on_an_ellipsoid">geodesic distance</a> æˆ– <a href="https://en.wikipedia.org/wiki/">great-circle distance</a> è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„æµ‹åœ°çº¿è·ç¦» Great-circle_distanceï¼‰ï¼Œé»˜è®¤çš„æµ‹åœ°çº¿è·ç¦»å¯ç”¨ä½œå‡½æ•° geopy.distance.distanceã€‚</p>
<p>è¿™æ˜¯æµ‹åœ°çº¿è·ç¦»çš„ç¤ºä¾‹ç”¨æ³•ï¼Œé‡‡ç”¨ä¸€å¯¹ <code>(lat, lon)</code> å…ƒç»„ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">geopy.distance</span> <span class="kn">import</span> <span class="n">geodesic</span>
<span class="n">newport_ri</span> <span class="o">=</span> <span class="p">(</span><span class="mf">41.49008</span><span class="p">,</span> <span class="o">-</span><span class="mf">71.312796</span><span class="p">)</span>
<span class="n">cleveland_oh</span> <span class="o">=</span> <span class="p">(</span><span class="mf">41.499498</span><span class="p">,</span> <span class="o">-</span><span class="mf">81.695391</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">geodesic</span><span class="p">(</span><span class="n">newport_ri</span><span class="p">,</span> <span class="n">cleveland_oh</span><span class="p">)</span><span class="o">.</span><span class="n">miles</span><span class="p">)</span>
</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">538.390445368
</code></pre></div><br>
<p>ä½¿ç”¨great-cricleè·ç¦»ç®—æ³•ï¼ŒåŒæ—¶é‡‡ç”¨ä¸€å¯¹ <code>(lat, lon)</code> å…ƒç»„ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">geopy.distance</span> <span class="kn">import</span> <span class="n">great_circle</span>
<span class="n">newport_ri</span> <span class="o">=</span> <span class="p">(</span><span class="mf">41.49008</span><span class="p">,</span> <span class="o">-</span><span class="mf">71.312796</span><span class="p">)</span>
<span class="n">cleveland_oh</span> <span class="o">=</span> <span class="p">(</span><span class="mf">41.499498</span><span class="p">,</span> <span class="o">-</span><span class="mf">81.695391</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">great_circle</span><span class="p">(</span><span class="n">newport_ri</span><span class="p">,</span> <span class="n">cleveland_oh</span><span class="p">)</span><span class="o">.</span><span class="n">miles</span><span class="p">)</span>

</code></pre></div><p>Run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">536.997990696
</code></pre></div><br>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>BloxsåŒ… | å¯åœ¨notebookä¸­ä½¿ç”¨çš„äº¤äº’å¯è§†åŒ–åŒ…</title>
      <link>https://textdata.cn/blog/bloxs_interactive_visualization/</link>
      <pubDate>Fri, 01 Apr 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/bloxs_interactive_visualization/</guid>
      <description>Bloxsæ˜¯ä¸€ä¸ªç®€å•çš„ python å¯äº¤äº’çš„å¯è§†åŒ–åŒ…ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ä»¥ä¸€ç§æœ‰å¸å¼•åŠ›çš„æ–¹å¼ï¼ˆä»¥å—å½¢å¼ï¼‰æ˜¾ç¤ºä¿¡æ¯ã€‚ éå¸¸é€‚åˆåœ¨ç¬”è®°æœ¬ä¸­æ„å»ºä»ªè¡¨æ¿ã€æŠ¥å‘Šå’Œåº”ç”¨ç¨‹åºã€‚</description>
      <content:encoded><![CDATA[<p>Bloxsæ˜¯ä¸€ä¸ªç®€å•çš„ python å¯äº¤äº’çš„å¯è§†åŒ–åŒ…ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ä»¥ä¸€ç§æœ‰å¸å¼•åŠ›çš„æ–¹å¼ï¼ˆä»¥å—å½¢å¼ï¼‰æ˜¾ç¤ºä¿¡æ¯ã€‚ éå¸¸é€‚åˆåœ¨ç¬”è®°æœ¬ä¸­æ„å»ºä»ªè¡¨æ¿ã€æŠ¥å‘Šå’Œåº”ç”¨ç¨‹åºã€‚</p>
<p>å®ƒé€‚ç”¨äºï¼šJupyter Notebookã€Google Colabã€Deepnoteã€Kaggle Notebookã€<a href="https://github.com/mljar/mercury">Mercury</a>ã€‚</p>
<p><img loading="lazy" src="img/bloxs_demo.gif" alt=""  />
</p>
<br>
<h2 id="å®‰è£…">å®‰è£…</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install bloxs
</code></pre></div><br>
<h2 id="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">from bloxs import B
B(1234, &#34;Bloxs in notebook!&#34;)
</code></pre></div><p><img loading="lazy" src="img/test_bloxs.png" alt=""  />
</p>
<br>
<h2 id="æ¡ˆä¾‹">æ¡ˆä¾‹</h2>
<table>
<thead>
<tr>
<th>Bloxs</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="img/number.png" alt=""  />
</td>
<td><code>B(1234, &quot;Bloxs in notebook!&quot;)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/percent.png" alt=""  />
</td>
<td><code>B(1999, &quot;Percent change!&quot;, percent_change=10)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/emojis.png" alt=""  />
</td>
<td><code>B(&quot;ğŸ‰ğŸ‰ğŸ‰&quot;, &quot;Works with emojis&quot;)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/progress.png" alt=""  />
</td>
<td><code>B(&quot;68%&quot;, &quot;Loading progress&quot;, progress=68)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/progress_color.png" alt=""  />
</td>
<td><code>B(&quot;68%&quot;, &quot;Loading progress&quot;, progress=68, color=&quot;green&quot;)</code> é¢œè‰²colorå‚æ•°å¯ä»¥è®¾ä¸º&quot;blue&quot;, &ldquo;red&rdquo;, &ldquo;green&rdquo; æˆ–åå…­è¿›åˆ¶è¡¨ç¤º (ä¾‹å¦‚&quot;#fa33fa&quot;)</td>
</tr>
<tr>
<td><img loading="lazy" src="img/line_chart.png" alt=""  />
</td>
<td><code>B(&quot;123&quot;, &quot;Display line chart&quot;, points=[1,4,2,3,5,6])</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/line_chart_color.png" alt=""  />
</td>
<td><code>B(&quot;123&quot;, &quot;Display line chart&quot;, points=[1,4,2,3,5,6], color=&quot;red&quot;)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/stepped.png" alt=""  />
</td>
<td><code>B(&quot;123&quot;, &quot;Display stepped chart&quot;, points=[1,4,2,3,5,6], chart_type=&quot;stepped&quot;)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/bar_chart.png" alt=""  />
</td>
<td><code>B(&quot;123&quot;, &quot;Display bar chart&quot;, points=[1,4,2,3,5,6], chart_type=&quot;bar&quot;)</code></td>
</tr>
<tr>
<td><img loading="lazy" src="img/bar_chart_color.png" alt=""  />
</td>
<td><code>B(&quot;123&quot;, &quot;Display bar chart&quot;, points=[1,4,2,3,5,6], chart_type=&quot;bar&quot;, color=&quot;green&quot;)</code></td>
</tr>
</tbody>
</table>
<br>
<p>å¯ä»¥åœ¨ä¸€è¡Œå†…æ•´åˆå¤šä¸ªå›¾</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">B([
    B(1999, &#34;Percent change!&#34;, percent_change=10),
    B(&#34;ğŸ‰ğŸ‰ğŸ‰&#34;, &#34;Works with emojis&#34;),
    B(&#34;68%&#34;, &#34;Loading progress&#34;, progress=68),
    B(1234, &#34;Bloxs in notebook!&#34;)
])
</code></pre></div><p><img loading="lazy" src="img/several_bloxs_2.png" alt=""  />
</p>
<br>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">B([
    B(&#34;786&#34;, &#34;Display bar chart&#34;, points=[1,4,2,3,5,6], chart_type=&#34;bar&#34;, color=&#34;green&#34;),
    B(&#34;123&#34;, &#34;Display line chart&#34;, points=[1,4,2,3,5,6], color=&#34;red&#34;),
    B(&#34;123&#34;, &#34;Display stepped chart&#34;, points=[1,4,2,3,5,6], chart_type=&#34;stepped&#34;)
])
</code></pre></div><p><img loading="lazy" src="img/several_bloxs.png" alt=""  />
</p>
<br>
<p>å¦‚æœæƒ³åœ¨è‡ªå·±ç”µè„‘ä¸­å®éªŒä¸Šè¿°ä»£ç ï¼Œå¯ä»¥ç‚¹å‡» <a href="https://deepnote.com/project/bloxs-ZNGnsap0R7ea8LeZY0uarQ/%2Fnotebook.ipynb">notebook</a> ä¸‹è½½ã€‚</p>
<br>
<h2 id="ç»“åˆmercuryç”¨bloxs">ç»“åˆMercuryç”¨Bloxs</h2>
<p><a href="https://github.com/mljar/mercury">Mercury</a> æ˜¯ä¸€ä¸ªç”¨äºå°†ç¬”è®°æœ¬è½¬æ¢ä¸ºäº¤äº’å¼ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚ å®ƒåŸºäº YAML é…ç½®å°†å°éƒ¨ä»¶æ·»åŠ åˆ°ç¬”è®°æœ¬ä¸­ã€‚ ä¸‹é¢å±•ç¤ºäº†ä¸€ä¸ªå¸¦æœ‰ bloxs çš„ç¬”è®°æœ¬ï¼Œä»¥åŠä½œä¸º Mercury çš„ Web åº”ç”¨ç¨‹åºçš„åŒä¸€ç¬”è®°æœ¬ã€‚</p>
<p><img loading="lazy" src="img/bloxs_notebook.gif" alt=""  />
</p>
<br>
<h2 id="mercuryç½‘é¡µåº”ç”¨">Mercuryç½‘é¡µåº”ç”¨</h2>
<p><a href="https://mercury.mljar.com/app/5">Demo</a></p>
<p><img loading="lazy" src="img/bloxs_mercury.gif" alt=""  />
</p>
<br>
<br>
]]></content:encoded>
    </item>
    
    <item>
      <title>ç§‘ç ”ç»˜å›¾SciencePlotsåº“</title>
      <link>https://textdata.cn/blog/scienceplots/</link>
      <pubDate>Tue, 23 Nov 2021 18:40:10 +0600</pubDate>
      
      <guid>/blog/scienceplots/</guid>
      <description>ç§‘ç ”å¯è§†åŒ–ç»˜å›¾åŒ…</description>
      <content:encoded><![CDATA[<h2 id="ä»£ç ä¸‹è½½">ä»£ç ä¸‹è½½</h2>
<p><a href="https://github.com/hidadeng/DaDengAndHisPython/blob/master/SciencePlot%E7%A7%91%E7%A0%94%E7%BB%98%E5%9B%BE.zip">https://github.com/hidadeng/DaDengAndHisPython/blob/master/SciencePlotç§‘ç ”ç»˜å›¾.zip</a></p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">
<span class="err">!</span><span class="n">pip3</span> <span class="n">install</span> <span class="n">SciencePlots</span>

</code></pre></div><pre><code>Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple/
Collecting SciencePlots
  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/c2/44/7b5c0ecd6f2862671a076425546f86ac540bc48c1a618a82d6faa3b26f58/SciencePlots-1.0.9.tar.gz (10 kB)
  Installing build dependencies ... [?25l/
</code></pre>
<p><strong>tips</strong>:</p>
<p>SciencePlotsåº“éœ€è¦ç”µè„‘å®‰è£…LaTexï¼Œå…¶ä¸­</p>
<ul>
<li>MacOSç”µè„‘å®‰è£…MacTex  <a href="https://www.tug.org/mactex/">https://www.tug.org/mactex/</a></li>
<li>Windowsç”µè„‘å®‰è£…MikTex  <a href="https://miktex.org/">https://miktex.org/</a></li>
</ul>
<h2 id="åˆå§‹åŒ–ç»˜å›¾æ ·å¼">åˆå§‹åŒ–ç»˜å›¾æ ·å¼</h2>
<p>åœ¨SciencePlotsåº“ä¸­ç§‘ç ”ç»˜å›¾æ ·å¼éƒ½æ˜¯ç”¨çš„science</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;science&#39;</span><span class="p">)</span>
</code></pre></div><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªæ ·å¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;ieee&#39;</span><span class="p">])</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <strong>ieee</strong> ä¼šè¦†ç›–æ‰ <strong>science</strong> ä¸­çš„æŸäº›å‚æ•°ï¼ˆåˆ—å®½ã€å­—å·ç­‰ï¼‰ï¼Œ ä»¥è¾¾åˆ°ç¬¦åˆ <strong>IEEE</strong>è®ºæ–‡çš„ç»˜å›¾è¦æ±‚</p>
<p>å¦‚æœè¦ä¸´æ—¶ä½¿ç”¨æŸç§ç»˜å›¾æ ·å¼ï¼Œç§‘ç ”ä½¿ç”¨å¦‚ä¸‹è¯­æ³•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1">#æ³¨æ„ï¼Œæ­¤å¤„æ˜¯è¯­æ³•ç¤ºä¾‹ï¼Œ</span>
<span class="c1">#å¦‚è¦è¿è¡Œï¼Œ è¯·æå‰å‡†å¤‡å¥½xå’Œyçš„æ•°æ®</span>
<span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;ieee&#39;</span><span class="p">]):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div><h2 id="æ¡ˆä¾‹">æ¡ˆä¾‹</h2>
<p>å®šä¹‰å‡½æ•°æ›²çº¿ï¼Œ å‡†å¤‡æ•°æ®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">x</span> <span class="o">**</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">p</span><span class="p">))</span>

<span class="n">pparam</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Voltage (mV)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Current ($\mu$A)&#39;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mi">201</span><span class="p">)</span>
</code></pre></div><h3 id="scienceæ ·å¼">scienceæ ·å¼</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">]):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Order&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="n">tight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">**</span><span class="n">pparam</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig1.pdf&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig1.jpg&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</code></pre></div>
<figure >
    
        <img src="img/output_12_0.png" width="800" />
    
    
</figure>

<h3 id="scienceieeeæ ·å¼">science+ieeeæ ·å¼</h3>
<p>é’ˆå¯¹IEEEè®ºæ–‡å‡†å¤‡çš„<strong>science+ieee</strong>æ ·å¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;ieee&#39;</span><span class="p">]):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">100</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Order&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="n">tight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">**</span><span class="n">pparam</span><span class="p">)</span>
    <span class="c1"># Note: $\mu$ doesn&#39;t work with Times font (used by ieee style)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Current (\textmu A)&#39;</span><span class="p">)</span>  
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig2a.pdf&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig2a.jpg&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</code></pre></div>
<figure >
    
        <img src="img/output_14_0.png" width="800" />
    
    
</figure>

<h3 id="sciencescatteræ ·å¼">science+scatteræ ·å¼</h3>
<p><strong>IEEE</strong> è¦æ±‚å›¾å½¢ä»¥é»‘ç™½æ‰“å°æ—¶å¿…é¡»å¯è¯»ã€‚ <strong>ieee</strong> æ ·å¼è¿˜å¯ä»¥å°†å›¾å½¢å®½åº¦è®¾ç½®ä¸ºé€‚åˆIEEEè®ºæ–‡çš„ä¸€åˆ—ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">([</span><span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;scatter&#39;</span><span class="p">]):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;k--&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.8</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span>
                    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&#34;$^\#$</span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sample&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">xlbl</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&#34;$\log_</span><span class="si">{10}</span><span class="s2">\left(\frac{L_\mathrm</span><span class="si">{IR}</span><span class="s2">}{\mathrm</span><span class="si">{L}</span><span class="s2">_\odot}\right)$&#34;</span>
    <span class="n">ylbl</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&#34;$\log_</span><span class="si">{10}</span><span class="s2">\left(\frac{L_\mathrm</span><span class="si">{6.2}</span><span class="s2">}{\mathrm</span><span class="si">{L}</span><span class="s2">_\odot}\right)$&#34;</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlbl</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylbl</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig3.pdf&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig3.jpg&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</code></pre></div>
<figure >
    
        <img src="img/output_16_0.png" width="800" />
    
    
</figure>

<h3 id="dark_background-sciencehigh-vis">dark_background +science+high-vis</h3>
<p>æ‚¨è¿˜å¯ä»¥å°†è¿™äº›æ ·å¼ä¸Matplotlibéšé™„çš„å…¶ä»–æ ·å¼ç»“åˆä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œdark_background +science+high-visæ ·å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">([</span><span class="s1">&#39;dark_background&#39;</span><span class="p">,</span> <span class="s1">&#39;science&#39;</span><span class="p">,</span> <span class="s1">&#39;high-vis&#39;</span><span class="p">]):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Order&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="n">tight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">**</span><span class="n">pparam</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig5.pdf&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figures/fig5.jpg&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</code></pre></div>
<figure >
    
        <img src="img/output_18_0.png" width="800" />
    
    
</figure>

<br>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
