<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Blogs | 大邓和他的PYTHON</title>
<meta name="keywords" content="" />
<meta name="description" content="Blogs - 大邓和他的PYTHON">
<meta name="author" content="Me, You">
<link rel="canonical" href="/blog/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.css" rel="preload stylesheet" as="style">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<link rel="alternate" type="application/rss+xml" href="/blog/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Blogs" />
<meta property="og:description" content="大邓和他的PYTHON - https://github.com/hidadeng" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/blog/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Blogs"/>
<meta name="twitter:description" content="大邓和他的PYTHON - https://github.com/hidadeng"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "/blog/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="大邓和他的PYTHON (Alt + H)">大邓和他的PYTHON</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/blog" title="博文">
                    <span class="active">博文</span>
                </a>
            </li>
            <li>
                <a href="/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="mailto:thunderhit@qq.com" title="联系">
                    <span>联系</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="/">Home</a></div>
  <h1>Blogs</h1>
</header>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="/images/blog/elmo.png" alt="">
</figure>
  <header class="entry-header">
    <h2>whatlies库|可视化词向量
    </h2>
  </header>
  <section class="entry-content">
    <p>本文代码下载
 链接:https://pan.baidu.com/s/1vJohEJ0pc6t4PBK04PiZbg 密码:t7a6
 whatlies 可以与spacy语言模型结合，可视化词向量。安装zh_core_web_md、en_core_web_md和whatlies。具体文档可以查看https://github.com/RasaHQ/whatlies
!pip3 install zh_core_web_md-3.0.0-py3-none-any.whl !pip3 install en_core_web_md-3.0.0-py3-none-any.whl !pip3 install whatlies 快速上手 spacy模型中的词向量均为几十上百维度的词向量，通过压缩映射至二维空间后，横坐标man，纵坐标woman，就可以将词语的性别倾向可视化出来。
例如woman词更接近纵轴，man更接近横轴。 nurse、queen一般更多的是女性从业者，因此更接近y轴。 king国王多为男性，所以更接近x轴。
至于动物，女性喜欢养猫，男性喜欢养狗，所以也能体现出词语的性别倾向。
from whatlies import EmbeddingSet from whatlies.language import SpacyLanguage lang = SpacyLanguage(&#34;en_core_web_md&#34;) words = [&#34;cat&#34;, &#34;dog&#34;, &#34;fish&#34;, &#34;kitten&#34;, &#34;man&#34;, &#34;woman&#34;, &#34;king&#34;, &#34;queen&#34;, &#34;doctor&#34;, &#34;nurse&#34;] emb = EmbeddingSet(*[lang[w] for w in words]) emb.plot_interactive(x_axis=emb[&#34;man&#34;], y_axis=emb[&#34;woman&#34;])   whatlies也可以对中文进行操作。
from whatlies import EmbeddingSet from whatlies.language import SpacyLanguage zh_lang = SpacyLanguage(&#34;zh_core_web_md&#34;) zh_words = [&#34;猫&#34;, &#34;狗&#34;, &#34;鱼&#34;, &#34;鲤鱼&#34;, &#34;男人&#34;, &#34;女人&#34;, &#34;国王&#34;, &#34;王后&#34;, &#34;医生&#34;, &#34;护士&#34;] zh_emb = EmbeddingSet(*[zh_lang[w] for w in zh_words]) zh_emb....</p>
  </section>
  <footer class="entry-footer"><span title='2021-07-08 16:40:10 +0600 +0600'>2021-07-08</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;大邓</footer>
  <a class="entry-link" aria-label="post link to whatlies库|可视化词向量" href="/blog/whatlies/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="/images/blog/How-to-Use-Pythons-filter__Watermarked.de0ab33d1dbe.jpg" alt="">
</figure>
  <header class="entry-header">
    <h2>Clumper库|dplyr样式的Python包
    </h2>
  </header>
  <section class="entry-content">
    <p>Clumper可以用来处理嵌套样式的json数据结构。
本文代码下载
Getting Started 安装 !pip3 install clumper Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple Collecting clumper Downloading https://pypi.tuna.tsinghua.edu.cn/packages/70/62/0731ab9b48c91132aff487217980dcb147ffc0922a278adc05986f6a8d4b/clumper-0.2.13-py2.py3-none-any.whl (21 kB) Installing collected packages: clumper Successfully installed clumper-0.2.13 [33mWARNING: You are using pip version 20.0.2; however, version 21.1.2 is available. You should consider upgrading via the &#39;/Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7 -m pip install --upgrade pip&#39; command.[0m  为了展示Clumper如何工作，我准备了pokemon.json， 由列表组成(该列表由多个字典组成)，下面是pokemon.json部分内容
import json with open(&#39;pokemon.json&#39;) as jsonf: pokemon = json.loads(jsonf.read()) pokemon[:2] [{&#39;name&#39;: &#39;Bulbasaur&#39;, &#39;type&#39;: [&#39;Grass&#39;, &#39;Poison&#39;], &#39;total&#39;: 318, &#39;hp&#39;: 45, &#39;attack&#39;: 49}, {&#39;name&#39;: &#39;Ivysaur&#39;, &#39;type&#39;: [&#39;Grass&#39;, &#39;Poison&#39;], &#39;total&#39;: 405, &#39;hp&#39;: 60, &#39;attack&#39;: 62}]  我们准备的pokemon....</p>
  </section>
  <footer class="entry-footer"><span title='2021-06-22 16:40:10 +0600 +0600'>2021-06-22</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;大邓</footer>
  <a class="entry-link" aria-label="post link to Clumper库|dplyr样式的Python包" href="/blog/clumper/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="/images/blog/typoramain.png" alt="">
</figure>
  <header class="entry-header">
    <h2>我最喜欢的15个Typora主题
    </h2>
  </header>
  <section class="entry-content">
    <p>Typora简介 Typora是一个所见即所得的Markdown格式文本编辑器，支持Windows、macOS和GNU/Linux操作系统，拼写检查、自定义CSS样式、数学公式渲染（通过MathJax）等特性。
如果你还不知道Typora，请访问Typora — a markdown editor, markdown reader.
主题安装方法  下载本主题的压缩文件Latest release 打开Typora, 点击菜单栏的偏好设置-外观-打开主题文件夹 将解压后的文件复制到主题文件夹下(压缩包包含mlike文件夹、 mlike.css mlike-light.css、mlike-dark.css) 重新启动Typora，点击菜单栏的主题-Mlike Light或者Mlike Dark  具体的安装方法可查看 Install Theme (typora.io)
Typora Themes 下面15个主题是大邓最喜欢的主题
 Autumnus Adark Drake FluentLight Jamstatic LessLight LessLightPrint Mo NewPrint OptAutumnus OrangeHeart PixII Torillic Vue Whitey  1.Autumnus   2.Adark   3.Drake   4.FluentLight     5.Jamstatic   6.LessLight   7.LessLightPrint   8....</p>
  </section>
  <footer class="entry-footer"><span title='2021-06-01 16:40:10 +0600 +0600'>2021-06-01</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;大邓</footer>
  <a class="entry-link" aria-label="post link to 我最喜欢的15个Typora主题" href="/blog/my-favorite-typora-themes/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="/images/blog/shenzhenstockinfos.png" alt="">
</figure>
  <header class="entry-header">
    <h2>深交所上交所pdf批量下载
    </h2>
  </header>
  <section class="entry-content">
    <p>代码下载 点击此处下载代码
本文B站视频 https://www.bilibili.com/video/BV1AE411r7ph
一、知识准备  python语法基本知识 https://www.bilibili.com/video/BV1eb411h7sP/ python网络爬虫 https://www.bilibili.com/video/BV1AE411r7ph/  二、网址规律分析 2.1 上交所   上交所多为GET请求方法，伪码
import requests url = &#39;上交所网址规律&#39; headers = &#39;你的浏览器useragent(带referer)&#39; cookies = &#39;你的cookies&#39; resp = requests.get(url, headers=headers, cookies=cookies) 
2.2 深交所     深交所多为POST请求方法，伪码
import requests url = &#39;深交所网址规律&#39; headers = &#39;你的浏览器useragent(带referer)&#39; cookies = &#39;你的cookies&#39; param = &#39;form data构造的字典，补全网址规律&#39; resp = requests.get(url, headers=headers, cookies=cookies, data=param) 
三、定位pdf相关数据 访问得到的结果均为json数据，解析定位方法可使用python的字典方法。
    四、存储数据 几千个pdf数据量很容易达到1000&#43;M，如果长时间自动下载容易失败。...</p>
  </section>
  <footer class="entry-footer"><span title='2021-05-25 16:40:10 +0600 +0600'>2021-05-25</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;大邓</footer>
  <a class="entry-link" aria-label="post link to 深交所上交所pdf批量下载" href="/blog/%E6%8B%9B%E8%82%A1%E8%AF%B4%E6%98%8E-%E8%AF%81%E5%88%B8%E4%BA%A4%E6%98%93%E6%89%80/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover"><img loading="lazy" src="/images/blog/pandas.png" alt="">
</figure>
  <header class="entry-header">
    <h2>Pandas小案例 | 对某公司同年的某指标批量汇总
    </h2>
  </header>
  <section class="entry-content">
    <p>代码下载 点击此处下载代码
问题 如何将数据中，同一股票代码同一年的某个字段加总成一条？
我想把某公司同一年的数据var加总到一起
思路 可以通过pandas库实现这个需求
 获取公司股票代码列表 获取某公司年份列表 对某个公司同年的var进行加总 (var代指一个字段或变量) for循环对所有的公司重复2-3操作  准备数据 import numpy as np import pandas as pd #强制股票代码转为str类型 df = pd.read_excel(&#39;data.xlsx&#39;, converters={&#34;code&#34;: str}) df.head()    .dataframe tbody tr th:only-of-type { vertical-align: middle; } 代码 1. 获取公司股票代码列表 codes = df.code.unique() codes array([&#39;000001&#39;, &#39;000002&#39;, &#39;000004&#39;, &#39;000005&#39;, &#39;000006&#39;], dtype=object)  2. 获取某公司年份列表 以000001为例
years = set(df[df[&#39;code&#39;]==&#39;000001&#39;][&#39;year&#39;].values) years {2000, 2002, 2007, 2008, 2010, 2013, 2019}  3....</p>
  </section>
  <footer class="entry-footer"><span title='2021-05-20 16:40:10 +0600 +0600'>2021-05-20</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;大邓</footer>
  <a class="entry-link" aria-label="post link to Pandas小案例 | 对某公司同年的某指标批量汇总" href="/blog/pandas%E6%A1%88%E4%BE%8B%E5%85%AC%E5%8F%B8%E5%88%86%E6%9E%90/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    
    <a class="prev" href="/blog/page/17/">上一页</a>
    
    <a class="next" href="/blog/page/19/">下一页</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="/">大邓和他的PYTHON</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
