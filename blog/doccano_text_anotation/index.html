<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>doccano|为机器学习建模做数据标注 | 大邓和他的PYTHON</title>
<meta name="keywords" content="doccano, nlp, 文本分析, nlp, 自然语言处理" />
<meta name="description" content="使用doccano，为机器学习建模做数据标注">
<meta name="author" content="大邓">
<link rel="canonical" href="/blog/doccano_text_anotation/" />
<meta name="baidu-site-verification" content="code-xTk1LSyjvt" />
<meta name="360-site-verification" content="dc00b42cd1d4e0fcaa5edfd27394f9cd" />
<meta name="sogou-site-verification" content="3HDeo612Pl" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="doccano|为机器学习建模做数据标注" />
<meta property="og:description" content="使用doccano，为机器学习建模做数据标注" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/doccano_text_anotation/" />
<meta property="og:image" content="/images/blog/doccano_text_anotation.png" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-03-28T10:43:10&#43;06:00" />
<meta property="article:modified_time" content="2022-03-28T10:43:10&#43;06:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="/images/blog/doccano_text_anotation.png" />
<meta name="twitter:title" content="doccano|为机器学习建模做数据标注"/>
<meta name="twitter:description" content="使用doccano，为机器学习建模做数据标注"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "/blog/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "doccano|为机器学习建模做数据标注",
      "item": "/blog/doccano_text_anotation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "doccano|为机器学习建模做数据标注",
  "name": "doccano|为机器学习建模做数据标注",
  "description": "使用doccano，为机器学习建模做数据标注",
  "keywords": [
    "doccano", "nlp", "文本分析", "nlp", "自然语言处理"
  ],
  "articleBody": " 点击上方图片购买课程   doccano doccano是开源的数据标注工具，可以简化数据标注的难度。需要注意，市面上的机器学习课程一般都默认数据已标注，在此基础上讲机器学习。\n  您还可以将 doccano 与您的脚本集成，因为它将功能公开为API。 doccano API是在局域网内的网址链接，多台设备可打开浏览、标注。\n一、标记流程 通过以下步骤开始和完成使用 doccano 的标签项目：\n 安装doccano。 运行doccano。 设置标签项目。 选择标签项目的类型， 配置项目设置。 导入数据集。 您还可以导入带标签的数据集。 给项目添加标注人员 给标志者定义标注工作文档说明 开始标记数据。 导出标记的数据集。  二、配置环境 2.1 安装 打开命令行（cmd、terminal）执行安装命令\npip3 install doccano \n2.2 运行doccano 在命令行（cmd、terminal）内依次执行\n#在电脑第一次运行的时候初始化doccano #只需设置一次，之后不用再运行该命令 doccano init #创建用户名及密码；例如现在有一个主管admin，两个标注员tom和jack #设置好用户，之后不用再运行该命令 doccano createuser --username admin --password pass doccano createuser --username tom --password pass doccano createuser --username jack --password pass #开启doccano服务 doccano webserver 完成上述操作后，另打开一个新的命令行，执行下列命令\ndoccano task \n三、案例 下面我们以外卖评论数据为例，对评论进行判断，标注为正、负面情感。点击下载data.csv\n3.1 创建项目 先登录用户名和密码，这里的admin是超级用户(权限最大)\n  为创建项目，如图点击Create按钮。 根据需要选择合适的项目类别,这里选择的Text Classification，\n填写项目信息，例如项目名情感标注，简介、标注类型\n  根据需要选择项目的功能需求，例如允许单标签，把数据打乱随机显示， 用户之间共享标注\n  3.2 上传数据 创建项目后，点击Dataset按钮，点击Import dataset导入数据。我这里准备的是csv文件，拥有review和label两个字段。\n      3.3 定义标签 点击左侧菜单中的“Labels”按钮来定义我们的标签。 我们应该看到标签编辑器页面。 在标签编辑器页面中，您可以通过指定标签文本、快捷键、背景颜色和文本颜色来创建标签。\n    同理，可以定义负面neg标签。现在有了pos和neg两个标签。\n  3.4 添加成员 点击左侧目录中的 Members 按钮，\n  然后，选择“Add”按钮以显示表单。 使用您要添加到项目中的用户名和角色填写此表单。 然后，选择“Save”按钮。\n  如果没有可供选择的成员，记得创建成员。形如doccano createuser --username tom --password pass\n3.5 开始标注 接下来，我们准备标注文本数据。 只需点击导航栏中的“Start annotation”按钮，我们就可以开始对文档进行批注了。\n  3.6 导出数据 在注释步骤之后，我们可以下载标注后的数据。 转到“Dataset”页面，然后单击“操作”菜单中的“Export dataset”按钮。 选择导出格式后，单击“Export”。 您应该看到以下屏幕：\n  到出的结果如下\nimport pandas as pd df = pd.read_csv('all.csv') df   3.7 导出数据 对了，当标注过程不同阶段，还看查看标注工作量等可视化信息\n  ",
  "wordCount" : "122",
  "inLanguage": "en",
  "image":"/images/blog/doccano_text_anotation.png","datePublished": "2022-03-28T10:43:10+06:00",
  "dateModified": "2022-03-28T10:43:10+06:00",
  "author":{
    "@type": "Person",
    "name": "大邓"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/blog/doccano_text_anotation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "大邓和他的PYTHON",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SFGQCREQ9X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SFGQCREQ9X');
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="大邓和他的PYTHON (Alt + H)" target="_blank">大邓和他的PYTHON</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/blog" title="博文" target="_blank">
                    <span>博文</span>
                </a>
            </li>
            <li>
                <a href="/search/" title="搜索" target="_blank">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="标签" target="_blank">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="mailto:thunderhit@qq.com" title="联系" target="_blank">
                    <span>联系</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
onload="renderMathInElement(document.body);"></script>


<article class="post-single">
  <header class="post-header">
    
    <div class="breadcrumbs"><a href="/" target="_blank">Home</a>&nbsp;»&nbsp;<a href="/blog/" target="_blank">Blogs</a></div>
    <h1 class="post-title">
      doccano|为机器学习建模做数据标注
    </h1>
    <div class="post-meta"><span title='2022-03-28 10:43:10 +0600 +0600'>2022-03-28</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;大邓

</div>

    <div>
      <br>
      <ul class="post-tags">
        <li><a href="/tags/python/" target='_blank'>Python</a></li>
        <li><a href="/tags/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90/" target='_blank'>文本分析</a></li>
        <li><a href="/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85/" target='_blank'>第三方包</a></li>
      </ul>
    </div>
  </header> 
<figure class="entry-cover"><a href="/images/blog/doccano_text_anotation.png" target="_blank"
            rel="noopener noreferrer"><img loading="lazy" src="/images/blog/doccano_text_anotation.png" alt=""></a>
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#doccano" aria-label="doccano">doccano</a></li>
                <li>
                    <a href="#%e4%b8%80%e6%a0%87%e8%ae%b0%e6%b5%81%e7%a8%8b" aria-label="一、标记流程">一、标记流程</a></li>
                <li>
                    <a href="#%e4%ba%8c%e9%85%8d%e7%bd%ae%e7%8e%af%e5%a2%83" aria-label="二、配置环境">二、配置环境</a><ul>
                        
                <li>
                    <a href="#21-%e5%ae%89%e8%a3%85" aria-label="2.1 安装">2.1 安装</a></li>
                <li>
                    <a href="#22-%e8%bf%90%e8%a1%8cdoccano" aria-label="2.2 运行doccano">2.2 运行doccano</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e6%a1%88%e4%be%8b" aria-label="三、案例">三、案例</a><ul>
                        
                <li>
                    <a href="#31-%e5%88%9b%e5%bb%ba%e9%a1%b9%e7%9b%ae" aria-label="3.1 创建项目">3.1 创建项目</a></li>
                <li>
                    <a href="#32-%e4%b8%8a%e4%bc%a0%e6%95%b0%e6%8d%ae" aria-label="3.2 上传数据">3.2 上传数据</a></li>
                <li>
                    <a href="#33-%e5%ae%9a%e4%b9%89%e6%a0%87%e7%ad%be" aria-label="3.3 定义标签">3.3 定义标签</a></li>
                <li>
                    <a href="#34-%e6%b7%bb%e5%8a%a0%e6%88%90%e5%91%98" aria-label="3.4 添加成员">3.4 添加成员</a></li>
                <li>
                    <a href="#35-%e5%bc%80%e5%a7%8b%e6%a0%87%e6%b3%a8" aria-label="3.5 开始标注">3.5 开始标注</a></li>
                <li>
                    <a href="#36-%e5%af%bc%e5%87%ba%e6%95%b0%e6%8d%ae" aria-label="3.6 导出数据">3.6 导出数据</a></li>
                <li>
                    <a href="#37-%e5%af%bc%e5%87%ba%e6%95%b0%e6%8d%ae" aria-label="3.7 导出数据">3.7 导出数据</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><div style="text-align: center;">
<figure >
    <a href="https://m.qlchat.com/wechat/page/channel-intro?channelId=2000015158133596">
        <img src="/images/bg/management_data_mining_with_python_course.png" width="100%" />
    </a>
    <figcaption><small><i>点击上方图片购买课程</i></small></figcaption>
</figure>
</div>
<br>
<h2 id="doccano">doccano<a hidden class="anchor" aria-hidden="true" href="#doccano">#</a></h2>
<p>doccano是开源的数据标注工具，可以简化数据标注的难度。需要注意，市面上的机器学习课程一般都默认数据已标注，在此基础上讲机器学习。</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/doccano.gif" width="100%" />
    
    
</figure>
</div>
<p>您还可以将 doccano 与您的脚本集成，因为它将功能公开为API。 doccano API是在局域网内的网址链接，多台设备可打开浏览、标注。</p>
<br>
<h2 id="一标记流程">一、标记流程<a hidden class="anchor" aria-hidden="true" href="#一标记流程">#</a></h2>
<p>通过以下步骤开始和完成使用 doccano 的标签项目：</p>
<ol>
<li>安装doccano。</li>
<li>运行doccano。</li>
<li>设置标签项目。 选择标签项目的类型， 配置项目设置。</li>
<li>导入数据集。 您还可以导入带标签的数据集。</li>
<li>给项目添加<strong>标注人员</strong></li>
<li>给标志者定义标注工作文档说明</li>
<li>开始标记数据。</li>
<li>导出标记的数据集。</li>
</ol>
<br>
<h2 id="二配置环境">二、配置环境<a hidden class="anchor" aria-hidden="true" href="#二配置环境">#</a></h2>
<h3 id="21-安装">2.1 安装<a hidden class="anchor" aria-hidden="true" href="#21-安装">#</a></h3>
<p>打开命令行（cmd、terminal）执行安装命令</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install doccano
</code></pre></div><br>
<h3 id="22-运行doccano">2.2 运行doccano<a hidden class="anchor" aria-hidden="true" href="#22-运行doccano">#</a></h3>
<p>在命令行（cmd、terminal）内依次执行</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">#在电脑第一次运行的时候初始化doccano
#只需设置一次，之后不用再运行该命令
doccano init

#创建用户名及密码；例如现在有一个主管admin，两个标注员tom和jack
#设置好用户，之后不用再运行该命令
doccano createuser --username admin --password pass
doccano createuser --username tom --password pass
doccano createuser --username jack --password pass

#开启doccano服务
doccano webserver
</code></pre></div><p>完成上述操作后，另打开一个新的命令行，执行下列命令</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">doccano task
</code></pre></div><br>
<h2 id="三案例">三、案例<a hidden class="anchor" aria-hidden="true" href="#三案例">#</a></h2>
<p>下面我们以外卖评论数据为例，对评论进行判断，标注为正、负面情感。<a href="data.csv">点击下载data.csv</a></p>
<br>
<h3 id="31-创建项目">3.1 创建项目<a hidden class="anchor" aria-hidden="true" href="#31-创建项目">#</a></h3>
<p>先登录用户名和密码，这里的admin是超级用户(权限最大)</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/signin.png" width="100%" />
    
    
</figure>
</div>
<p>为创建项目，如图点击<strong>Create</strong>按钮。 根据需要选择合适的项目类别,这里选择的<strong>Text  Classification，</strong></p>
<p><strong>填写项目信息</strong>，例如项目名情感标注，简介、标注类型</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/create_project.png" width="100%" />
    
    
</figure>
</div>
<p>根据需要选择项目的功能需求，例如允许单标签，把数据打乱随机显示， 用户之间共享标注</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/create_project2.png" width="100%" />
    
    
</figure>
</div>
<br>
<h3 id="32-上传数据">3.2 上传数据<a hidden class="anchor" aria-hidden="true" href="#32-上传数据">#</a></h3>
<p>创建项目后，点击<strong>Dataset</strong>按钮，点击<strong>Import dataset</strong>导入数据。我这里准备的是csv文件，拥有review和label两个字段。</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/import_dataset1.png" width="100%" />
    
    
</figure>
</div>
<div style="text-align: center;">
<figure >
    
        <img src="img/import_dataset2.png" width="100%" />
    
    
</figure>
</div>
<div style="text-align: center;">
<figure >
    
        <img src="img/import_dataset3.png" width="100%" />
    
    
</figure>
</div>
<br>
<h3 id="33-定义标签">3.3 定义标签<a hidden class="anchor" aria-hidden="true" href="#33-定义标签">#</a></h3>
<p>点击左侧菜单中的“<strong>Labels</strong>”按钮来定义我们的标签。 我们应该看到标签编辑器页面。 在标签编辑器页面中，您可以通过指定标签文本、快捷键、背景颜色和文本颜色来创建标签。</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/define_labels.png" width="100%" />
    
    
</figure>
</div>
<div style="text-align: center;">
<figure >
    
        <img src="img/define_labels1.png" width="100%" />
    
    
</figure>
</div>
<p>同理，可以定义负面neg标签。现在有了pos和neg两个标签。</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/define_labels3.png" width="100%" />
    
    
</figure>
</div>
<br>
<h3 id="34-添加成员">3.4 添加成员<a hidden class="anchor" aria-hidden="true" href="#34-添加成员">#</a></h3>
<p>点击左侧目录中的 <code>Members</code> 按钮，</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/select_members.png" width="100%" />
    
    
</figure>
</div>
<p>然后，选择“<strong>Add</strong>”按钮以显示表单。 使用您要添加到项目中的用户名和角色填写此表单。 然后，选择“<strong>Save</strong>”按钮。</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/select_user.png" width="100%" />
    
    
</figure>
</div>
<p>如果没有可供选择的成员，记得创建成员。形如<code>doccano createuser --username tom --password pass</code></p>
<br>
<h3 id="35-开始标注">3.5 开始标注<a hidden class="anchor" aria-hidden="true" href="#35-开始标注">#</a></h3>
<p>接下来，我们准备标注文本数据。 只需点击导航栏中的“<strong>Start annotation</strong>”按钮，我们就可以开始对文档进行批注了。</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/annotation.png" width="100%" />
    
    
</figure>
</div>
<br>
<h3 id="36-导出数据">3.6 导出数据<a hidden class="anchor" aria-hidden="true" href="#36-导出数据">#</a></h3>
<p>在注释步骤之后，我们可以下载标注后的数据。 转到“<strong>Dataset</strong>”页面，然后单击“操作”菜单中的“<strong>Export dataset</strong>”按钮。 选择导出格式后，单击“<strong>Export</strong>”。 您应该看到以下屏幕：</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/export_dataset.png" width="100%" />
    
    
</figure>
</div>
<p>到出的结果如下</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;all.csv&#39;</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div><div style="text-align: center;">
<figure >
    
        <img src="img/export_dataset2.png" width="100%" />
    
    
</figure>
</div>
<br>
<h3 id="37-导出数据">3.7 导出数据<a hidden class="anchor" aria-hidden="true" href="#37-导出数据">#</a></h3>
<p>对了，当标注过程不同阶段，还看查看标注工作量等可视化信息</p>
<div style="text-align: center;">
<figure >
    
        <img src="img/vis.png" width="100%" />
    
    
</figure>
</div>


  </div>

  <footer class="post-footer">

  </footer><script src="https://utteranc.es/client.js"
        repo="hiDaDeng/hidadeng.github.io"
        issue-term="pathname"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="/">大邓和他的PYTHON</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
