<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Jaal库~轻松绘制动态社交网络关系图 | 大邓和他的PYTHON</title>
<meta name="keywords" content="Python, 第三方包, 数据分析" />
<meta name="description" content="最简单好用的社交网络可视化包">
<meta name="author" content="大邓">
<link rel="canonical" href="/blog/jaal%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%E5%8F%AF%E8%A7%86%E5%8C%96/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Jaal库~轻松绘制动态社交网络关系图" />
<meta property="og:description" content="最简单好用的社交网络可视化包" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/jaal%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%E5%8F%AF%E8%A7%86%E5%8C%96/" />
<meta property="og:image" content="/images/blog/Practical-Text-Classification-with-Keras-and-Python_Watermark.fe326bd75146.jpg" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-05-08T16:40:10&#43;06:00" />
<meta property="article:modified_time" content="2021-05-08T16:40:10&#43;06:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="/images/blog/Practical-Text-Classification-with-Keras-and-Python_Watermark.fe326bd75146.jpg" />
<meta name="twitter:title" content="Jaal库~轻松绘制动态社交网络关系图"/>
<meta name="twitter:description" content="最简单好用的社交网络可视化包"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "/blog/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Jaal库~轻松绘制动态社交网络关系图",
      "item": "/blog/jaal%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%E5%8F%AF%E8%A7%86%E5%8C%96/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Jaal库~轻松绘制动态社交网络关系图",
  "name": "Jaal库~轻松绘制动态社交网络关系图",
  "description": "最简单好用的社交网络可视化包",
  "keywords": [
    "Python", "第三方包", "数据分析"
  ],
  "articleBody": "Jaal是基于Dash和Visdcc构建的可交互的Python社交网络库。由于底层使用了dash，所以我们可以认为jaal更像是一个仪表盘。基于此，jaal也提供了多种处理网络数据的可选项，例如搜索、过滤、给节点（边）上色等。所有的操作，两三行代码即可搞定。\n!pip3 install jaal 一、快速上手 本文准备了《权利的游戏》的节点nodes.csv和边edges.csv数据， 可以使用jaal的plot()函数绘制《权利的游戏》关系网络图。 必须有的字段，这里加粗了 nodes.csv数据含\n from: 节点 to: 节点 weight: 边权重 strenth:  edges.csv数据\n id 节点id，姓名 gender 节点的性别    import pandas as pd from jaal import Jaal edge_df = pd.read_csv('edges.csv') node_df = pd.read_csv('nodes.csv') Jaal(edge_df, node_df).plot() 运行代码后，会生成一个本地服务链接，例如 http://127.0.0.1:8050/ ， 点击链接，浏览器就能看到\n  二、Jaal功能  设置面板 Jaal运行产生的浏览器界面左侧会有一个设置面板，可以对数据进行搜索、筛选、上色。 搜索 可以高亮搜索到的节点 过滤 支持pandas的query语法 上色 基于类别，对节点、边进行上色。能最多支持20个类别，即节点、边数据允许有20种属性  三、 案例 3.1 搜索 第一个选项是搜索，我们可以在其中搜索图中的特定节点。 它支持在节点标签上逐字符搜索。 以下是我们尝试搜索“ Arya”的示例\n  3.2 过滤 接下来，我们进行过滤。 Jaal支持在节点和边要素上都进行过滤的选项。 为此，我们提供了单独的文本区域。 下面我们可以看到节点和边缘过滤查询的实时效果。\n  3.3 染色 最后，我们可能希望查看任何功能的整体分布，而不是进行过滤。 目前，Jaal通过提供根据任何分类特征为节点或边缘着色的选项来解决此问题。 我们可以在下面看到一个真实的例子。\n  四、 代码获取  直接下载 github更多代码  ",
  "wordCount" : "73",
  "inLanguage": "en",
  "image":"/images/blog/Practical-Text-Classification-with-Keras-and-Python_Watermark.fe326bd75146.jpg","datePublished": "2021-05-08T16:40:10+06:00",
  "dateModified": "2021-05-08T16:40:10+06:00",
  "author":{
    "@type": "Person",
    "name": "大邓"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/blog/jaal%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%E5%8F%AF%E8%A7%86%E5%8C%96/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "大邓和他的PYTHON",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="大邓和他的PYTHON (Alt + H)">大邓和他的PYTHON</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="/home/" title="HiResearch">
                    <span>HiResearch</span>
                </a>
            </li>
            <li>
                <a href="/blog" title="博文">
                    <span>博文</span>
                </a>
            </li>
            <li>
                <a href="/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="mailto:thunderhit@qq.com" title="联系">
                    <span>联系</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <div class="breadcrumbs"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/blog/">Blogs</a></div>
    <h1 class="post-title">
      Jaal库~轻松绘制动态社交网络关系图
    </h1>
    <div class="post-description">
      最简单好用的社交网络可视化包
    </div>
    <div class="post-meta"><span title='2021-05-08 16:40:10 +0600 +0600'>2021-05-08</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;大邓

</div>
  </header> 
<figure class="entry-cover"><a href="/images/blog/Practical-Text-Classification-with-Keras-and-Python_Watermark.fe326bd75146.jpg" target="_blank"
            rel="noopener noreferrer"><img loading="lazy" src="/images/blog/Practical-Text-Classification-with-Keras-and-Python_Watermark.fe326bd75146.jpg" alt=""></a>
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e4%b8%80%e5%bf%ab%e9%80%9f%e4%b8%8a%e6%89%8b" aria-label="一、快速上手">一、快速上手</a><ul>
                        
                <li>
                    <a href="#%e4%ba%8cjaal%e5%8a%9f%e8%83%bd" aria-label="二、Jaal功能">二、Jaal功能</a></li>
                <li>
                    <a href="#%e4%b8%89-%e6%a1%88%e4%be%8b" aria-label="三、 案例">三、 案例</a><ul>
                        
                <li>
                    <a href="#31-%e6%90%9c%e7%b4%a2" aria-label="3.1 搜索">3.1 搜索</a></li>
                <li>
                    <a href="#32-%e8%bf%87%e6%bb%a4" aria-label="3.2 过滤">3.2 过滤</a></li>
                <li>
                    <a href="#33-%e6%9f%93%e8%89%b2" aria-label="3.3 染色">3.3 染色</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b-%e4%bb%a3%e7%a0%81%e8%8e%b7%e5%8f%96" aria-label="四、 代码获取">四、 代码获取</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Jaal是基于Dash和Visdcc构建的可交互的Python社交网络库。由于底层使用了dash，所以我们可以认为jaal更像是一个仪表盘。基于此，jaal也提供了多种处理网络数据的可选项，例如搜索、过滤、给节点（边）上色等。所有的操作，两三行代码即可搞定。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="err">!</span><span class="n">pip3</span> <span class="n">install</span> <span class="n">jaal</span>
</code></pre></div><h2 id="一快速上手">一、快速上手<a hidden class="anchor" aria-hidden="true" href="#一快速上手">#</a></h2>
<p>本文准备了《权利的游戏》的节点nodes.csv和边edges.csv数据， 可以使用jaal的plot()函数绘制《权利的游戏》关系网络图。 必须有的字段，这里加粗了
nodes.csv数据含</p>
<ul>
<li><strong>from</strong>: 节点</li>
<li><strong>to</strong>:  节点</li>
<li>weight: 边权重</li>
<li>strenth:</li>
</ul>
<p>edges.csv数据</p>
<ul>
<li><strong>id</strong> 节点id，姓名</li>
<li>gender 节点的性别</li>
</ul>
<figure>
    <img loading="lazy" src="img/%e6%9d%83%e5%88%a9%e7%9a%84%e6%b8%b8%e6%88%8f.png" width="800"/> 
</figure>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">jaal</span> <span class="kn">import</span> <span class="n">Jaal</span>

<span class="n">edge_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;edges.csv&#39;</span><span class="p">)</span>
<span class="n">node_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;nodes.csv&#39;</span><span class="p">)</span>
<span class="n">Jaal</span><span class="p">(</span><span class="n">edge_df</span><span class="p">,</span> <span class="n">node_df</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</code></pre></div><p>运行代码后，会生成一个本地服务链接，例如 http://127.0.0.1:8050/ ， 点击链接，浏览器就能看到</p>
<figure>
    <img loading="lazy" src="img/%e7%bd%91%e7%bb%9c%e5%9b%be.png" width="800"/> 
</figure>

<h3 id="二jaal功能">二、Jaal功能<a hidden class="anchor" aria-hidden="true" href="#二jaal功能">#</a></h3>
<ul>
<li><strong>设置面板</strong>  Jaal运行产生的浏览器界面左侧会有一个设置面板，可以对数据进行搜索、筛选、上色。</li>
<li><strong>搜索</strong> 可以高亮搜索到的节点</li>
<li><strong>过滤</strong> 支持pandas的query语法</li>
<li><strong>上色</strong> 基于类别，对节点、边进行上色。能最多支持20个类别，即节点、边数据允许有20种属性</li>
</ul>
<h3 id="三-案例">三、 案例<a hidden class="anchor" aria-hidden="true" href="#三-案例">#</a></h3>
<h4 id="31-搜索">3.1 搜索<a hidden class="anchor" aria-hidden="true" href="#31-搜索">#</a></h4>
<p>第一个选项是搜索，我们可以在其中搜索图中的特定节点。 它支持在节点标签上逐字符搜索。 以下是我们尝试搜索“ Arya”的示例</p>
<figure>
    <img loading="lazy" src="img/search.gif" width="800"/> 
</figure>

<h4 id="32-过滤">3.2 过滤<a hidden class="anchor" aria-hidden="true" href="#32-过滤">#</a></h4>
<p>接下来，我们进行过滤。 Jaal支持在节点和边要素上都进行过滤的选项。 为此，我们提供了单独的文本区域。 下面我们可以看到节点和边缘过滤查询的实时效果。</p>
<figure>
    <img loading="lazy" src="img/filter.gif" width="800"/> 
</figure>

<h4 id="33-染色">3.3 染色<a hidden class="anchor" aria-hidden="true" href="#33-染色">#</a></h4>
<p>最后，我们可能希望查看任何功能的整体分布，而不是进行过滤。 目前，Jaal通过提供根据任何分类特征为节点或边缘着色的选项来解决此问题。 我们可以在下面看到一个真实的例子。</p>
<figure>
    <img loading="lazy" src="img/color.gif" width="800"/> 
</figure>

<h2 id="四-代码获取">四、 代码获取<a hidden class="anchor" aria-hidden="true" href="#四-代码获取">#</a></h2>
<ol>
<li><a href="%E4%BB%A3%E7%A0%81%E6%95%B0%E6%8D%AE.zip"><strong>直接下载</strong></a></li>
<li><a href="https://github.com/thunderhit/DaDengAndHisPython">github更多代码</a></li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/python/">Python</a></li>
      <li><a href="/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85/">第三方包</a></li>
      <li><a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></li>
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="/">大邓和他的PYTHON</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
